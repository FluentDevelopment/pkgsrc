$NetBSD: patch-ah,v 1.1 2004/12/12 23:51:10 kleink Exp $

--- src/racoon/backupsa.c.orig	2004-09-21 16:23:11.000000000 +0200
+++ src/racoon/backupsa.c	2004-12-13 00:45:11.000000000 +0100
@@ -250,7 +250,7 @@
 		created = mktime(&tm);
 		p++;
 
-		for (q = p; *q != '\0' && !isspace(*q); q++)
+		for (q = p; *q != '\0' && !isspace((unsigned char)*q); q++)
 			;
 		*q = '\0';
 		src = str2saddr(p, NULL);
@@ -258,7 +258,7 @@
 			goto err;
 		p = q + 1;
 
-		for (q = p; *q != '\0' && !isspace(*q); q++)
+		for (q = p; *q != '\0' && !isspace((unsigned char)*q); q++)
 			;
 		*q = '\0';
 		dst = str2saddr(p, NULL);
@@ -271,7 +271,7 @@
 #define GETNEXTNUM(value, function) \
 do { \
 	char *y; \
-	for (q = p; *q != '\0' && !isspace(*q); q++) \
+	for (q = p; *q != '\0' && !isspace((unsigned char)*q); q++) \
 		; \
 	*q = '\0'; \
 	(value) = function(p, &y, 10); \
@@ -453,7 +453,7 @@
 
 	res = 0;
         for (i = len; i > 0; i--) {
-		if (!isdigit(*p))
+		if (!isdigit((unsigned char)*p))
 			return -1;
 		res *= 10;
 		res += *p - '0';
