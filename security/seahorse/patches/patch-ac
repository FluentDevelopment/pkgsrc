$NetBSD: patch-ac,v 1.1 2005/03/16 12:04:12 rillig Exp $

gcc-2.95.3 does not like code intermixed with declarations.

--- libseahorse/seahorse-key-store.c.orig	Fri Oct 29 23:56:12 2004
+++ libseahorse/seahorse-key-store.c	Wed Mar 16 10:54:37 2005
@@ -184,6 +184,8 @@ seahorse_key_store_constructor (GType ty
 {
     GObject* obj = G_OBJECT_CLASS (parent_class)->constructor (type, n_props, props);
     SeahorseKeyStore* skstore = SEAHORSE_KEY_STORE (obj);
+    guint cols;
+    GType *types;
 
     /* init private vars */
     skstore->priv = g_new0 (SeahorseKeyStorePriv, 1);
@@ -191,8 +193,8 @@ seahorse_key_store_constructor (GType ty
                                        NULL, (GDestroyNotify)seahorse_key_row_free);
  
     /* Setup the store */
-    guint cols = SEAHORSE_KEY_STORE_GET_CLASS (skstore)->n_columns;
-    GType* types = (GType*)SEAHORSE_KEY_STORE_GET_CLASS (skstore)->col_types;
+    cols = SEAHORSE_KEY_STORE_GET_CLASS (skstore)->n_columns;
+    types = (GType*)SEAHORSE_KEY_STORE_GET_CLASS (skstore)->col_types;
     gtk_tree_store_set_column_types (GTK_TREE_STORE (obj), cols, types);
     
     /* Setup the sort and filter */
