$NetBSD: patch-aa,v 1.5 2004/10/20 20:45:55 jmmv Exp $

--- agent/seahorse-agent.c.orig	2004-10-15 00:12:08.000000000 +0200
+++ agent/seahorse-agent.c
@@ -264,8 +264,12 @@ main (int argc, char *argv[])
     secmem_init (65536);
 
     /* We need to drop privileges completely for security */
+#ifdef _GNU_SOURCE
     if (setresuid (getuid (), getuid (), getuid ()) == -1 ||
         setresgid (getgid (), getgid (), getgid ()) == -1)
+#else
+    if (setuid (getuid ()) == -1 || setgid (getgid ()) == -1)
+#endif
         err (1, _("couldn't drop privileges properly"));
 
     gtk_init (&argc, &argv);
