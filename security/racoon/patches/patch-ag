--- ../libipsec/key_debug.c-	Sat Jul 12 18:49:46 2003
+++ ../libipsec/key_debug.c	Sat Jul 12 18:50:25 2003
@@ -80,7 +80,9 @@
 static void kdebug_sadb_address __P((struct sadb_ext *));
 static void kdebug_sadb_key __P((struct sadb_ext *));
 static void kdebug_sadb_x_sa2 __P((struct sadb_ext *));
+#ifdef SADB_X_EXT_TAG
 static void kdebug_sadb_x_tag __P((struct sadb_ext *));
+#endif
 
 #ifdef _KERNEL
 static void kdebug_secreplay __P((struct secreplay *));
@@ -166,7 +168,9 @@
 		TYPESTR(X_EXT_KMPRIVATE),
 		TYPESTR(X_EXT_POLICY),
 		TYPESTR(X_EXT_SA2),
+#ifdef SADB_X_EXT_TAG
 		TYPESTR(X_EXT_TAG),
+#endif
 		{ NULL }
 	};
 
@@ -252,9 +256,11 @@
 		case SADB_X_EXT_SA2:
 			kdebug_sadb_x_sa2(ext);
 			break;
+#ifdef SADB_X_EXT_TAG
 		case SADB_X_EXT_TAG:
 			kdebug_sadb_x_tag(ext);
 			break;
+#endif
 		default:
 			printf("kdebug_sadb: invalid ext_type %u was passed.\n",
 			    ext->sadb_ext_type);
@@ -494,6 +500,7 @@
 	return;
 }
 
+#ifdef SADB_X_EXT_TAG
 static void
 kdebug_sadb_x_tag(ext)
 	struct sadb_ext *ext;
@@ -508,6 +515,7 @@
 
 	return;
 }
+#endif
 
 void
 kdebug_sadb_x_policy(ext)
