#! /bin/sh
#
# $NetBSD: INSTALL,v 1.3 2004/09/06 10:44:44 martti Exp $

PKGNAME=$1
STAGE=$2

CAT="@CAT@"
CHMOD="@CHMOD@"
CP="@CP@"
MKDIR="@MKDIR@"

SAMPLECONFDIR=${PKG_PREFIX}/share/examples/LPRng
CONFDIR="@PKG_SYSCONFDIR@"
CONFFILES="lpd.conf lpd.perms"
NONCONFFILES="printcap"

case ${STAGE} in
POST-INSTALL)
	echo "Installing configuration files:"
	${MKDIR} ${CONFDIR}/lpd
	for file in ${CONFFILES}
	do
		FILE=${CONFDIR}/lpd/${file}
		SAMPLEFILE=${SAMPLECONFDIR}/${file}.example
		if [ -f ${FILE} ]
		then
			echo "    ${FILE} already exists"
		else
			echo "    ${FILE}"
			${CP} ${SAMPLEFILE} ${FILE}
			${CHMOD} 644 ${FILE}
		fi
	done
	for file in ${NONCONFFILES}
	do
		FILE=${CONFDIR}/${file}
		SAMPLEFILE=${SAMPLECONFDIR}/${file}.example
		if [ -f ${FILE} ]
		then
			echo "    ${FILE} already exists"
		else
			echo "    ${FILE}"
			${CP} ${SAMPLEFILE} ${FILE}
			${CHMOD} 644 ${FILE}
		fi
	done
	${CAT} << EOF

===========================================================================
Some files you might need to customize include the following:

EOF
	for file in ${CONFFILES}
	do
		FILE=${CONFDIR}/lpd/${file}
		echo "	${FILE}"
	done
	for file in ${NONCONFFILES}
	do
		FILE=${CONFDIR}/${file}
		echo "	${FILE}"
	done
	${CAT} << EOF
===========================================================================
EOF
	;;
esac
exit 0
