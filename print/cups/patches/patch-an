$NetBSD: patch-an,v 1.3 2002/12/19 22:24:55 jlam Exp $

--- config-scripts/cups-directories.m4.orig	Thu Oct 17 13:05:37 2002
+++ config-scripts/cups-directories.m4
@@ -28,6 +28,7 @@ AC_ARG_WITH(fontpath, [  --with-fontpath
 AC_ARG_WITH(docdir, [  --with-docdir           set path for documentation],docdir="$withval",docdir="")
 AC_ARG_WITH(logdir, [  --with-logdir           set path for log files],logdir="$withval",logdir="")
 AC_ARG_WITH(rcdir, [  --with-rcdir            set path for rc scripts],rcdir="$withval",rcdir="")
+AC_ARG_WITH(serverbindir, [  --with-serverbindir     set path for server helper programs],serverbindir="$withval",serverbindir="")
 
 dnl Fix "prefix" variable if it hasn't been specified...
 if test "$prefix" = "NONE"; then
@@ -174,20 +175,23 @@ else
 fi
 
 dnl See what directory to put server executables...
-case "$uname" in
-	*BSD* | Darwin*)
-		# *BSD and Darwin (MacOS X)
-		INSTALL_SYSV=""
-		CUPS_SERVERBIN="$exec_prefix/libexec/cups"
-		AC_DEFINE_UNQUOTED(CUPS_SERVERBIN, "$exec_prefix/libexec/cups")
-		;;
-	*)
-		# All others
-		INSTALL_SYSV="install-sysv"
-		CUPS_SERVERBIN="$libdir/cups"
-		AC_DEFINE_UNQUOTED(CUPS_SERVERBIN, "$libdir/cups")
-		;;
-esac
+if test x$serverbindir = x; then
+	case "$uname" in
+		*BSD* | Darwin*)
+			# *BSD and Darwin (MacOS X)
+			CUPS_SERVERBIN="$exec_prefix/libexec/cups"
+			AC_DEFINE_UNQUOTED(CUPS_SERVERBIN, "$exec_prefix/libexec/cups")
+			;;
+		*)
+			# All others
+			CUPS_SERVERBIN="$libdir/cups"
+			AC_DEFINE_UNQUOTED(CUPS_SERVERBIN, "$libdir/cups")
+			;;
+	esac
+else
+	CUPS_SERVERBIN="$serverbindir"
+	AC_DEFINE_UNQUOTED(CUPS_SERVERBIN, "$serverbindir")
+fi
 
 AC_SUBST(INSTALL_SYSV)
 AC_SUBST(CUPS_SERVERROOT)
