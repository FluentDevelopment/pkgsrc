$NetBSD: patch-ah,v 1.12 2001/12/10 07:41:24 jmc Exp $

--- pstoraster/genarch.c.orig	Wed Mar  8 23:14:26 2000
+++ pstoraster/genarch.c	Mon Dec 10 06:28:12 2001
@@ -154,7 +154,11 @@
     /* Some machines can't handle a variable shift by */
     /* the full width of a long. */
     fprintf(f, "#define arch_can_shift_full_long %d\n",
+#if defined(__NetBSD__) && defined(__powerpc__)
+	    (um1 >> (lwidth / 2)) >> (lwidth / 2) == 0);
+#else
 	    um1 >> lwidth == 0);
+#endif
 
 /* ---------------- Done. ---------------- */
 
