$NetBSD: patch-ac,v 1.1 2002/03/23 16:32:33 simonb Exp $

--- xpdf/XOutputDev.cc.orig	Sat Feb  2 10:15:45 2002
+++ xpdf/XOutputDev.cc
@@ -399,8 +399,12 @@
     for (i = 0; i < uLen; ++i) {
       n += xUMap->mapUnicode(u[i], buf, sizeof(buf));
     }
-    dx1 = dx / n;
-    dy1 = dy / n;
+    if (n == 0) {
+      dx1 = dy1 = 0.;
+    } else {
+      dx1 = dx / n;
+      dy1 = dy / n;
+    }
     k = 0;
     for (i = 0; i < uLen; ++i) {
       m = xUMap->mapUnicode(u[i], buf, sizeof(buf));
