$NetBSD: patch-aa,v 1.2 2005/07/08 19:23:28 hubertf Exp $

--- install.orig	2005-03-03 13:25:29.000000000 +0100
+++ install
@@ -17,7 +17,7 @@ if(-e '/dev/null') {
     $pathsep = ':';
     $dirsep = '/';
     $sys = 'unix';
-    $prefix = '/usr/local';
+    $prefix = $ARGV[0];
 } elsif (-e 'nul') {
     $pathsep = ';';
     $dirsep = '\\';
@@ -57,8 +57,8 @@ where the abovementioned packages are. Y
 the directories where the files should be placed.
 EOD
 
-&getval($goon, "y", "\nDo you want to proceed with the installation?");
-die "\n" if($goon!~/^y/i);
+#&getval($goon, "y", "\nDo you want to proceed with the installation?");
+#die "\n" if($goon!~/^y/i);
 
 print "\n";
 for $req (@perl) {
@@ -134,19 +134,20 @@ if(@reqpath) {
 
 chop ($cd = `pwd`);
 
-&getval($ans, "y",
- "\nBy default all files will be installed in subdirectories 'bin', 'lib',\n"
- ."and 'man' in a common directory. Is this OK?");
-$def = $ans=~/^y/i;
-
-if($def) {
-    &getval($prefix, "$prefix", "\nEnter the name of this directory");
-    &fixdir($prefix);
-    while(!&goodprefix) {
-	&getval($prefix, "$prefix", "\nEnter a new directory name");
-    }
-    &makedir($prefix,0);
-}
+#&getval($ans, "y",
+# "\nBy default all files will be installed in subdirectories 'bin', 'lib',\n"
+# ."and 'man' in a common directory. Is this OK?");
+#$def = $ans=~/^y/i;
+$def = 1;
+
+#if($def) {
+#    &getval($prefix, "$prefix", "\nEnter the name of this directory");
+#    &fixdir($prefix);
+#    while(!&goodprefix) {
+#	&getval($prefix, "$prefix", "\nEnter a new directory name");
+#    }
+#    &makedir($prefix,0);
+#}
 
 if($def) {
     $bindir = "$prefix${dirsep}bin";
@@ -198,7 +199,7 @@ $cophy = 1;
 if($exist{'TeX'}) {
     $hfile = "";
     ($texdir = $dir{'TeX'}) =~ s|/bin$||;
-    SW:for("texmf/tex/generic/hyphen","macros","inputs","lib/macros",
+    SW:for("share/texmf/tex/generic/hyphen","macros","inputs","lib/macros",
         "lib/inputs","lib/tex/macros","lib/tex/inputs") {
         if(-f "$texdir/$_/ushyph1.tex") {
             $hyph = "$texdir/$_";
@@ -212,15 +213,15 @@ if($exist{'TeX'}) {
         }
     }
     if($hfile) {
-        &getval($hdef, "y", "$ht I believe that I have found\nthe pattern "
-         ."file for English in your TeX installation:\n\n  "
-         ."$hfile\n\nWould you like to use this instead of the "
-         ."file included with html2ps?");
-        if($hdef=~/^y/i) {
+#        &getval($hdef, "y", "$ht I believe that I have found\nthe pattern "
+#         ."file for English in your TeX installation:\n\n  "
+#         ."$hfile\n\nWould you like to use this instead of the "
+#         ."file included with html2ps?");
+#        if($hdef=~/^y/i) {
             $cophy = 0;
-        } else {
-            $hfile = "";
-        }
+#        } else {
+#            $hfile = "";
+#        }
     } else {
         &getval($hfile, "", "$ht I cannot find the pattern\nfile for English "
          ."in your TeX installation. (It should be called\n'hyphen.tex', "
@@ -268,12 +269,13 @@ if($def) {
 }
 &makedir($html,$def);
 
-$paper = "";
-&getval($format, "A4",
- "\nEnter the default paper type, possible choices are:\nA0, A1, A2, A3, A4,"
- ." A5, A6, A7, A8, A9, A10,\nB0, B1, B2, B3, B4, B5, B6, B7, B8, B9, B10,\n"
- ."letter, legal, arche, archd, archc, archb, archa,\nflsa, flse, halfletter,"
- ." 11x17, ledger, other");
+$format = "letter";
+#$paper = "";
+#&getval($format, "A4",
+# "\nEnter the default paper type, possible choices are:\nA0, A1, A2, A3, A4,"
+# ." A5, A6, A7, A8, A9, A10,\nB0, B1, B2, B3, B4, B5, B6, B7, B8, B9, B10,\n"
+# ."letter, legal, arche, archd, archc, archb, archa,\nflsa, flse, halfletter,"
+# ." 11x17, ledger, other");
 if($format !~ /^other$/i) {
     $paper .= "    type: $format;";
 } else {
