#!/bin/sh
#
# $NetBSD: INSTALL,v 1.1 2001/11/01 02:17:07 zuntum Exp $

PKGNAME=$1
STAGE=$2

CHMOD="@CHMOD@"
CP="@CP@"

SERVERROOT=${PKG_PREFIX}/tomcat/conf
SAMPLECONFDIR=${SERVERROOT}
CONFDIR=${SERVERROOT}
CONFFILES="server.xml web.xml tomcat-users.xml jni_server.xml tomcat.policy workers.properties"

case ${STAGE} in
PRE-INSTALL)
	;;

POST-INSTALL)
	echo "Installing configuration files:"
	for file in ${CONFFILES}
	do
		FILE=${CONFDIR}/${file}
		SAMPLEFILE=${SAMPLECONFDIR}/${file}.default
		if [ -f ${FILE} ]
		then
			echo "    ${FILE} already exists"
		else
			echo "    ${FILE}"
			${CP} ${SAMPLEFILE} ${FILE}
			${CHMOD} 644 ${FILE}
		fi
	done
	;;

*)
	echo "Unexpected argument: ${STAGE}"
	exit 1
	;;
esac
exit 0
