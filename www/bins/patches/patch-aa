$NetBSD: patch-aa,v 1.7 2002/10/19 18:16:40 dmcmahill Exp $

--- bins.orig	Sat Sep 21 09:50:14 2002
+++ bins
@@ -86,7 +86,7 @@ sub _; # alias for Getext, if present
 ############################################################################
 
 # I18N
-my $localePath = "/usr/local/share/locale"; # Base locale path  (for I18N)
+my $localePath = "@pkglocaledir@"; # Base locale path  (for I18N)
 
 my $I18N = have_package("Locale::gettext");
 if ($I18N) {
@@ -301,7 +301,7 @@ my %defaultConfig =
    # any new options need corresponding new documentation.
 
    # The following parameters cannot be set in config files for now :
-   globalConfigDir => "/etc/bins",     # System wide
+   globalConfigDir => "@pkgsysconfdir@/bins",     # System wide
                                        # configuration directory.
    userConfigDir    => "~/.bins",      # User configuration directory
    configFileName   => "binsrc",       # Configuration file.
@@ -322,7 +322,7 @@ my %defaultConfig =
 # normally, you don't have to touch that...
 my $localEncoding = `locale charmap`;
 # ANSI is unspeakably primitive, keep LATIN1 instead
-if ($localEncoding && ($localEncoding ne "ANSI_X3.4-1968")) {
+if ($? == 0 && $localEncoding && ($localEncoding ne "ANSI_X3.4-1968")) {
   chop($localEncoding);
   $defaultConfig{defaultEncoding} = $localEncoding;
   beVerboseN("Forcing encoding to $localEncoding", 2);
