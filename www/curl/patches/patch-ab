$NetBSD: patch-ab,v 1.4 2003/02/09 08:46:36 shell Exp $

--- lib/ftp.c.orig	Sun Feb  9 16:35:53 2003
+++ lib/ftp.c
@@ -1998,12 +1998,13 @@ CURLcode ftp_perform(struct connectdata 
 
 #ifdef HAVE_STRFTIME
     if(data->set.get_filetime && (data->info.filetime>=0) ) {
+      time_t filetime = data->info.filetime;
       struct tm *tm;
 #ifdef HAVE_LOCALTIME_R
       struct tm buffer;
-      tm = (struct tm *)localtime_r(&data->info.filetime, &buffer);
+      tm = (struct tm *)localtime_r(&filetime, &buffer);
 #else
-      tm = localtime((unsigned long *)&data->info.filetime);
+      tm = localtime(&filetime);
 #endif
       /* format: "Tue, 15 Nov 1994 12:45:26 GMT" */
       strftime(buf, BUFSIZE-1, "Last-Modified: %a, %d %b %Y %H:%M:%S %Z\r\n",
