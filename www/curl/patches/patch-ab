$NetBSD: patch-ab,v 1.7 2003/12/07 13:28:33 wiz Exp $

--- lib/ftp.c.orig	Fri Oct 31 22:36:43 2003
+++ lib/ftp.c
@@ -2097,11 +2097,12 @@ CURLcode ftp_perform(struct connectdata 
 #ifdef HAVE_STRFTIME
     if(data->set.get_filetime && (data->info.filetime>=0) ) {
       struct tm *tm;
+      time_t filetime = data->info.filetime;
 #ifdef HAVE_GMTIME_R
       struct tm buffer;
-      tm = (struct tm *)gmtime_r((time_t *)&data->info.filetime, &buffer);
+      tm = (struct tm *)gmtime_r(&filetime, &buffer);
 #else
-      tm = gmtime((time_t *)&data->info.filetime);
+      tm = gmtime(&filetime);
 #endif
       /* format: "Tue, 15 Nov 1994 12:45:26" */
       strftime(buf, BUFSIZE-1, "Last-Modified: %a, %d %b %Y %H:%M:%S GMT\r\n",
