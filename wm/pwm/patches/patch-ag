$NetBSD: patch-ag,v 1.6 2004/04/10 20:42:11 salo Exp $

--- system.mk.orig	Thu Dec 28 15:08:05 2000
+++ system.mk	Thu Jul 10 21:30:50 2003
@@ -7,13 +7,13 @@
 ## Installation paths
 ##
 
-PREFIX=/usr/local
+#PREFIX=/usr/local
 
 # No need to modify these usually
 BINDIR=$(PREFIX)/bin
-ETCDIR=$(PREFIX)/etc
+ETCDIR=$(PREFIX)/share/examples
 MANDIR=$(PREFIX)/man
-DOCDIR=$(PREFIX)/doc
+DOCDIR=$(PREFIX)/share/doc
 # Not used
 INCDIR=$(PREFIX)/include
 LIBDIR=$(PREFIX)/lib
@@ -23,7 +23,7 @@
 ## X libraries, includes and options
 ##
 
-X11_PREFIX=/usr/X11R6
+X11_PREFIX=$(X11BASE)
 
 # SunOS/Solaris
 #X11_PREFIX=/usr/openwin
@@ -40,7 +40,7 @@
 ## C compiler
 ##
 
-CC=gcc
+#CC=gcc
 
 # The POSIX_SOURCE, XOPEN_SOURCE and WARN options should not be necessary,
 # they're mainly for development use. So, if they cause trouble (not
@@ -49,7 +49,7 @@
 
 # libtu/ uses POSIX_SOURCE
 
-POSIX_SOURCE=-ansi -D_POSIX_SOURCE
+POSIX_SOURCE=-D_POSIX_SOURCE -D_ISOC99_SOURCE
 
 # and . (ion) XOPEN_SOURCE.
 # There is variation among systems what should be used and how they interpret
@@ -56,19 +56,19 @@
 # it so it is perhaps better not using anything at all.
 
 # Most systems
-#XOPEN_SOURCE=-ansi -D_XOPEN_SOURCE -D_XOPEN_SOURCE_EXTENDED
+XOPEN_SOURCE=-D_XOPEN_SOURCE -D_XOPEN_SOURCE_EXTENDED -D__EXTENSIONS__
 # sunos, (irix)
 #XOPEN_SOURCE=-ansi -D__EXTENSIONS__
 
 # Same as '-Wall -pedantic-errors' without '-Wunused' as callbacks often
 # have unused variables.
-WARN=	-W -Wimplicit -Wreturn-type -Wswitch -Wcomment \
+#WARN=	-W -Wimplicit -Wreturn-type -Wswitch -Wcomment \
 	-Wtrigraphs -Wformat -Wchar-subscripts \
 	-Wparentheses -pedantic-errors -Wuninitialized
 
 
-CFLAGS=-g -O2 $(WARN) $(DEFINES) $(INCLUDES) $(EXTRA_INCLUDES)
-LDFLAGS=-g $(LIBS) $(EXTRA_LIBS)
+CFLAGS+=-g $(WARN) $(DEFINES) $(INCLUDES) $(EXTRA_INCLUDES)
+LDFLAGS+=-g $(LIBS) $(EXTRA_LIBS)
 
 
 ##
