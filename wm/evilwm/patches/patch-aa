$NetBSD: patch-aa,v 1.10 2003/12/03 17:40:25 sketch Exp $

--- Makefile.orig	Wed Oct 15 12:48:23 2003
+++ Makefile	Wed Oct 15 13:35:35 2003
@@ -1,11 +1,11 @@
 # If you don't use CC 
-CC       = gcc
+#CC       = gcc
 
 # Edit this line if you don't want evilwm to install under /usr.
 # Note that $(DESTDIR) is used by the Debian build process.
-prefix = $(DESTDIR)/usr
+prefix = ${PREFIX}
 
-XROOT    = /usr/X11R6
+XROOT    = ${X11BASE}
 INCLUDES = -I$(XROOT)/include
 LDPATH   = -L$(XROOT)/lib
 LIBS     = -lX11
@@ -22,7 +22,7 @@
 
 # Use Motif hints to find if a window should be borderless.
 # To use this option, you need to have the Motif development files installed.
-DEFINES += -DMWM_HINTS
+#DEFINES += -DMWM_HINTS
 
 # To support virtual desktops, uncomment one or both of the following 2 lines.
 DEFINES += -DVWM
@@ -70,10 +70,10 @@
 #DEFINES += -DXDEBUG	# show some X calls
 
 DEFINES += -DVERSION=\"$(version).$(revision).$(subrev)\" $(DEBIAN)
-CFLAGS  += $(INCLUDES) $(DEFINES) -Os -Wall
+CFLAGS  += $(INCLUDES) $(DEFINES)
 #CFLAGS  += $(INCLUDES) $(DEFINES) -g -Wall
-CFLAGS  += -Wstrict-prototypes -Wpointer-arith -Wcast-align -Wcast-qual -Wshadow -Waggregate-return -Wnested-externs -Winline -Wwrite-strings -Wundef
-LDFLAGS += $(LDPATH) $(LIBS)
+#CFLAGS  += -Wstrict-prototypes -Wpointer-arith -Wcast-align -Wcast-qual -Wshadow -Waggregate-return -Wnested-externs -Winline -Wwrite-strings -Wundef
+LDFLAGS += $(LIBS)
 
 HEADERS  = evilwm.h
 SRCS     = client.c events.c main.c misc.c new.c screen.c
@@ -94,10 +94,8 @@
 
 doinstall:
 	if [ -f evilwm.exe ]; then mv evilwm.exe evilwm; fi
-	mkdir -p $(prefix)/bin $(prefix)/share/man/man1
-	install -s evilwm $(prefix)/bin
-	install evilwm.1 $(prefix)/share/man/man1
-	#gzip -9 $(prefix)/share/man/man1/evilwm.1
+	${BSD_INSTALL_PROGRAM} evilwm $(prefix)/bin
+	${BSD_INSTALL_MAN} evilwm.1 $(prefix)/man/man1
 
 install: doinstall
 
