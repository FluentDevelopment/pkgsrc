$NetBSD: patch-af,v 1.2 2004/09/02 21:56:32 xtraeme Exp $

--- src/FbTk/I18n.cc.orig	2004-09-02 23:21:32.000000000 +0200
+++ src/FbTk/I18n.cc	2004-09-02 23:22:28.000000000 +0200
@@ -77,7 +77,9 @@
 I18n::I18n():m_multibyte(false), m_catalog_fd((nl_catd)(-1)) {
 #ifdef 	HAVE_SETLOCALE
     //make sure we don't get 0 to m_locale string
-    char *temp = setlocale(LC_MESSAGES, "");
+    char *temp;
+    (void)setlocale(LC_ALL, "");
+    temp = setlocale(LC_MESSAGES, NULL);
     m_locale = ( temp ?  temp : ""); 
     if (m_locale.empty()) {
         cerr<<"Warning: Failed to set locale, reverting to \"C\""<<endl;
