$NetBSD: patch-ac,v 1.3 2003/02/14 20:57:56 wiz Exp $

--- src/i18n.cc.orig	Sat Dec  7 15:14:05 2002
+++ src/i18n.cc
@@ -61,7 +61,9 @@ void NLSInit(const char *catalog) {
 I18n::I18n():m_multibyte(false), m_catalog_fd((nl_catd)(-1)) {
 #ifdef		HAVE_SETLOCALE
 	//make sure we don't get 0 to m_locale string
-	char *temp = setlocale(LC_ALL, "");
+	char *temp;
+	(void)setlocale(LC_ALL, "");
+	temp = setlocale(LC_MESSAGES, NULL);
 	m_locale = ( temp ?  temp : ""); 
 	if (m_locale.size() == 0) {
 		cerr<<"Warning: Failed to set locale, reverting to \"C\""<<endl;
