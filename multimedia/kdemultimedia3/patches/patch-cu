$NetBSD: patch-cu,v 1.6 2006/01/31 22:33:03 markd Exp $

--- kioslave/audiocd/audiocd.cpp.orig	2006-01-20 05:40:34.000000000 +1300
+++ kioslave/audiocd/audiocd.cpp
@@ -26,8 +26,8 @@
 
 extern "C"
 {
-	#include <cdda_interface.h>
-	#include <cdda_paranoia.h>
+	#include <cdparanoia/cdda_interface.h>
+	#include <cdparanoia/cdda_paranoia.h>
 	void paranoiaCallback(long, int);
 
 	#include <kdemacros.h>
@@ -859,7 +859,7 @@ void AudioCDProtocol::paranoiaRead(
 		 * 2) Only increase in size unless the decrease is %5 of last estimate.
 		 * This prevents continues small changes which is just annoying.
 		 */
-		unsigned long end = lastSector - firstSector;
+		unsigned long end = lastSector - firstSector + 1;
 		unsigned long cur = currentSector - firstSector;
 		unsigned long estSize = (processed / cur ) * end;
 
