$NetBSD: patch-cu,v 1.5 2005/12/11 11:20:51 markd Exp $

--- kioslave/audiocd/audiocd.cpp.orig	2005-11-09 11:26:44.000000000 +1300
+++ kioslave/audiocd/audiocd.cpp
@@ -26,8 +26,8 @@
 
 extern "C"
 {
-	#include <cdda_interface.h>
-	#include <cdda_paranoia.h>
+	#include <cdparanoia/cdda_interface.h>
+	#include <cdparanoia/cdda_paranoia.h>
 	void paranoiaCallback(long, int);
 	
 	#include <kdemacros.h>
@@ -827,7 +827,7 @@ void AudioCDProtocol::paranoiaRead(
 		 * 2) Only increase in size unless the decrease is %5 of last estimate.
 		 * This prevents continues small changes which is just annoying.
 		 */
-		unsigned long end = lastSector - firstSector;
+		unsigned long end = lastSector - firstSector + 1;
 		unsigned long cur = currentSector - firstSector;
 		unsigned long estSize = (processed / cur ) * end;
 
