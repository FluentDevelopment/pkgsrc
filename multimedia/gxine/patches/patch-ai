$NetBSD: patch-ai,v 1.1 2005/04/13 16:39:32 rillig Exp $

Needed for ISO C90 compliance.

--- src/key_events.c.orig	Fri Dec 17 01:32:59 2004
+++ src/key_events.c	Tue Apr 12 12:58:06 2005
@@ -605,8 +605,8 @@ void kb_edit_show (void) {
 
 static void do_edit_binding (void)
 {
-  editkey = *lookup_binding (&catch_key_iter);
   char title[64];
+  editkey = *lookup_binding (&catch_key_iter);
 
   gtk_entry_set_text (GTK_ENTRY (kb_binding_desc), editkey.desc);
   gtk_entry_set_text (GTK_ENTRY (kb_binding_command), editkey.cmd);
@@ -1056,9 +1056,7 @@ static JSBool js_keybindings_show (JSCon
 
 /* Xine event mapping data */
 
-static const kb_xine_event_map_t xine_input = {
-  "INPUT",
-  {
+static const kb_xine_event_id_t xine_input_ids[] = {
     { "ANGLE_NEXT", XINE_EVENT_INPUT_ANGLE_NEXT },
     { "ANGLE_PREVIOUS", XINE_EVENT_INPUT_ANGLE_PREVIOUS },
     { "DOWN", XINE_EVENT_INPUT_DOWN },
@@ -1099,7 +1097,10 @@ static const kb_xine_event_map_t xine_in
     { "9", XINE_EVENT_INPUT_NUMBER_9 },
     { "-", -1 }, /* null event */
     { "" }
-  }
+};
+
+static const kb_xine_event_map_t xine_input = {
+  "INPUT", &xine_input_ids
 };
 
 
@@ -1129,10 +1130,7 @@ int kb_xine_event_lookup (const kb_xine_
   return 0;
 }
 
-
-static const kb_xine_event_map_t xine_vdr = {
-  "VDR",
-  {
+static const kb_xine_event_id_t xine_vdr_ids[] = {
     { "BACK", XINE_EVENT_VDR_BACK },
     { "BLUE", XINE_EVENT_VDR_BLUE },
     { "CHANNELMINUS", XINE_EVENT_VDR_CHANNELMINUS },
@@ -1166,7 +1164,10 @@ static const kb_xine_event_map_t xine_vd
     { "VOLPLUS", XINE_EVENT_VDR_VOLPLUS },
     { "YELLOW", XINE_EVENT_VDR_YELLOW },
     { "" }
-  }
+};
+
+static const kb_xine_event_map_t xine_vdr = {
+  "VDR", &xine_vdr_ids
 };
 
 static JSBool js_vdr (JSContext *cx, JSObject *obj, uintN argc,
