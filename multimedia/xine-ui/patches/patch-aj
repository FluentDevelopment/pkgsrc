$NetBSD: patch-aj,v 1.1 2004/05/12 16:42:49 drochner Exp $

--- src/xitk/actions.c.orig	2004-05-12 17:57:24.000000000 +0200
+++ src/xitk/actions.c	2004-05-12 18:00:06.000000000 +0200
@@ -1039,6 +1039,11 @@
   
   pthread_detach(pthread_self());
 
+  if (pthread_mutex_trylock(&gGui->xe_mutex)) {
+	pthread_exit(NULL);
+	return NULL;
+  }
+
   if(gGui->logo_mode && (mediamark_get_current_mrl())) {
     if(!xine_open(gGui->stream, (mediamark_get_current_mrl()))) {
       gui_handle_xine_error(gGui->stream, (char *)(mediamark_get_current_mrl()));
@@ -1170,8 +1175,6 @@
 
   if(gGui->new_pos == -1) {
     
-    pthread_mutex_lock(&gGui->xe_mutex);
-
     pthread_mutex_lock(&new_pos_mutex);
     gGui->new_pos = pos;
     pthread_mutex_unlock(&new_pos_mutex);
