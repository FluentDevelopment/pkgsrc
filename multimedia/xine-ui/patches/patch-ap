$NetBSD: patch-ap,v 1.1 2006/04/09 07:26:52 xtraeme Exp $

--- src/xitk/oxine/mediamarks.c.orig	2006-04-08 21:16:59.000000000 +0200
+++ src/xitk/oxine/mediamarks.c	2006-04-08 21:19:27.000000000 +0200
@@ -451,15 +451,15 @@
 
   *line = NULL;
   *n = 0;
-  a = getline(line, n, file);
+  a = fgets(line, n, file);
   if(a<=0) return;
 
-  while((a = getline(line, n, file))>0) {
+  while((a = fgets(line, n, file))>0) {
     char *str;
     playitem_t *item;
 
     if(*line[0] == '#') continue;
-    str = strndup(*line, a-1);
+    str = strdup(*line);
     /* printf("%s\n", str); */
     item = playitem_new (TYPE_REG, basename(str), str, list_new());
     ho_free(str);
