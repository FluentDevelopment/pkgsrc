$NetBSD: patch-ah,v 1.1 2005/10/24 19:46:05 minskim Exp $

--- subreader.c.orig	2005-02-04 10:31:03.000000000 -0800
+++ subreader.c
@@ -73,10 +73,10 @@ static int eol(char p) {
 /* Remove leading and trailing space */
 static void trail_space(char *s) {
 	int i = 0;
-	while (isspace(s[i])) ++i;
+	while (isspace((unsigned char)s[i])) ++i;
 	if (i) strcpy(s, s + i);
 	i = strlen(s) - 1;
-	while (i > 0 && isspace(s[i])) s[i--] = '\0';
+	while (i > 0 && isspace((unsigned char)s[i])) s[i--] = '\0';
 }
 
 static char *stristr(const char *haystack, const char *needle) {
@@ -627,7 +627,7 @@ subtitle *sub_read_line_pjs(FILE *fd,sub
     if (!fgets (line, LINE_LEN, fd))
 	return NULL;
     /* skip spaces */
-    for (s=line; *s && isspace(*s); s++);
+    for (s=line; *s && isspace(*(unsigned char*)s); s++);
     /* allow empty lines at the end of the file */
     if (*s==0)
 	return NULL;
@@ -680,7 +680,7 @@ subtitle *sub_read_line_mpsub(FILE *fd, 
 			else return current;
 		}
 		p=line;
-		while (isspace(*p)) p++;
+		while (isspace(*(unsigned char*)p)) p++;
 		if (eol(*p) && num > 0) return current;
 		if (eol(*p)) return NULL;
 
