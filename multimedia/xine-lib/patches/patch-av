$NetBSD: patch-av,v 1.1 2004/03/28 20:14:22 mycroft Exp $

--- src/libreal/xine_decoder.c.orig	2004-03-16 20:21:33.000000000 +0000
+++ src/libreal/xine_decoder.c	2004-03-28 05:20:49.000000000 +0000
@@ -99,6 +99,15 @@
 } rv_init_t;
 
 
+#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
+void *__ctype_b=NULL;
+void ___brk_addr(void) {exit(0);}
+char **__environ={NULL};
+#undef stderr
+FILE *stderr=NULL;
+#endif
+
+
 void *__builtin_vec_new(uint32_t size);
 void __builtin_vec_delete(void *mem);
 void __pure_virtual(void);
@@ -574,8 +583,7 @@
  * exported plugin catalog entry
  */
 
-static uint32_t supported_types[] = { BUF_VIDEO_RV20,
-                                      BUF_VIDEO_RV30,
+static uint32_t supported_types[] = { BUF_VIDEO_RV30,
                                       BUF_VIDEO_RV40,
                                       0 };
 
