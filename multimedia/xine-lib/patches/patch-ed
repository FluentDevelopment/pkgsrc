$NetBSD: patch-ed,v 1.2 2007/01/10 17:18:37 drochner Exp $

--- src/input/libreal/asmrp.c.orig	2006-11-29 20:43:01.000000000 +0100
+++ src/input/libreal/asmrp.c
@@ -418,8 +418,8 @@ static int asmrp_operand (asmrp_t *p) {
     i = asmrp_find_id (p, p->str);
     if (i<0) {
       lprintf ("error: unknown identifier %s\n", p->str);
-    }
-    ret = p->sym_tab[i].v;
+    } else
+      ret = p->sym_tab[i].v;
 
     asmrp_get_sym (p);
     break;
