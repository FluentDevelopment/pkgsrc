$NetBSD: patch-gstmad,v 1.1 2006/04/13 22:09:16 rillig Exp $

gcc 2.95 does not like code intermixed with declarations.

--- ext/mad/gstmad.c.orig	2006-03-28 20:58:46.000000000 +0200
+++ ext/mad/gstmad.c	2006-04-14 00:02:07.000000000 +0200
@@ -710,11 +710,12 @@ index_seek (GstMad * mad, GstPad * pad, 
   };
   const GstFormat *try_formats = try_all_formats;
   const GstFormat *peer_formats;
+  GstIndexEntry *entry;
 
   gst_event_parse_seek (event, &rate, &format, &flags,
       &cur_type, &cur, &stop_type, &stop);
 
-  GstIndexEntry *entry = gst_index_get_assoc_entry (mad->index, mad->index_id,
+  entry = gst_index_get_assoc_entry (mad->index, mad->index_id,
       GST_INDEX_LOOKUP_BEFORE, 0,
       format, cur);
 
