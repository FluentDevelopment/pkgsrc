--- ./lavtools/Makefile.in.orig	2004-04-17 11:15:14.000000000 +0900
+++ ./lavtools/Makefile.in	2004-04-17 11:11:41.000000000 +0900
@@ -319,122 +319,122 @@
 
 
 ypipe_SOURCES = ypipe.c
-ypipe_LDADD = $(top_builddir)/utils/libmjpegutils.a
+ypipe_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 yuv2lav_SOURCES = yuv2lav.c
-yuv2lav_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+yuv2lav_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 		 liblavfile.la liblavjpeg.la ${LIBM_LIBS}
 
 
 transist_flt_SOURCES = transist.flt.c
-transist_flt_LDADD = $(top_builddir)/utils/libmjpegutils.a
+transist_flt_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 matteblend_flt_SOURCES = matteblend.flt.c
-matteblend_flt_LDADD = $(top_builddir)/utils/libmjpegutils.a
+matteblend_flt_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 multiblend_flt_SOURCES = multiblend.flt.c
-multiblend_flt_LDADD = $(top_builddir)/utils/libmjpegutils.a
+multiblend_flt_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 @HAVE_X_TRUE@LAVPLAY_X_LIBS = $(X_LIBS) -lX11
 
 lavplay_SOURCES = lavplay.c
-lavplay_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lavplay_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	liblavplay.la liblavjpeg.la liblavfile.la \
-	@LIBGETOPT_LIB@ ${PTHREAD_LIBS} ${SDL_LIBS} $(LAVPLAY_X_LIBS)
+	@LIBGETOPT_LIB@ ${PTHREAD_LIBS} ${SDL_LIBS} $(LAVPLAY_X_LIBS) $(LIBOSSAUDIO)
 
 
 lavrec_SOURCES = lavrec.c
-lavrec_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lavrec_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	liblavrec.la liblavfile.la liblavjpeg.la \
 	@LIBGETOPT_LIB@ $(PTHREAD_LIBS)
 
 
 testrec_SOURCES = testrec.c audiolib.c
-testrec_LDADD = $(PTHREAD_LIBS) $(top_builddir)/utils/libmjpegutils.a
+testrec_LDADD = $(PTHREAD_LIBS) $(top_builddir)/utils/libmjpegutils.la
 
 lav2yuv_SOURCES = lav2yuv.c lav_common.c
-lav2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lav2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 		liblavfile.la liblavjpeg.la $(DV_LIBS)
 
 
 jpeg2yuv_SOURCES = jpeg2yuv.c
-jpeg2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.a liblavjpeg.la
+jpeg2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.la liblavjpeg.la
 
 png2yuv_SOURCES = png2yuv.c colorspace.c subsample.c
-png2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.a -lpng -lz -lm
+png2yuv_LDADD = $(top_builddir)/utils/libmjpegutils.la -lpng -lz -lm
 
 lavpipe_SOURCES = lavpipe.c pipelist.c
-lavpipe_LDADD = $(top_builddir)/utils/libmjpegutils.a
+lavpipe_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 yuvmedianfilter_SOURCES = yuvmedianfilter.c
-yuvmedianfilter_LDADD = $(top_builddir)/utils/libmjpegutils.a
+yuvmedianfilter_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 lav2wav_SOURCES = lav2wav.c
-lav2wav_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lav2wav_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	 liblavfile.la
 
 
 lavtrans_SOURCES = lavtrans.c
-lavtrans_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lavtrans_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	 liblavfile.la
 
 
 lavaddwav_SOURCES = lavaddwav.c
-lavaddwav_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lavaddwav_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	 liblavfile.la
 
 
 glav_SOURCES = glav.c glav_main.c
-glav_LDADD = $(top_builddir)/utils/libmjpegutils.a ${GTK_LIBS}
+glav_LDADD = $(top_builddir)/utils/libmjpegutils.la ${GTK_LIBS}
 
 lavvideo_SOURCES = lavvideo.c frequencies.c
 
 yuvscaler_SOURCES = yuvscaler.c yuvscaler_resample.c yuvscaler_bicubic.c
-yuvscaler_LDADD = $(top_builddir)/utils/libmjpegutils.a $(LIBM_LIBS)
+yuvscaler_LDADD = $(top_builddir)/utils/libmjpegutils.la $(LIBM_LIBS)
 
 yuvcorrect_SOURCES = yuvcorrect.c yuvcorrect_functions.c
-yuvcorrect_LDADD = $(top_builddir)/utils/libmjpegutils.a $(LIBM_LIBS)
+yuvcorrect_LDADD = $(top_builddir)/utils/libmjpegutils.la $(LIBM_LIBS)
 
 yuvcorrect_tune_SOURCES = yuvcorrect_tune.c yuvcorrect_functions.c
-yuvcorrect_tune_LDADD = $(top_builddir)/utils/libmjpegutils.a $(LIBM_LIBS)
+yuvcorrect_tune_LDADD = $(top_builddir)/utils/libmjpegutils.la $(LIBM_LIBS)
 
 yuvplay_SOURCES = yuvplay.c
-yuvplay_LDADD = $(SDL_LIBS) $(PTHREAD_LIBS) $(top_builddir)/utils/libmjpegutils.a
+yuvplay_LDADD = $(SDL_LIBS) $(PTHREAD_LIBS) $(top_builddir)/utils/libmjpegutils.la
 
 ppmtoy4m_SOURCES = ppmtoy4m.c colorspace.c subsample.c
-ppmtoy4m_LDADD = $(top_builddir)/utils/libmjpegutils.a
+ppmtoy4m_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 pgmtoy4m_SOURCES = pgmtoy4m.c
-pgmtoy4m_LDADD = $(top_builddir)/utils/libmjpegutils.a
+pgmtoy4m_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 y4mtoppm_SOURCES = y4mtoppm.c colorspace.c subsample.c
-y4mtoppm_LDADD = $(top_builddir)/utils/libmjpegutils.a
+y4mtoppm_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 y4mcolorbars_SOURCES = y4mcolorbars.c colorspace.c subsample.c
-y4mcolorbars_LDADD = $(top_builddir)/utils/libmjpegutils.a
+y4mcolorbars_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 lavinfo_SOURCES = lavinfo.c
-lavinfo_LDADD = $(top_builddir)/utils/libmjpegutils.a \
+lavinfo_LDADD = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la
 
 
 y4mshift_SOURCES = y4mshift.c
-y4mshift_LDADD = $(top_builddir)/utils/libmjpegutils.a
+y4mshift_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 y4mblack_SOURCES = y4mblack.c
-y4mblack_LDADD = $(top_builddir)/utils/libmjpegutils.a
+y4mblack_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 y4mtoyuv_SOURCES = y4mtoyuv.c
-y4mtoyuv_LDADD = $(top_builddir)/utils/libmjpegutils.a
+y4mtoyuv_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 yuv4mpeg_SOURCES = yuv4mpeg.c
-yuv4mpeg_LDADD = $(top_builddir)/utils/libmjpegutils.a
+yuv4mpeg_LDADD = $(top_builddir)/utils/libmjpegutils.la
 
 yuvfps_SOURCES = yuvfps.c
-yuvfps_LDADD = ${top_builddir}/utils/libmjpegutils.a
+yuvfps_LDADD = ${top_builddir}/utils/libmjpegutils.la
 
 yuvinactive_SOURCES = yuvinactive.c
-yuvinactive_LDADD = ${top_builddir}/utils/libmjpegutils.a
+yuvinactive_LDADD = ${top_builddir}/utils/libmjpegutils.la
 subdir = lavtools
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
@@ -1436,54 +1436,54 @@
 
 am_glav_OBJECTS = glav.$(OBJEXT) glav_main.$(OBJEXT)
 glav_OBJECTS = $(am_glav_OBJECTS)
-glav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+glav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 glav_LDFLAGS =
 am_jpeg2yuv_OBJECTS = jpeg2yuv.$(OBJEXT)
 jpeg2yuv_OBJECTS = $(am_jpeg2yuv_OBJECTS)
-jpeg2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+jpeg2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavjpeg.la
 jpeg2yuv_LDFLAGS =
 am_lav2wav_OBJECTS = lav2wav.$(OBJEXT)
 lav2wav_OBJECTS = $(am_lav2wav_OBJECTS)
-lav2wav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+lav2wav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la
 lav2wav_LDFLAGS =
 am_lav2yuv_OBJECTS = lav2yuv.$(OBJEXT) lav_common.$(OBJEXT)
 lav2yuv_OBJECTS = $(am_lav2yuv_OBJECTS)
-lav2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+lav2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la liblavjpeg.la
 lav2yuv_LDFLAGS =
 am_lavaddwav_OBJECTS = lavaddwav.$(OBJEXT)
 lavaddwav_OBJECTS = $(am_lavaddwav_OBJECTS)
-lavaddwav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+lavaddwav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la
 lavaddwav_LDFLAGS =
 am_lavinfo_OBJECTS = lavinfo.$(OBJEXT)
 lavinfo_OBJECTS = $(am_lavinfo_OBJECTS)
-lavinfo_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+lavinfo_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la
 lavinfo_LDFLAGS =
 am_lavpipe_OBJECTS = lavpipe.$(OBJEXT) pipelist.$(OBJEXT)
 lavpipe_OBJECTS = $(am_lavpipe_OBJECTS)
-lavpipe_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+lavpipe_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 lavpipe_LDFLAGS =
 am_lavplay_OBJECTS = lavplay.$(OBJEXT)
 lavplay_OBJECTS = $(am_lavplay_OBJECTS)
 @HAVE_X_TRUE@lavplay_DEPENDENCIES = \
-@HAVE_X_TRUE@	$(top_builddir)/utils/libmjpegutils.a \
+@HAVE_X_TRUE@	$(top_builddir)/utils/libmjpegutils.la \
 @HAVE_X_TRUE@	liblavplay.la liblavjpeg.la liblavfile.la
 @HAVE_X_FALSE@lavplay_DEPENDENCIES = \
-@HAVE_X_FALSE@	$(top_builddir)/utils/libmjpegutils.a \
+@HAVE_X_FALSE@	$(top_builddir)/utils/libmjpegutils.la \
 @HAVE_X_FALSE@	liblavplay.la liblavjpeg.la liblavfile.la
 lavplay_LDFLAGS =
 am_lavrec_OBJECTS = lavrec.$(OBJEXT)
 lavrec_OBJECTS = $(am_lavrec_OBJECTS)
-lavrec_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a liblavrec.la \
-	liblavfile.la liblavjpeg.la
+lavrec_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
+	liblavrec.la liblavfile.la liblavjpeg.la
 lavrec_LDFLAGS =
 am_lavtrans_OBJECTS = lavtrans.$(OBJEXT)
 lavtrans_OBJECTS = $(am_lavtrans_OBJECTS)
-lavtrans_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+lavtrans_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la
 lavtrans_LDFLAGS =
 am_lavvideo_OBJECTS = lavvideo.$(OBJEXT) frequencies.$(OBJEXT)
@@ -1493,99 +1493,99 @@
 lavvideo_LDFLAGS =
 am_matteblend_flt_OBJECTS = matteblend.flt.$(OBJEXT)
 matteblend_flt_OBJECTS = $(am_matteblend_flt_OBJECTS)
-matteblend_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+matteblend_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 matteblend_flt_LDFLAGS =
 am_multiblend_flt_OBJECTS = multiblend.flt.$(OBJEXT)
 multiblend_flt_OBJECTS = $(am_multiblend_flt_OBJECTS)
-multiblend_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+multiblend_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 multiblend_flt_LDFLAGS =
 am_pgmtoy4m_OBJECTS = pgmtoy4m.$(OBJEXT)
 pgmtoy4m_OBJECTS = $(am_pgmtoy4m_OBJECTS)
-pgmtoy4m_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+pgmtoy4m_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 pgmtoy4m_LDFLAGS =
 am_png2yuv_OBJECTS = png2yuv.$(OBJEXT) colorspace.$(OBJEXT) \
 	subsample.$(OBJEXT)
 png2yuv_OBJECTS = $(am_png2yuv_OBJECTS)
-png2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+png2yuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 png2yuv_LDFLAGS =
 am_ppmtoy4m_OBJECTS = ppmtoy4m.$(OBJEXT) colorspace.$(OBJEXT) \
 	subsample.$(OBJEXT)
 ppmtoy4m_OBJECTS = $(am_ppmtoy4m_OBJECTS)
-ppmtoy4m_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+ppmtoy4m_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 ppmtoy4m_LDFLAGS =
 am_testrec_OBJECTS = testrec.$(OBJEXT) audiolib.$(OBJEXT)
 testrec_OBJECTS = $(am_testrec_OBJECTS)
-testrec_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+testrec_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 testrec_LDFLAGS =
 am_transist_flt_OBJECTS = transist.flt.$(OBJEXT)
 transist_flt_OBJECTS = $(am_transist_flt_OBJECTS)
-transist_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+transist_flt_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 transist_flt_LDFLAGS =
 am_y4mblack_OBJECTS = y4mblack.$(OBJEXT)
 y4mblack_OBJECTS = $(am_y4mblack_OBJECTS)
-y4mblack_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+y4mblack_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 y4mblack_LDFLAGS =
 am_y4mcolorbars_OBJECTS = y4mcolorbars.$(OBJEXT) colorspace.$(OBJEXT) \
 	subsample.$(OBJEXT)
 y4mcolorbars_OBJECTS = $(am_y4mcolorbars_OBJECTS)
-y4mcolorbars_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+y4mcolorbars_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 y4mcolorbars_LDFLAGS =
 am_y4mshift_OBJECTS = y4mshift.$(OBJEXT)
 y4mshift_OBJECTS = $(am_y4mshift_OBJECTS)
-y4mshift_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+y4mshift_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 y4mshift_LDFLAGS =
 am_y4mtoppm_OBJECTS = y4mtoppm.$(OBJEXT) colorspace.$(OBJEXT) \
 	subsample.$(OBJEXT)
 y4mtoppm_OBJECTS = $(am_y4mtoppm_OBJECTS)
-y4mtoppm_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+y4mtoppm_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 y4mtoppm_LDFLAGS =
 am_y4mtoyuv_OBJECTS = y4mtoyuv.$(OBJEXT)
 y4mtoyuv_OBJECTS = $(am_y4mtoyuv_OBJECTS)
-y4mtoyuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+y4mtoyuv_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 y4mtoyuv_LDFLAGS =
 am_ypipe_OBJECTS = ypipe.$(OBJEXT)
 ypipe_OBJECTS = $(am_ypipe_OBJECTS)
-ypipe_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+ypipe_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 ypipe_LDFLAGS =
 am_yuv2lav_OBJECTS = yuv2lav.$(OBJEXT)
 yuv2lav_OBJECTS = $(am_yuv2lav_OBJECTS)
-yuv2lav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a \
+yuv2lav_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la \
 	liblavfile.la liblavjpeg.la
 yuv2lav_LDFLAGS =
 am_yuv4mpeg_OBJECTS = yuv4mpeg.$(OBJEXT)
 yuv4mpeg_OBJECTS = $(am_yuv4mpeg_OBJECTS)
-yuv4mpeg_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuv4mpeg_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuv4mpeg_LDFLAGS =
 am_yuvcorrect_OBJECTS = yuvcorrect.$(OBJEXT) \
 	yuvcorrect_functions.$(OBJEXT)
 yuvcorrect_OBJECTS = $(am_yuvcorrect_OBJECTS)
-yuvcorrect_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuvcorrect_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuvcorrect_LDFLAGS =
 am_yuvcorrect_tune_OBJECTS = yuvcorrect_tune.$(OBJEXT) \
 	yuvcorrect_functions.$(OBJEXT)
 yuvcorrect_tune_OBJECTS = $(am_yuvcorrect_tune_OBJECTS)
-yuvcorrect_tune_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuvcorrect_tune_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuvcorrect_tune_LDFLAGS =
 am_yuvfps_OBJECTS = yuvfps.$(OBJEXT)
 yuvfps_OBJECTS = $(am_yuvfps_OBJECTS)
-yuvfps_DEPENDENCIES = ${top_builddir}/utils/libmjpegutils.a
+yuvfps_DEPENDENCIES = ${top_builddir}/utils/libmjpegutils.la
 yuvfps_LDFLAGS =
 am_yuvinactive_OBJECTS = yuvinactive.$(OBJEXT)
 yuvinactive_OBJECTS = $(am_yuvinactive_OBJECTS)
-yuvinactive_DEPENDENCIES = ${top_builddir}/utils/libmjpegutils.a
+yuvinactive_DEPENDENCIES = ${top_builddir}/utils/libmjpegutils.la
 yuvinactive_LDFLAGS =
 am_yuvmedianfilter_OBJECTS = yuvmedianfilter.$(OBJEXT)
 yuvmedianfilter_OBJECTS = $(am_yuvmedianfilter_OBJECTS)
-yuvmedianfilter_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuvmedianfilter_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuvmedianfilter_LDFLAGS =
 am_yuvplay_OBJECTS = yuvplay.$(OBJEXT)
 yuvplay_OBJECTS = $(am_yuvplay_OBJECTS)
-yuvplay_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuvplay_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuvplay_LDFLAGS =
 am_yuvscaler_OBJECTS = yuvscaler.$(OBJEXT) yuvscaler_resample.$(OBJEXT) \
 	yuvscaler_bicubic.$(OBJEXT)
 yuvscaler_OBJECTS = $(am_yuvscaler_OBJECTS)
-yuvscaler_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.a
+yuvscaler_DEPENDENCIES = $(top_builddir)/utils/libmjpegutils.la
 yuvscaler_LDFLAGS =
 
 DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
