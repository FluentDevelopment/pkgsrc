$NetBSD: patch-aa,v 1.2 2001/11/02 10:56:03 martin Exp $

--- src/zenicb.el.orig	Mon Jul 20 00:37:51 1998
+++ src/zenicb.el	Fri Nov  2 11:50:08 2001
@@ -143,6 +143,7 @@
 ;(defvar zenicb-command-bcount-hook 'zenicb-command-bcount) ; byte count
 (defvar zenicb-command-beep-hook 'zenicb-command-beep) ; beep someone
 (defvar zenicb-command-boot-hook 'zenicb-command-boot) ; boot off group
+(defvar zenicb-command-brick-hook 'zenicb-command-brick) ; brick someone
 (defvar zenicb-command-cancel-hook 'zenicb-command-cancel) ; cancel invite
 (defvar zenicb-command-drop-hook 'zenicb-command-drop) ; drop nick
 (defvar zenicb-command-echo-hook 'zenicb-command-echo) ; echoback
@@ -211,6 +212,8 @@
 	      (if (not zenicb-process)
 		  ()
 		(set-marker (process-mark zenicb-process) (point-max))
+		(if (fboundp 'set-buffer-multibyte) (set-buffer-multibyte nil))
+		(set-process-coding-system zenicb-process nil nil)
 		(set-process-buffer zenicb-process zenicb-buffer)
 		(set-process-filter zenicb-process 'zenicb-filter)
 		(set-process-sentinel zenicb-process 'zenicb-sentinel)
@@ -753,6 +756,12 @@
 ;;
 (defun zenicb-command-boot (proc parsedcmd)
   (zenicb-send-string proc ?h (concat "boot\C-a" (cdr parsedcmd))))
+;; 
+;; Brick someone
+;; /brick [victim]
+;;
+(defun zenicb-command-brick (proc parsedcmd)
+  (zenicb-send-string proc ?h (concat "brick\C-a" (cdr parsedcmd))))
 ;;
 ;; Cancel an invitation
 ;;
