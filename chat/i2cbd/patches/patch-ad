$NetBSD: patch-ad,v 1.3 2006/05/10 20:16:40 christos Exp $
--- src/access.c.orig	2003-10-24 16:47:49.000000000 -0400
+++ src/access.c	2006-05-10 16:09:58.000000000 -0400
@@ -77,7 +77,7 @@
 	if (!userdb)
 		return -1;
 
-	if (strlen(password) <= 0)
+	if (strlen(password) == 0)
 		return -1;
 
 	strlcpy(kbuf, user, KEY_SIZE);
@@ -86,7 +86,7 @@
 	key.data = kbuf;
 	key.size = strlen(kbuf);
 
-	if (!userdb->get(userdb, &key, &data, 0))
+	if (userdb->get(userdb, &key, &data, 0))
 		return -1;
 
 	strncpy(line, data.data, data.size);
