$NetBSD: patch-ad,v 1.2 2003/01/31 00:17:45 salo Exp $

--- source/screen.c.orig	Thu Feb 28 05:22:50 2002
+++ source/screen.c	Thu Jan 30 23:34:33 2003
@@ -2975,6 +2975,8 @@
 
 	if (back == 58)
 		strcat(retbuf, current_term->TI_sgrstrs[TERM_SGR_BLINK_ON - 1]);
+	if (fore > 57)
+		fore = last_fore;
 	if (fore > -1)
 		strcat(retbuf, current_term->TI_forecolors[fore_conv[fore]]);
 	if (back > -1 && back < 58)
