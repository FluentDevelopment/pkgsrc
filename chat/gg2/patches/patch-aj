$NetBSD: patch-aj,v 1.1 2005/01/17 20:15:28 kristerw Exp $

--- contrib/gghist/gghist.c.orig	Mon Jan 17 21:02:34 2005
+++ contrib/gghist/gghist.c	Mon Jan 17 21:03:29 2005
@@ -244,6 +244,8 @@
 	GtkWidget *field_s;
 	GtkWidget *base_field;
 	GtkTextBuffer *buf;
+	int fd;
+	int list[lines + 2];
 
 	gtk_init(&argc, &argv);
 
@@ -257,7 +259,7 @@
 #ifdef GGADU_DEBUG
 	g_print("Trying to open a file..\n");
 #endif
-	int fd = open(argv[1], O_RDONLY);
+	fd = open(argv[1], O_RDONLY);
 
 	if (fd == -1) {
 		GtkWidget *dialog;
@@ -279,7 +281,6 @@
 	g_print("Getting lines count..\n");
 #endif
 	lines = lines_count(fd);
-	int list[lines + 2];
 
 
 	window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
