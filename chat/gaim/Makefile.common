# $NetBSD: Makefile.common,v 1.5 2002/10/29 18:52:01 wiz Exp $
#

DISTNAME=	gaim-0.59.3
CATEGORIES=	chat x11
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=gaim/} \
		ftp://ftp.marko.net/pub/gaim/

MAINTAINER=	rafal@netbsd.org
HOMEPAGE=	http://gaim.sourceforge.net/
COMMENT=	GTK+-based client for AOL's Instant Messenger chat system

DISTINFO_FILE=	${.CURDIR}/../gaim/distinfo
FILESDIR=	${.CURDIR}/../gaim/files
PATCHDIR=	${.CURDIR}/../gaim/patches
PKGDIR=		${.CURDIR}/../gaim
PLIST_SRC=      ${.CURDIR}/../gaim/PLIST.common

USE_GMAKE=		YES
USE_X11BASE=		YES

USE_LIBTOOL=		YES
LIBTOOL_OVERRIDE=	${WRKSRC}/libtool

GNU_CONFIGURE=		YES
CONFIGURE_ARGS+=	--disable-artsc
CONFIGURE_ARGS+=	--disable-nas
CONFIGURE_ARGS+=	--disable-perl
CONFIGURE_ARGS+=	--disable-screensaver
CONFIGURE_ARGS+=	--with-libiconv-prefix=${BUILDLINK_PREFIX.libiconv}

CONFIGURE_ARGS+=	--enable-esd
CONFIGURE_ARGS+=	--enable-perl
CONFIGURE_ARGS+=	--enable-pixbuf

# Newer versions of gaim use gettext checks that gettext-lib/buildlink2.mk
# can't currently handle.
#
CONFIGURE_ARGS+=	--without-included-gettext
CONFIGURE_ENV+=		gt_cv_func_gnugettext1_libc=yes

.include "../../converters/libiconv/buildlink2.mk"
