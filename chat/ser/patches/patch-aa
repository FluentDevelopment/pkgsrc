$NetBSD: patch-aa,v 1.7 2005/09/08 18:13:48 drochner Exp $

--- Makefile.defs.orig	2004-07-27 13:38:33.000000000 +0200
+++ Makefile.defs
@@ -77,7 +77,7 @@ prefix = $(PREFIX)
 BASEDIR ?=
 basedir = $(BASEDIR)
 # install prefixes for various stuff
-cfg-prefix = $(basedir)$(prefix)
+cfg-prefix = $(basedir)$(prefix)/share/examples
 bin-prefix = $(basedir)$(prefix)
 modules-prefix = $(basedir)$(prefix)
 doc-prefix = $(basedir)$(prefix)
@@ -85,7 +85,8 @@ man-prefix = $(basedir)$(prefix)
 ut-prefix = $(basedir)$(prefix)
 
 # dirs
-cfg-dir = etc/ser/
+cfg-dir = ser/
+eg-dir  = $(EGDIR)/
 bin-dir = sbin/
 modules-dir = lib/ser/modules/
 ifeq ($(OS), linux)
@@ -117,7 +118,7 @@ endif
 endif
 ut-prefix = bin/
 # target dirs for various stuff
-cfg-target = $(prefix)/$(cfg-dir)
+cfg-target = $(PKG_SYSCONFDIR)/
 modules-target = $(prefix)/$(modules-dir)
 
 
@@ -133,10 +134,10 @@ endif
 INSTALL-TOUCH = touch          # used to create the file first (good to 
                                #  make solaris install work)
 # INSTALL-CFG = $(INSTALL) -m 644
-INSTALL-BIN = $(INSTALL) -m 755
-INSTALL-MODULES = $(INSTALL) -m 755
-INSTALL-DOC = $(INSTALL) -m 644
-INSTALL-MAN = $(INSTALL) -m 644
+INSTALL-BIN = $(INSTALL) -c -m 755
+INSTALL-MODULES = $(INSTALL) -c -m 755
+INSTALL-DOC = $(INSTALL) -c -m 644
+INSTALL-MAN = $(INSTALL) -c -m 644
 
 #set some vars from the environment (and not make builtins)
 CC   := $(shell echo "$${CC}")
@@ -639,6 +640,7 @@ ifeq	($(CC_NAME), suncc)
 endif
 
 endif #mode=release
+LDFLAGS+= -L${BUILDLINK_PREFIX.pthread}/lib ${COMPILER_RPATH_FLAG}${BUILDLINK_PREFIX.pthread}/lib
 
 
 #*FLAGS used for compiling the modules
