$NetBSD: patch-ad,v 1.3 2002/01/03 20:40:42 tron Exp $

--- ../gcc-2.95.3/gcc/config/alpha/alpha.h.orig	Fri Jun 25 07:09:12 1999
+++ ../gcc-2.95.3/gcc/config/alpha/alpha.h	Thu Jan  3 20:37:53 2002
@@ -49,9 +49,6 @@
   || !strcmp (STR, "iwithprefix") || !strcmp (STR, "iwithprefixbefore") \
   || !strcmp (STR, "isystem"))
 
-/* Print subsidiary information on the compiler version in use.  */
-#define TARGET_VERSION
-
 /* Run-time compilation parameters selecting different hardware subsets.  */
 
 /* Which processor to schedule for. The cpu attribute defines a list that
@@ -493,14 +490,14 @@
    a bug in DEC's assembler. */
 
 #define LOOP_ALIGN(LABEL) \
-  (optimize > 0 && write_symbols != SDB_DEBUG ? 4 : 0)
+  (!optimize_size && optimize > 0 && write_symbols != SDB_DEBUG ? 4 : 0)
 
 /* This is how to align an instruction for optimal branching.  On
    Alpha we'll get better performance by aligning on an octaword
    boundary.  */
 
 #define LABEL_ALIGN_AFTER_BARRIER(FILE)	\
-  (optimize > 0 && write_symbols != SDB_DEBUG ? 4 : 0)
+  (!optimize_size && optimize > 0 && write_symbols != SDB_DEBUG ? 4 : 0)
 
 /* No data type wants to be aligned rounder than this.  */
 #define BIGGEST_ALIGNMENT 64
