$NetBSD: patch-an,v 1.2 2002/01/03 20:40:43 tron Exp $

--- ../gcc-2.95.3/gcc/config/m68k/m68k.c.orig	Mon Aug  2 06:51:08 1999
+++ ../gcc-2.95.3/gcc/config/m68k/m68k.c	Thu Jan  3 20:37:53 2002
@@ -462,7 +462,8 @@
 				  -cfa_store_offset + n_regs++ * 4);
 	}
     }
-  if (flag_pic && current_function_uses_pic_offset_table)
+  if (flag_pic && current_function_uses_pic_offset_table &&
+      regs_ever_live[PIC_OFFSET_TABLE_REGNUM])
     {
 #ifdef MOTOROLA
       asm_fprintf (stream, "\t%Olea (%Rpc, %U_GLOBAL_OFFSET_TABLE_@GOTPC), %s\n",
