$NetBSD: patch-bw,v 1.1 2002/01/03 20:40:49 tron Exp $

--- ../gcc-2.95.3/gcc/emit-rtl.c.orig	Thu Jan 25 15:03:06 2001
+++ ../gcc-2.95.3/gcc/emit-rtl.c	Thu Jan  3 20:37:55 2002
@@ -1382,6 +1382,15 @@
 	val = ((val & 0xffffffff) ^ 0x80000000) - 0x80000000;
 	return GEN_INT (val);
       }
+#if HOST_BITS_PER_WIDE_INT >= 64
+    else if (BITS_PER_WORD >= 64 && i <= 1)
+      {
+        val = k[i*2 + ! WORDS_BIG_ENDIAN];
+        val = (((val & 0xffffffff) ^ 0x80000000) - 0x80000000) << 32;
+        val |= (HOST_WIDE_INT) k[i*2 + WORDS_BIG_ENDIAN] & 0xffffffff;
+        return GEN_INT (val);
+      }
+#endif
     else
       abort ();
   }
