$NetBSD: patch-bo,v 1.1 2005/11/02 08:56:40 taca Exp $

--- lib/optparse.rb.orig	2005-09-21 07:45:06.000000000 +0900
+++ lib/optparse.rb
@@ -441,12 +441,12 @@ class OptionParser
       #
       # Raises an exception if argument is not present.
       #
-      def parse(arg, argv, &error)
+      def parse(arg, argv)
         unless arg
           raise MissingArgument if argv.empty?
           arg = argv.shift
         end
-        conv_arg(*parse_arg(arg, &error))
+        conv_arg(*parse_arg(arg) {|*exc| raise(*exc)})
       end
     end
 
