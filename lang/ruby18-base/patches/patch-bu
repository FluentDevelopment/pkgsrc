$NetBSD: patch-bu,v 1.1 2005/11/02 08:56:40 taca Exp $

--- lib/webrick/httpservlet/cgihandler.rb.orig	2004-07-19 01:15:37.000000000 +0900
+++ lib/webrick/httpservlet/cgihandler.rb
@@ -85,6 +85,12 @@ module WEBrick
             res.status = $1.to_i
             header.delete('status')
           end
+          if header.has_key?('set-cookie')
+            header['set-cookie'].each{|k|
+              res.cookies << Cookie.parse_set_cookie(k)
+            }
+            header.delete('set-cookie')
+          end
           header.each{|key, val| res[key] = val.join(", ") }
         rescue => ex
           raise HTTPStatus::InternalServerError, ex.message
