$NetBSD: patch-au,v 1.2 2004/03/28 15:51:25 uebayasi Exp $

--- src/print.c.orig	Thu Apr  4 22:25:04 1996
+++ src/print.c
@@ -5,7 +5,8 @@
 
 #include <errno.h>
 #include <ctype.h>
-#include <varargs.h>
+#include <stdarg.h>
+#include <sys/param.h>
 
 #ifdef FLUSH_TIOCFLUSH
 #  include <sys/ioctl.h>
@@ -95,15 +96,11 @@ vsprintf (s, fmt, ap) register char *s, 
 #endif
 
 /*VARARGS0*/
-Printf (va_alist) va_dcl {
+Printf (Object port, char *fmt, ...) {
     va_list args;
-    Object port;
-    char *fmt;
     char buf[1024];
 
-    va_start (args);
-    port = va_arg (args, Object);
-    fmt = va_arg (args, char *);
+    va_start (args, fmt);
     if (PORT(port)->flags & P_STRING) {
 	vsprintf (buf, fmt, args);
 	Print_String (port, buf, strlen (buf));
@@ -555,8 +552,7 @@ Format (port, fmt, len, argc, argv) Obje
     char *p;
     register c;
     char buf[256];
-    extern sys_nerr;
-#ifndef __bsdi__
+#if !(defined(BSD) && (BSD >= 199306))
     extern char *sys_errlist[];
 #endif
     GC_Node;
