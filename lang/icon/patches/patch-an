$NetBSD: patch-an,v 1.4 2003/03/24 12:12:10 jtb Exp $

--- ipl/Makefile.orig	Sat Mar 16 00:23:29 2002
+++ ipl/Makefile
@@ -5,9 +5,9 @@
 
 Ilib:	../bin/libcfunc.so
 ../bin/libcfunc.so:  ../bin/icont
-	cp incl/*.icn gincl/*.icn cfuncs/icall.h ../lib
-	cd procs;  LPATH= ../../bin/icont -usc *.icn; mv *.u? ../../lib
-	cd gprocs; LPATH= ../../bin/icont -usc *.icn; mv *.u? ../../lib
+	cp incl/*.icn gincl/*.icn cfuncs/icall.h ../lib/icon
+	cd procs;  LPATH= ../../bin/icont -usc *.icn; mv *.u? ../../lib/icon
+	cd gprocs; LPATH= ../../bin/icont -usc *.icn; mv *.u? ../../lib/icon
 	if grep LoadFunc ../src/h/define.h >/dev/null; then $(MAKE) Cfuncs; fi
 
 
@@ -15,12 +15,12 @@ Ilib:	../bin/libcfunc.so
 
 Cfuncs:
 	cd cfuncs; LPATH= $(MAKE) ICONT=../../bin/icont
-	mv cfuncs/*.u? ../lib
-	mv cfuncs/libcfunc.so ../bin
+	mv cfuncs/*.u? ../lib/icon
+	mv cfuncs/libcfunc.so ../lib/icon
 
 
 #  Make selected program binaries (platform-dependent icode) for ../bin,
-#  given that ../lib is ready
+#  given that ../lib/icon is ready
 
 Ibin:	../bin/ipatch
 ../bin/ipatch:  ../bin/icont
@@ -28,18 +28,18 @@ Ibin:	../bin/ipatch
 
 
 #  Make a full set of program binaries (not usually done) in ./iexe,
-#  given that ../lib is ready
+#  given that ../lib/icon is ready
 
 Iexe:
 	rm -f iexe/*
 	MAKE=$(MAKE) ./BuildExe
 
 
-#  Check for undefined identifiers in ../lib.
+#  Check for undefined identifiers in ../lib/icon.
 #  (A few are expected: references to Mp, program, init, goal).
 
 Undef:
-	cd ../lib; for f in *.u2; do (echo $$f; icont -us -fs $$f); done
+	cd ../lib/icon; for f in *.u2; do (echo $$f; icont -us -fs $$f); done
 
 
 #  Check for stray files
@@ -63,7 +63,7 @@ ZipFiles:  Ilib
 	zip -qrX9 gipl.zip gdocs gincl gprocs gprogs gpacks gdata  -x '*/CVS/*'
 	zip -qrX9 mipl.zip mincl mprocs mprogs                     -x '*/CVS/*'
 	mkdir ilib
-	cp ../lib/*.* ilib
+	cp ../lib/icon*.* ilib
 	zip -qrX9 ilib.zip ilib
 	rm -rf ilib
 
