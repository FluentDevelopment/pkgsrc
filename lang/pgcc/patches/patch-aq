$NetBSD: patch-aq,v 1.1 2002/03/14 14:54:54 wiz Exp $

--- ../gcc-2.95.2/gcc/configure.in.orig	Wed Oct 13 09:58:02 1999
+++ ../gcc-2.95.2/gcc/configure.in	Sat Sep 16 01:07:10 2000
@@ -1156,9 +1156,20 @@
 		tmake_file=t-freebsd
 		;;
 changequote(,)dnl
+	i[34567]86-*-netbsdelf* | \
+	i[34567]86-*-netbsd1.4[I-Z]* | \
+	i[34567]86-*-netbsd1.[5-9]* | \
+	i[34567]86-*-netbsd2*)
+changequote([,])dnl
+		tm_file=i386/netbsd-elf.h
+		xm_file=i386/xm-netbsd.h
+		tmake_file=t-netbsd
+		;;
+changequote(,)dnl
 	i[34567]86-*-netbsd*)
 changequote([,])dnl
 		tm_file=i386/netbsd.h
+		xm_file=i386/xm-netbsd.h
 		tmake_file=t-netbsd
        use_collect2=yes
 		;;
@@ -3021,6 +3032,12 @@
 		tmake_file=sparc/t-sparcbare
 		tm_file="sparc/aout.h libgloss.h"
 		;;
+	sparc-*-netbsd*elf*)
+		tm_file=sparc/netbsd-elf.h
+		xm_file=sparc/xm-netbsd.h
+		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
+		tmake_file="t-netbsd sparc/t-netbsd"
+		;;
 	sparc-*-netbsd*)
 		tm_file=sparc/netbsd.h
 		tmake_file=t-netbsd
@@ -3216,6 +3233,12 @@
 		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
 		gnu_ld=yes
 		;;
+        sparc64-*-netbsd*)
+		tm_file=sparc/netbsd64.h
+		xm_file=sparc/xm-netbsd64.h
+		tmake_file=t-netbsd
+		use_collect2=yes
+		;;
 # This hasn't been upgraded to GCC 2.
 #	tahoe-harris-*)			# Harris tahoe, using COFF.
 #		tm_file=tahoe/harris.h
@@ -3556,6 +3579,12 @@
       enable_haifa=yes;;
   esac
 fi
+
+case $target in
+  alpha*|sparc64*)
+    build_xm_file="${build_xm_file} xm-target64.h"
+    host_xm_file="${host_xm_file} xm-target64.h";;
+esac
 
 # Handle cpp installation.
 if test x$enable_cpp != xno
