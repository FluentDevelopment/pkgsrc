$NetBSD: patch-as,v 1.1 2002/03/14 14:54:54 wiz Exp $

--- ../gcc-2.95.2/gcc/emit-rtl.c.orig	Wed Aug 11 09:28:52 1999
+++ ../gcc-2.95.2/gcc/emit-rtl.c	Sat Sep 16 00:17:42 2000
@@ -1378,6 +1378,15 @@
 	val = ((val & 0xffffffff) ^ 0x80000000) - 0x80000000;
 	return GEN_INT (val);
       }
+#if HOST_BITS_PER_WIDE_INT >= 64
+    else if (BITS_PER_WORD >= 64 && i <= 1)
+      {
+        val = k[i*2 + ! WORDS_BIG_ENDIAN];
+        val = (((val & 0xffffffff) ^ 0x80000000) - 0x80000000) << 32;
+        val |= (HOST_WIDE_INT) k[i*2 + WORDS_BIG_ENDIAN] & 0xffffffff;
+        return GEN_INT (val);
+      }
+#endif
     else
       abort ();
   }
