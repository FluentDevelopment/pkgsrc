$NetBSD: patch-ac,v 1.2 2003/04/29 11:27:42 augustss Exp $

--- ./mk/package.mk.orig	Tue Jul 23 12:19:50 2002
+++ ./mk/package.mk	Fri Mar 28 23:48:02 2003
@@ -17,8 +17,10 @@
 		| sed 's/^#.*$$//g' >$@
 
 boot all :: $(PACKAGE).conf.inplace $(PACKAGE).conf.installed
+ifneq "$(BootingFromHc)" "YES"
 	$(GHC_PKG_INPLACE) --update-package <$(PACKAGE).conf.inplace
 	$(GHC_PKG_INPLACE)  -f $(GHC_DRIVER_DIR)/package.conf --update-package <$(PACKAGE).conf.installed
+endif
 
 CLEAN_FILES += $(PACKAGE).conf.installed $(PACKAGE).conf.inplace
 
@@ -31,7 +33,7 @@
 
 SRC_HSC2HS_OPTS += -I.
 
-ifeq "$(NON_HS_PACKAGE)" ""
+ifeq "$(NON_HS_PKG)" ""
 SRC_HC_OPTS 	+= -package-name $(PACKAGE)
 SRC_HC_OPTS 	+= $(GhcLibHcOpts)
 SRC_HC_OPTS     += $(patsubst %, -package %, $(PACKAGE_DEPS))
