$NetBSD: patch-aj,v 1.1 2003/04/29 11:27:46 augustss Exp $

--- ./ghc/rts/Stats.c.orig	Wed Feb  6 02:21:40 2002
+++ ./ghc/rts/Stats.c	Fri Mar 28 23:48:02 2003
@@ -749,7 +749,7 @@
 	  fprintf(sf, "<<ghc: %llu bytes, ", GC_tot_alloc*sizeof(W_));
 	  fprintf(sf, "%d GCs, %ld/%ld avg/max bytes residency (%ld samples), %luM in use, %.2f INIT (%.2f elapsed), %.2f MUT (%.2f elapsed), %.2f GC (%.2f elapsed) :ghc>>\n",
 		    total_collections,
-		    AvgResidency*sizeof(W_)/ResidencySamples, 
+		    (ResidencySamples==0) ? 0 : AvgResidency*sizeof(W_)/ResidencySamples,
 		    MaxResidency*sizeof(W_), 
 		    ResidencySamples,
 		    (unsigned long)(mblocks_allocated * MBLOCK_SIZE / (1024L * 1024L)),
