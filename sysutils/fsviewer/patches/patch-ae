$NetBSD: patch-ae,v 1.1 2001/07/22 17:42:09 wiz Exp $

--- src/FSPanel.c.orig	Sat Oct  9 20:45:22 1999
+++ src/FSPanel.c
@@ -103,7 +103,7 @@
     WMSetWindowTitle(info->win, "Info");
     WMSetWindowCloseAction(info->win, FSCloseInfoPanel, (void *) info);
     
-    if ((appicon = WMGetApplicationIconImage(info->scr)))
+    if ((appicon = WMGetApplicationIconPixmap(info->scr)))
     {
 	WMSize	appIconSize;
 	
@@ -624,13 +624,7 @@
     FSSetFSViewerConfirmWindow(app, WMWidgetXID(confirm->win));
     WMMapWidget(confirm->win);
     
-    while (!(confirm->done))
-    {
-	XEvent event;
-	
-	WMNextEvent(dpy, &event);
-	WMHandleEvent(&event);
-    }
+    WMRunModalLoop(scr, W_VIEW(confirm->win));
     result = confirm->result;
     
     WMDestroyAlertPanel(confirm);
@@ -1257,7 +1251,7 @@
 
     normalFont = WMSystemFontOfSize(alertPanel->scr, 10);
 
-    appIcon = WMGetApplicationIconImage(alertPanel->scr);
+    appIcon = WMGetApplicationIconPixmap(alertPanel->scr);
     pixmapSize = WMGetPixmapSize(appIcon);
     if (appIcon) 
     {
