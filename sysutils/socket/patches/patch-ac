$NetBSD: patch-ac,v 1.3 2004/05/10 16:36:33 minskim Exp $

--- globals.h.orig	1992-08-30 14:04:27.000000000 -0500
+++ globals.h
@@ -8,6 +8,10 @@ Please read the file COPYRIGHT for furth
 */
 
 #include "patchlevel.h"
+ 
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
 
 /* globals for socket */
 
@@ -22,9 +26,16 @@ Please read the file COPYRIGHT for furth
 #define A(args) ()
 #endif
 
+#ifndef USE_INET6
 int create_server_socket A((int port, int queue_length)) ;
 int create_client_socket A((char **hostname, int port)) ;
 int resolve_service A((char *name_or_number, char *protocol, char **name)) ;
+#else /* USE_INET6 */
+int *create_server_sockets A((char **port, int queue_length)) ;
+int create_client_socket A((char **hostname, char **port)) ;
+int socket_local_name A((int socket, char **name, char **ipname, char **port));
+int socket_remote_name A((int socket, char **name, char **ipname, char **port));
+#endif /* USE_INET6 */
 void catchsig A((int sig)) ;
 void usage A((void)) ;
 int do_read_write A((int from, int to)) ;
@@ -49,4 +60,7 @@ extern int quitflag ;
 extern int crlfflag ;
 extern int active_socket ;
 extern char *progname ;
-extern char *sys_errlist[], *sys_siglist[] ;
+
+#if !(defined(BSD) && (BSD >=199306)) && !defined(__linux__)
+     extern char *sys_errlist[], *sys_siglist[] ;
+#endif
