$NetBSD: patch-ad,v 1.2 2003/04/26 08:33:01 seb Exp $

--- contrib/vicf.in.orig	2003-02-09 11:33:04.000000000 +0000
+++ contrib/vicf.in
@@ -3,14 +3,15 @@
 prefix=@prefix@
 exec_prefix=@exec_prefix@
 sbindir=@sbindir@
+ECHO=@ECHO@
 EDITOR="${EDITOR-vi}"
 CFINPUTS="${CFINPUTS-"@pkgdata@"}"
 export EDITOR CFINPUTS
 NOPARSE="cf.preconf|cfd.conf"
 
-if [ "`hostname`" != "sentral" ]
+if [ "`hostname`" != "CHANGEME" ]
 then
-	echo $0 can only be run on host sentral.
+	echo $0 can only be run on host CHANGEME.
 	exit 1
 fi
 
@@ -20,7 +21,7 @@ EdFile () {
 	echo "File not found: ${file}"
 	echo "Only these files are eligible for editing:"
 	\ls $CFINPUTS
-	/usr/ucb/echo -n "Create new file? (Y/n) "
+	${ECHO} -n "Create new file? (Y/n) "
 	read answer
 	if [ "$answer" = "n" ]
 	then
@@ -32,14 +33,15 @@ EdFile () {
     if [ -f ${CFINPUTS}/.${file}.lock -a "$force" = "n" ]
     then
 	i=30
-	/usr/ucb/echo -n "File ${file} is busy -- waiting up to $i seconds..."
+	${ECHO} -n "File ${file} is busy -- waiting up to $i seconds..."
 	while [ -f ${CFINPUTS}/.${file}.lock ]
 	do
-		/usr/ucb/echo -n .
+		${ECHO} -n .
 		i=`expr $i - 1`
 		if [ $i = 0 ]
 		then
-			echo "\nSorry, file is busy -- try again later."
+			${ECHO} ""
+			${ECHO} "Sorry, file is busy -- try again later."
 			exit 0
 		fi
 		sleep 1
@@ -62,7 +64,7 @@ EdFile () {
 	then
 		echo PARSE ERROR IN NEW INPUT-FILE:
 		cat /tmp/cfparse.$$
-		/usr/ucb/echo -n "Re-edit file? (Y/n) "
+		${ECHO} -n "Re-edit file? (Y/n) "
 		read answer
 		if [ "$answer" = "n" ]
 		then
