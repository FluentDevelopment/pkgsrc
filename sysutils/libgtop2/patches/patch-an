$NetBSD: patch-an,v 1.1 2006/02/28 23:48:12 joerg Exp $

--- sysdeps/freebsd/procstate.c.orig	2004-09-24 22:49:06.000000000 +0000
+++ sysdeps/freebsd/procstate.c
@@ -80,6 +80,14 @@ glibtop_get_proc_state_p (glibtop *serve
 #define	PROC_RGID	ki_rgid
 #define PROC_STAT	ki_stat
 
+#elif defined(__DragonFly__)
+#define	PROC_COMM	kp_thread.td_comm
+#define	PROC_SVUID	kp_eproc.e_ucred.cr_svuid
+#define	PROC_SVGID	kp_eproc.e_ucred.cr_svgid
+#define	PROC_RUID	kp_eproc.e_ucred.cr_ruid
+#define	PROC_RGID	kp_eproc.e_ucred.cr_rgid
+#define	PROC_STAT	kp_proc.p_stat
+
 #else
 #define	PROC_COMM	kp_proc.p_comm
 #define	PROC_SVUID	kp_eproc.e_pcred.p_svuid
