$NetBSD: patch-ag,v 1.3 2004/09/16 18:08:36 minskim Exp $

--- src/df.c.orig	2000-09-10 12:16:00.000000000 -0500
+++ src/df.c
@@ -51,7 +51,8 @@ char *file;
 enum cfsizes type;
 
 {
-#if defined SOLARIS || defined OSF || defined UNIXWARE 
+#if defined SOLARIS || defined OSF || defined UNIXWARE || \
+  (defined(__NetBSD__) && __NetBSD_Version__ >= 200040000)
     struct statvfs buf;
 #elif defined ULTRIX
     struct fs_data buf;
@@ -73,7 +74,8 @@ enum cfsizes type;
        CfLog(cferror,OUTPUT,"");
        return cfinfinity;
        }
-#elif defined SOLARIS || defined OSF || defined UNIXWARE 
+#elif defined SOLARIS || defined OSF || defined UNIXWARE || \
+  (defined(__NetBSD__) && __NetBSD_Version__ >= 200040000)
     if (statvfs (file, &buf) != 0)
        {
        sprintf(OUTPUT,"Couldn't get filesystem info for %s\n",file);
