$NetBSD: patch-ap,v 1.2 2007/04/27 19:45:02 christos Exp $

--- resource.c.orig	2005-12-01 23:08:27.000000000 -0500
+++ resource.c	2007-04-27 14:59:25.000000000 -0400
@@ -41,7 +41,7 @@
 #ifdef SUNOS4
 #include <ufs/quota.h>
 #endif /* SUNOS4 */
-#if defined(SVR4) || defined(FREEBSD)
+#if defined(SVR4) || defined(ALLBSD)
 #include <sys/times.h>
 #include <sys/time.h>
 #endif
@@ -458,9 +458,11 @@
 			tprintf("{...}");
 		else {
 			tprintf("{tms_utime=%lu, tms_stime=%lu, ",
-				tbuf.tms_utime, tbuf.tms_stime);
+				(unsigned long)tbuf.tms_utime,
+				(unsigned long)tbuf.tms_stime);
 			tprintf("tms_cutime=%lu, tms_cstime=%lu}",
-				tbuf.tms_cutime, tbuf.tms_cstime);
+				(unsigned long)tbuf.tms_cutime,
+				(unsigned long)tbuf.tms_cstime);
 		}
 	}
 	return 0;
@@ -567,9 +569,9 @@
 
 #endif /* Linux */
 
-#if defined(SUNOS4) || defined(FREEBSD)
+#if defined(SUNOS4) || defined(ALLBSD)
 
-#ifdef FREEBSD
+#ifdef ALLBSD
 #include <ufs/ufs/quota.h>
 #endif
 
@@ -599,7 +601,7 @@
 		tprintf(", ");
 		printstr(tcp, tcp->u_arg[1], -1);
 #endif
-#ifdef FREEBSD
+#ifdef ALLBSD
 		printpath(tcp, tcp->u_arg[0]);
 		tprintf(", ");
 		printxval(quotacmds, tcp->u_arg[1], "Q_???");
@@ -609,4 +611,4 @@
 	return 0;
 }
 
-#endif /* SUNOS4 || FREEBSD */
+#endif /* SUNOS4 || ALLBSD */
