# $NetBSD: Makefile,v 1.21 2006/10/28 21:29:47 wiz Exp $
#

DISTNAME=	skill-4.1.1
CATEGORIES=	sysutils
MASTER_SITES=	ftp://ftp.flux.utah.edu/pub/skill/
EXTRACT_SUFX=	.tgz

MAINTAINER=	kim@tac.nyc.ny.us
HOMEPAGE=	http://mysite.verizon.net/jforys/jeffware.html
COMMENT=	Signal processes given user names, ttys, commands, or pids

NOT_FOR_PLATFORM+= Interix-*-* # currently no machdep support

.include "../../mk/bsd.prefs.mk"

.if ${OPSYS} == "NetBSD"
MAKE_ENV+=	OSTYPE=nbsd-44
.elif ${OPSYS} == "Darwin"
MAKE_ENV+=	OSTYPE=nbsd-44
.elif ${OPSYS} == "DragonFly"
MAKE_ENV+=	OSTYPE=nbsd-44
CPPFLAGS+=	-DHAS_STRERROR=1
.elif ${OPSYS} == "SunOS"
BINMODE=	02555
MAKE_ENV+=	OSTYPE=sys-5r4 BINGRP=sys CPPFLAGS=
.endif

pre-install:
	${INSTALL_PROGRAM} ${WRKSRC}/skill ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/skill.1 ${PREFIX}/man/man1
	${RM} -f ${PREFIX}/bin/snice ${PREFIX}/man/man1/snice.1
	${LN} -s skill ${PREFIX}/bin/snice
	${LN} -s skill.1 ${PREFIX}/man/man1/snice.1

.include "../../mk/bsd.pkg.mk"
