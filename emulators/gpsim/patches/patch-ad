$NetBSD: patch-ad,v 1.3 2004/05/02 20:08:14 bouyer Exp $

--- src/pir.h.orig	2004-02-07 03:50:52.000000000 +0100
+++ src/pir.h	2004-04-29 23:32:37.000000000 +0200
@@ -93,11 +93,7 @@
       put(get() | SSPIF);
     }
 
-  inline void set_txif(void)
-    {
-      put(get() | TXIF);
-    }
-
+  void set_txif(void);
   inline void set_rcif(void)
     {
       put(get() | RCIF);
@@ -178,11 +174,7 @@
       put(get() | SSPIF);
     }
 
-  inline void set_txif(void)
-    {
-      put(get() | TXIF);
-    }
-
+  void set_txif(void);
   inline void set_rcif(void)
     {
       put(get() | RCIF);
@@ -205,7 +197,7 @@
   void clear_txif(void);
   unsigned int get_rcif(void)
     {
-      return value & TXIF;
+      return value & RCIF;
     }
   void clear_rcif(void);
  
