$NetBSD: patch-al,v 1.3 2006/09/05 00:44:38 xtraeme Exp $

--- osdep.h.orig	2006-07-22 19:23:34.000000000 +0200
+++ osdep.h	2006-09-05 01:25:58.000000000 +0200
@@ -2,6 +2,8 @@
 #define QEMU_OSDEP_H
 
 #include <stdarg.h>
+#include <sys/types.h>
+#include <sys/signal.h>
 
 int qemu_vsnprintf(char *buf, int buflen, const char *fmt, va_list args);
 void qemu_vprintf(const char *fmt, va_list ap);
@@ -27,13 +29,19 @@
 
 #include <signal.h>
 
+#ifndef __NetBSD__
 struct siginfo;
+#endif
 
 /* NOTE: it works only because the glibc sigset_t is >= kernel sigset_t */
 struct qemu_sigaction {
     union {
         void (*_sa_handler)(int);
+#ifdef __NetBSD__
+        void (*_sa_sigaction)(int, siginfo_t *, void *);
+#else
         void (*_sa_sigaction)(int, struct siginfo *, void *);
+#endif
     } _u;
     unsigned long sa_flags;
     void (*sa_restorer)(void);
