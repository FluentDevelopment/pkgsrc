$NetBSD: patch-ad,v 1.3 2002/12/07 20:59:53 kristerw Exp $
--- src/unix/video-drivers/blit.h.orig	Sat Dec  7 03:00:00 2002
+++ src/unix/video-drivers/blit.h	Sat Dec  7 03:02:49 2002
@@ -156,6 +156,7 @@
 
 
 
+#ifndef BROKEN_COMPILER
 case 2:
 #define SCALE_X(X) ((X)*2)
 #ifdef INDIRECT
@@ -265,6 +266,7 @@
 #include "blit_core.h"
 break;
 
+#endif /* #ifndef BROKEN_COMPILER */
 #undef SCALE_X
 #undef COPY_LINE2
 
@@ -503,6 +505,7 @@
 #define SCALE_Y(Y) (Y)
 
 /* 1x1 we don't do scanlines with 1x1 */
+#ifndef BROKEN_COMPILER
 case 0x00101:
 case 0x10101:
 #define COPY_LINE(SRC, END, DST) { COPY_LINE2(SRC, END, DST) }
@@ -958,6 +961,10 @@
 /* This is what happens when you give an assembly-language programmer
    a C compiler.  Thanks to td, of course.                             -JDL */
 
+#endif /* #ifndef BROKEN_COMPILER */
+#undef COPY_LINE2
+#undef SCALE_X
+#undef SCALE_Y
 default:
 
 #ifdef INDIRECT
