$NetBSD: patch-ag,v 1.1 2006/09/24 15:20:28 joerg Exp $

--- ic/ieee754/ieee754-misc-auto.sh.orig	2005-05-11 00:13:33.000000000 +0000
+++ ic/ieee754/ieee754-misc-auto.sh
@@ -473,7 +473,10 @@ tme_ieee754_${precision}_value_from_buil
   tme_uint32_t chunk;
 
   /* x must not be a NaN or an infinity: */
-#if (TME_FLOAT_FORMAT_IEEE754_${capprecision}_BUILTIN == TME_FLOAT_FORMAT_FLOAT)
+#if defined(isnan) && defined(__DragonFly__)
+  assert (!isnan(x_builtin));
+  assert (!isinf(x_builtin));
+#elif (TME_FLOAT_FORMAT_IEEE754_${capprecision}_BUILTIN == TME_FLOAT_FORMAT_FLOAT)
   assert (!isnanf(x_builtin));
   assert (!isinff(x_builtin));
 #elif (TME_FLOAT_FORMAT_IEEE754_${capprecision}_BUILTIN == TME_FLOAT_FORMAT_DOUBLE)
