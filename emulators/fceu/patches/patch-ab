$NetBSD: patch-ab,v 1.2 2004/07/24 01:11:41 kristerw Exp $

SOL_TCP is 6, the same as IPPROTO_TCP and ISOPROTO_TCP on NetBSD.

--- src/drivers/pc/unix-netplay.c.orig	Mon May 17 07:28:06 2004
+++ src/drivers/pc/unix-netplay.c	Sat Jul 24 03:01:36 2004
@@ -76,6 +76,7 @@
  unsigned long hadr;
  int TSocket;
  int netdivisor;
+ int tcpopt = 1;
   
  if(!netplayhost) return(0);
 
@@ -85,8 +86,7 @@
   FCEUD_NetworkClose();
   return(0);
  }
- int tcpopt = 1;  
- if(setsockopt(TSocket, SOL_TCP, TCP_NODELAY, &tcpopt, sizeof(int)))
+ if(setsockopt(TSocket, 6, TCP_NODELAY, &tcpopt, sizeof(int)))
   puts("Nodelay fail");
 
  memset(&sockin,0,sizeof(sockin));
