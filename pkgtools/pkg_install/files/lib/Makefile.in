# $NetBSD: Makefile.in,v 1.6 2003/09/23 07:44:51 grant Exp $

srcdir=		@srcdir@

pkgdbdir=	@pkgdbdir@

tar=		@tar@
ftp=		@ftp@

RANLIB=		@RANLIB@
AR=		@AR@
CC=		@CC@
CPPFLAGS=	@CPPFLAGS@ -I. -I$(srcdir)
DEFS=		@DEFS@ -DDEF_LOG_DIR=\"$(pkgdbdir)\" -DTAR_CMD=\"$(tar)\" -DFTP_CMD=\"$(ftp)\"
CFLAGS=		@CFLAGS@

LIB=	libinstall.a

SRCS=	exec.c fexec.c file.c ftpio.c global.c lpkg.c path.c pen.c \
	pkgdb.c plist.c str.c version.c
OBJS=	$(SRCS:.c=.o)

.PHONY: all clean install

.c.o:
	$(CC) $(DEFS) $(CPPFLAGS) $(CFLAGS) -c $<

all: $(LIB)

$(LIB): $(OBJS)
	$(AR) crv $@ $(OBJS)
	$(RANLIB) $@

clean:
	rm -f $(OBJS) $(LIB)

install:
	@# do nothing
