$NetBSD: patch-ab,v 1.4 2001/10/15 22:45:59 skrll Exp $

--- kate/main/Makefile.am.orig	Thu May 31 16:51:43 2001
+++ kate/main/Makefile.am
@@ -1,4 +1,4 @@
-lib_LTLIBRARIES = libkatecore.la kate.la kwrite.la
+lib_LTLIBRARIES = libkatecore.la libkate_main.la kate.la libkwrite_main.la kwrite.la
 bin_PROGRAMS = kate kwrite
 
 libkatecore_la_SOURCES = dummy.cpp
@@ -10,20 +10,28 @@
 		../pluginmanager/libkatepluginmanager.la ../interfaces/libkateinterfaces.la -lktexteditor -lkspell -lkdeprint
 libkatecore_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)  $(KDE_PLUGIN)  -module -avoid-version
 
-kate_la_SOURCES = katemain.cpp
-kate_la_LIBADD  = libkatecore.la
+libkate_main_la_SOURCES = katemain.cpp
+libkate_main_la_LIBADD  = libkatecore.la
+libkate_main_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)
+
+kate_la_SOURCES = kate_main.cpp
+kate_la_LIBADD  = libkate_main.la
 kate_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -module -avoid-version
 
-kwrite_la_SOURCES = kwritemain.cpp
-kwrite_la_LIBADD   = libkatecore.la
+libkwrite_main_la_SOURCES = kwritemain.cpp
+libkwrite_main_la_LIBADD   = libkatecore.la
+libkwrite_main_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)
+
+kwrite_la_SOURCES = kwrite_main.cpp
+kwrite_la_LIBADD   = libkwrite_main.la
 kwrite_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)  -module -avoid-version
 
-kate_SOURCES = dummy.cpp
-kate_LDADD = kate.la
+kate_SOURCES = kate_main.cpp
+kate_LDADD = libkate_main.la
 kate_LDFLAGS = $(KDE_RPATH) $(all_libraries)
 
-kwrite_SOURCES = dummy.cpp
-kwrite_LDADD = kwrite.la
+kwrite_SOURCES = kwrite_main.cpp
+kwrite_LDADD = libkwrite_main.la
 kwrite_LDFLAGS = $(KDE_RPATH) $(all_libraries)
 
 dummy.cpp:
