$NetBSD: patch-en,v 1.1 2001/10/15 22:46:11 skrll Exp $

--- kxkb/Makefile.am.orig	Tue May 15 22:36:28 2001
+++ kxkb/Makefile.am
@@ -3,20 +3,24 @@
 
 bin_PROGRAMS = kxkb
 
-kxkb_SOURCES = dummy.cpp
+kxkb_SOURCES = kxkb_main.cpp
 kxkb_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kxkb_LDADD = kxkb.la
+kxkb_LDADD = libkxkb_main.la
 
-lib_LTLIBRARIES = libkcm_keyboard.la kxkb.la
+lib_LTLIBRARIES = libkcm_keyboard.la libkxkb_main.la kxkb.la
  
 libkcm_keyboard_la_SOURCES = rules.cpp kcmlayout.cpp pixmap.cpp kcmmisc.cpp
  
 libkcm_keyboard_la_LDFLAGS  = $(all_libraries) -module -avoid-version -no-undefined
 libkcm_keyboard_la_LIBADD = @XTESTLIB@ $(LIB_KFILE)
 
-kxkb_la_SOURCES = rules.cpp kxkb.cpp extension.cpp pixmap.cpp
+libkxkb_main_la_SOURCES = rules.cpp kxkb.cpp extension.cpp pixmap.cpp
+libkxkb_main_la_LDFLAGS = $(all_libraries)
+libkxkb_main_la_LIBADD = -lX11 -lXext $(LIB_KDEUI)
+ 
+kxkb_la_SOURCES = kxkb_main.cpp
 kxkb_la_LDFLAGS = $(all_libraries) -module -avoid-version
-kxkb_la_LIBADD = -lX11 -lXext $(LIB_KDEUI)
+kxkb_la_LIBADD = libkxkb_main.la
  
 data_DATA = keyboard.desktop
 datadir = $(kde_appsdir)/Settings/Peripherals
@@ -31,6 +35,3 @@
 messages: 
 	$(XGETTEXT) $(kxkb_la_SOURCES) kxkbbindings.cpp -o $(podir)/kxkb.pot
 	$(XGETTEXT) $(libkcm_keyboard_la_SOURCES) kxkbbindings.cpp -o $(podir)/kcmlayout.pot 
-
-dummy.cpp:
-	echo > dummy.cpp
