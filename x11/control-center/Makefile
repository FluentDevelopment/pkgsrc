# $NetBSD: Makefile,v 1.11 2006/04/17 13:46:01 wiz Exp $

DISTNAME=		control-center-1.4.0.5
PKGREVISION=		4
CATEGORIES=		x11 gnome
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/control-center/1.4/}

MAINTAINER=		pkgsrc-users@NetBSD.org
HOMEPAGE=		http://www.gnome.org/
COMMENT=		GNOME control-center development library

BROKEN_GETTEXT_DETECTION=	yes

USE_DIRS+=		xdg-1.1 gnome1-1.5
USE_X11BASE=		YES
USE_TOOLS+=		gmake msgfmt
USE_PKGLOCALEDIR=	YES

USE_LIBTOOL=		YES

LOCALSTATEDIR=		${PREFIX}/var

GNU_CONFIGURE=		YES
CONFIGURE_ARGS+=	--localstatedir=${LOCALSTATEDIR:Q}

.include "../../mk/bsd.prefs.mk"

# Linux has libintl functionality in libc
.if ${OPSYS} != "Linux"
CONFIGURE_ENV+=		INTLLIBS="-lintl"
.endif

post-patch:
	@${ECHO} >>${WRKSRC}/control-center/cappletConf.sh.in ""

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/control-center/capplets

.include "../../devel/popt/buildlink3.mk"
.include "../../devel/gettext-lib/buildlink3.mk"
.include "../../graphics/gdk-pixbuf/buildlink3.mk"
.include "../../sysutils/gnome-vfs/buildlink3.mk"
.include "../../textproc/scrollkeeper/omf.mk"
.include "../../x11/gnome-libs/buildlink3.mk"

.include "../../mk/bsd.pkg.mk"
