$NetBSD: patch-aj,v 1.1 2005/07/13 13:10:27 wiz Exp $

--- daemon/gdm.c.orig	2005-07-10 09:24:31.000000000 +0000
+++ daemon/gdm.c
@@ -4249,7 +4249,7 @@ gdm_handle_user_message (GdmConnection *
 			return;
 		}
 
-#if defined(__linux__) || defined(__FreeBSD__)
+#if defined(__linux__) || defined(__FreeBSD__) || defined(__DragonFly__)
 		gdm_connection_printf (conn, "OK %d\n", gdm_get_cur_vt ());
 #else
 		gdm_connection_write (conn, "ERROR 8 Virtual terminals not supported\n");
@@ -4275,7 +4275,7 @@ gdm_handle_user_message (GdmConnection *
 			return;
 		}
 
-#if defined(__linux__) || defined(__FreeBSD__)
+#if defined(__linux__) || defined(__FreeBSD__) || defined(__DragonFly__)
 		gdm_change_vt (vt);
 		for (li = displays; li != NULL; li = li->next) {
 			GdmDisplay *disp = li->data;
