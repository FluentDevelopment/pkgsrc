$NetBSD: patch-bf,v 1.1 2005/05/23 19:14:15 xtraeme Exp $

--- programs/Xserver/hw/xfree86/os-support/linux/drm/xf86drmCompat.c.orig	2005-04-30 22:49:33.000000000 +0200
+++ programs/Xserver/hw/xfree86/os-support/linux/drm/xf86drmCompat.c	2005-04-30 22:53:03.000000000 +0200
@@ -78,7 +78,7 @@
 #include "r128_drm.h"
 #include <inttypes.h>		/* for int64_t & friends */
 #include "radeon_drm.h"
-#ifndef __FreeBSD__
+#if !(defined(__FreeBSD__) || defined(__DragonFly__))
 #include "sis_drm.h"
 #include "i810_drm.h"
 #include "i830_drm.h"
@@ -89,7 +89,7 @@
  * extensions used before XFree86 4.3.
  */
 
-#ifndef __FreeBSD__
+#if !(defined(__FreeBSD__) || defined(__DragonFly__))
 /* I810 */
 
 Bool drmI810CleanupDma(int driSubFD)
@@ -1013,7 +1013,7 @@
    }
 }
 
-#ifndef __FreeBSD__
+#if !(defined(__FreeBSD__) || defined(__DragonFly__))
 /* SiS */
 
 Bool drmSiSAgpInit(int driSubFD, int offset, int size)
