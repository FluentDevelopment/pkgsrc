$NetBSD: patch-ax,v 1.4 2006/02/14 16:10:40 joerg Exp $

--- programs/xdm/config/Xsession.cpp.orig	2006-02-12 16:32:25.000000000 +0100
+++ programs/xdm/config/Xsession.cpp
@@ -6,9 +6,8 @@ XCOMM $XFree86: xc/programs/xdm/config/X
 XCOMM redirect errors to a file in user's home directory if we can
 for errfile in "$HOME/.xsession-errors" "${TMPDIR-/tmp}/xses-$USER" "/tmp/xses-$USER"
 do
-	if ( cp /dev/null "$errfile" 2> /dev/null )
+	if ( umask 077 && cp /dev/null "$errfile" 2> /dev/null )
 	then
-		chmod 600 "$errfile"
 		exec > "$errfile" 2>&1
 		break
 	fi
@@ -18,7 +17,7 @@ case $# in
 1)
 	case $1 in
 	failsafe)
-		exec BINDIR/xterm -geometry 80x24-0-0
+		exec xterm -geometry 80x24-0-0
 		;;
 	esac
 esac
