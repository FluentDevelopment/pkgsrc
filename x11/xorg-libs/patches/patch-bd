$NetBSD: patch-bd,v 1.1 2005/05/23 19:14:15 xtraeme Exp $

--- extras/drm/shared/drm.h.orig	2005-04-30 23:19:49.000000000 +0200
+++ extras/drm/shared/drm.h	2005-04-30 23:21:37.000000000 +0200
@@ -46,8 +46,8 @@
 #define DRM_IOC_WRITE		_IOC_WRITE
 #define DRM_IOC_READWRITE	_IOC_READ|_IOC_WRITE
 #define DRM_IOC(dir, group, nr, size) _IOC(dir, group, nr, size)
-#elif defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
-#if defined(__FreeBSD__) && defined(IN_MODULE)
+#elif defined(__DragonFly__) || defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
+#if (defined(__DragonFly__) || defined(__FreeBSD__)) && defined(IN_MODULE)
 /* Prevent name collision when including sys/ioccom.h */
 #undef ioctl
 #include <sys/ioccom.h>
