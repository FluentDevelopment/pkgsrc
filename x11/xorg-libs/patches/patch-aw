$NetBSD: patch-aw,v 1.3 2006/03/02 23:57:14 joerg Exp $

--- programs/Xserver/hw/xfree86/os-support/bsd/Imakefile.orig	2006-01-06 17:29:53.000000000 +0000
+++ programs/Xserver/hw/xfree86/os-support/bsd/Imakefile
@@ -8,7 +8,7 @@ XCOMM $XFree86: xc/programs/Xserver/hw/x
 
 #include <Server.tmpl>
 
-#if defined(KFreeBSDArchitecture) || defined(NetBSDArchitecture) || defined(OpenBSDArchitecture)
+#if defined(KFreeBSDArchitecture) || defined(NetBSDArchitecture) || defined(OpenBSDArchitecture) || defined(DragonFlyArchitecture)
 #if BuildXInputExt
 # if JoystickSupport
  JOYSTICK_SRC = bsd_jstk.c
@@ -47,7 +47,7 @@ SHARED_CFLAGS = PositionIndependentCFlag
   IOPERM_SRC = ioperm_noop.c
   IOPERM_OBJ = ioperm_noop.o
 # endif
-#elif defined(KFreeBSDArchitecture)
+#elif defined(KFreeBSDArchitecture) || defined(DragonFlyArchitecture)
 # if defined(i386Architecture) || defined(AMD64Architecture)
   IOPERMDEFINES = -DUSE_DEV_IO
 # elif defined(AlphaBsdArchitecture)
@@ -128,7 +128,7 @@ AXP_OBJ=bsd_ev56.o xf86Axp.o bsd_axp.o
 #endif
 
 #if (defined(KFreeBSDArchitecture) || defined(NetBSDArchitecture) || \
-	defined(OpenBSDArchitecture)) && HasAgpGart
+	defined(OpenBSDArchitecture) || defined(DragonFlyArchitecture)) && HasAgpGart
 AGP_SRC=lnx_agp.c
 AGP_OBJ=lnx_agp.o
 #else
@@ -220,7 +220,7 @@ LinkSourceFile(vidmem.c,../shared)
 LinkSourceFile(sigio.c,../shared)
 LinkSourceFile(kmod_noop.c,../shared)
 #if (defined(KFreeBSDArchitecture) || defined(NetBSDArchitecture) || \
-	defined(OpenBSDArchitecture)) && HasAgpGart
+	defined(OpenBSDArchitecture) || defined(DragonFlyArchitecture)) && HasAgpGart
 LinkSourceFile(lnx_agp.c,../linux)
 #else
 LinkSourceFile(agp_noop.c,../shared)
