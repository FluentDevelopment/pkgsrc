$NetBSD: patch-cd,v 1.1 2002/12/06 11:00:31 skrll Exp $

--- kio/misc/ktelnetservice.cpp.orig	Tue Sep 25 12:04:11 2001
+++ kio/misc/ktelnetservice.cpp	Fri Dec  6 08:46:50 2002
@@ -48,9 +48,16 @@
 
 	KURL url(args->arg(0));
 	QStringList cmd;
-	
+
 	cmd << "-e";
-	cmd << "telnet";
+        if ( url.protocol() == "telnet" )
+            cmd << "telnet";
+        else if ( url.protocol() == "rlogin" )
+            cmd << "rlogin";
+        else {
+            kdError() << "Invalid protocol " << url.protocol() << endl;
+            return 2;
+        }
 	if (!url.user().isEmpty())
 	{
 		cmd << "-l";
