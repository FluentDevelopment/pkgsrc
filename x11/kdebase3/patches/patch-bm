$NetBSD: patch-bm,v 1.6 2003/07/30 13:34:59 markd Exp $

--- kicker/applets/launcher/Makefile.in.orig	2003-07-15 22:03:33.000000000 +1200
+++ kicker/applets/launcher/Makefile.in
@@ -437,14 +437,14 @@ lnk_DATA = quicklauncher.desktop
 EXTRA_DIST = $(lnk_DATA)
 
 launcher_panelapplet_la_LDFLAGS = -module $(KDE_PLUGIN) $(all_libraries)
-launcher_panelapplet_la_LIBADD = ../../kicker.la $(LIB_KSYCOCA) $(LIB_KDEUI)
+launcher_panelapplet_la_LIBADD = ../../libkicker_main.la $(LIB_KSYCOCA) $(LIB_KDEUI)
 subdir = kicker/applets/launcher
 mkinstalldirs = $(SHELL) $(top_srcdir)/admin/mkinstalldirs
 CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(kde_module_LTLIBRARIES)
 
-launcher_panelapplet_la_DEPENDENCIES = ../../kicker.la
+launcher_panelapplet_la_DEPENDENCIES = ../../libkicker_main.la
 am_launcher_panelapplet_la_OBJECTS = quicklauncher.lo quickbutton.lo \
 	quickaddappsmenu.lo
 #>- launcher_panelapplet_la_OBJECTS = $(am_launcher_panelapplet_la_OBJECTS)
@@ -673,7 +673,7 @@ distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 #>- DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 #>+ 4
-KDE_DIST=quicklauncher.desktop 
+KDE_DIST=Makefile.in.rej quicklauncher.desktop 
 
 DISTFILES= $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST) $(KDE_DIST)
 
@@ -829,12 +829,6 @@ launcher_panelapplet.la.closure: $(launc
 
 
 #>+ 3
-quickbutton.moc: $(srcdir)/quickbutton.h
-	$(MOC) $(srcdir)/quickbutton.h -o quickbutton.moc
-
-#>+ 1
-mocs: quickbutton.moc
-#>+ 3
 quickaddappsmenu.moc: $(srcdir)/quickaddappsmenu.h
 	$(MOC) $(srcdir)/quickaddappsmenu.h -o quickaddappsmenu.moc
 
@@ -847,8 +841,14 @@ quicklauncher.moc: $(srcdir)/quicklaunch
 #>+ 1
 mocs: quicklauncher.moc
 #>+ 3
+quickbutton.moc: $(srcdir)/quickbutton.h
+	$(MOC) $(srcdir)/quickbutton.h -o quickbutton.moc
+
+#>+ 1
+mocs: quickbutton.moc
+#>+ 3
 clean-metasources:
-	-rm -f  quickbutton.moc quickaddappsmenu.moc quicklauncher.moc
+	-rm -f  quickaddappsmenu.moc quicklauncher.moc quickbutton.moc
 
 #>+ 3
 clean-closures:
@@ -865,7 +865,7 @@ force-reedit:
 
 
 #>+ 11
-launcher_panelapplet_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/quicklauncher.cpp $(srcdir)/quickbutton.cpp $(srcdir)/quickaddappsmenu.cpp  quickbutton.moc quickaddappsmenu.moc quicklauncher.moc
+launcher_panelapplet_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/quicklauncher.cpp $(srcdir)/quickbutton.cpp $(srcdir)/quickaddappsmenu.cpp  quicklauncher.moc quickaddappsmenu.moc quickbutton.moc
 	@echo 'creating launcher_panelapplet_la.all_cpp.cpp ...'; \
 	rm -f launcher_panelapplet_la.all_cpp.files launcher_panelapplet_la.all_cpp.final; \
 	echo "#define KDE_USE_FINAL 1" >> launcher_panelapplet_la.all_cpp.final; \
@@ -901,9 +901,9 @@ kde-rpo-clean:
 	-rm -f *.rpo
 
 #>+ 7
-quicklauncher.lo: quicklauncher.moc 
+quicklauncher.o: quicklauncher.moc 
 quickaddappsmenu.lo: quickaddappsmenu.moc 
-quickbutton.lo: quickbutton.moc 
 quickbutton.o: quickbutton.moc 
-quicklauncher.o: quicklauncher.moc 
 quickaddappsmenu.o: quickaddappsmenu.moc 
+quicklauncher.lo: quicklauncher.moc 
+quickbutton.lo: quickbutton.moc 
