$NetBSD: patch-ae,v 1.5 2004/04/20 12:37:34 markd Exp $

--- kcontrol/krdb/krdb.cpp.orig	2004-04-04 19:42:18.000000000 +1200
+++ kcontrol/krdb/krdb.cpp
@@ -343,8 +343,8 @@ static void createGtkrc( bool exportColo
         t << "  base[NORMAL] = " << color( cg.base() ) << endl;
         t << "  base[SELECTED] = " << color( cg.highlight() ) << endl;
         t << "  base[INSENSITIVE] = " << color( cg.background() ) << endl;
-        t << "  base[ACTIVE] = " << color( cg.base() ) << endl;
-        t << "  base[PRELIGHT] = " << color( cg.base() ) << endl;
+        t << "  base[ACTIVE] = " << color( cg.highlight() ) << endl;
+        t << "  base[PRELIGHT] = " << color( cg.highlight() ) << endl;
         t << endl;
         t << "  text[NORMAL] = " << color( cg.text() ) << endl;
         t << "  text[SELECTED] = " << color( cg.highlightedText() ) << endl;
@@ -384,7 +384,14 @@ static void createGtkrc( bool exportColo
         // not every button, checkbox, etc.
         t << "style \"MenuItem\"" << endl;
         t << "{" << endl;
-        t << "  bg[PRELIGHT] = " << color( cg.highlight() ) << endl;
+	if (cg.highlight() == cg.text())
+	{
+	    t << "  bg[PRELIGHT] = " << color( cg.background() ) << endl;
+	}
+	else
+	{
+	    t << "  bg[PRELIGHT] = " << color( cg.highlight() ) << endl;
+	}
         t << "}" << endl;
         t << endl;
         t << "class \"*MenuItem\" style \"MenuItem\"" << endl;
