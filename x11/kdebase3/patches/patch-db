$NetBSD: patch-db,v 1.4 2005/11/08 18:25:44 joerg Exp $

--- kcontrol/clock/dtime.cpp.orig	2005-08-17 23:34:03.000000000 +0000
+++ kcontrol/clock/dtime.cpp
@@ -306,7 +306,7 @@ void Dtime::save()
     KProcess c_proc;
 
   // BSD systems reverse year compared to Susv3
-#if defined(__OpenBSD__) || defined(__FreeBSD__) || defined(__NetBSD__)
+#if defined(__OpenBSD__) || defined(__FreeBSD__) || defined(__NetBSD__) || defined(__DragonFly__)
     BufS.sprintf("%04d%02d%02d%02d%02d.%02d",
                date.year(),
                date.month(), date.day(),
@@ -324,7 +324,7 @@ void Dtime::save()
     c_proc.start( KProcess::Block );
     int result = c_proc.exitStatus();
     if (result != 0
-#if defined(__OpenBSD__) || defined(__FreeBSD__) || defined(__NetBSD__)
+#if defined(__OpenBSD__) || defined(__FreeBSD__) || defined(__NetBSD__) || defined(__DragonFly__)
   	  && result != 2	// can only set local date, which is okay
 #endif
       ) {
