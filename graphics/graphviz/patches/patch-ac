$NetBSD: patch-ac,v 1.3 2002/03/21 08:47:07 seb Exp $

--- configure.orig	Wed Mar 20 18:06:51 2002
+++ configure
@@ -1388,7 +1388,7 @@
 echo "$as_me: WARNING: ${am_backtick}missing' script is too old or missing" >&2;}
 fi
 
-for ac_prog in gawk mawk nawk awk
+for ac_prog in mawk gawk nawk awk
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
@@ -3077,7 +3077,7 @@
 done
 test -n "$YACC" || YACC="yacc"
 
-for ac_prog in gawk mawk nawk awk
+for ac_prog in mawk gawk nawk awk
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
@@ -7527,7 +7527,10 @@
 PATHSEPARATOR=";"
 else
 # This sucks!  Whatever happened to standards for file system layout?
-DEFAULT_FONTPATH="/usr/X11R6/lib/X11/fonts/TrueType:/usr/X11R6/lib/X11/fonts/truetype:/usr/share/fonts/TrueType:/usr/share/fonts/truetype:/usr/openwin/lib/X11/fonts/TrueType"
+DEFAULT_FONTPATH="${X11PREFIX}/lib/X11/fonts/TrueType:${X11PREFIX}/lib/X11/fonts/truetype"
+if test x"$X11PREFIX" != x"$X11BASE" ; then
+DEFAULT_FONTPATH="${DEFAULT_FONTPATH}:${X11BASE}/lib/X11/fonts/TrueType:${X11BASE}/lib/X11/fonts/truetype"
+fi
 PATHSEPARATOR=":"
 fi
 fi
@@ -7725,9 +7728,8 @@
 
 # Some systems don't have Tcl.  Don't build
 # the Tcl products if we don't have the library.
-TCLCONFIG=${TCLSH_EXEC_PREFIX}/lib/tclConfig.sh
 if test -f $TCLCONFIG; then
-    echo "$as_me:7730: result: using $TCLCONFIG" >&5
+    echo "$as_me:7732: result: using $TCLCONFIG" >&5
 echo "${ECHO_T}using $TCLCONFIG" >&6
     file=${TCLCONFIG}
     . $file
@@ -7731,10 +7733,10 @@
 echo "${ECHO_T}using $TCLCONFIG" >&6
     file=${TCLCONFIG}
     . $file
-    TCL_SUBDIRS="tclstubs tclhandle gdtclft tcldot tcldgr tcldgl tclpathplan"
+    TCL_SUBDIRS="tclhandle gdtclft tcldot tcldgr tcldgl tclpathplan"
     TCL_PKGINDEX="gdtclft/pkgIndex.tcl tcldot/pkgIndex.tcl tcldgr/pkgIndex.tcl tcldgl/pkgIndex.tcl tclpathplan/pkgIndex.tcl"
 else
-    { echo "$as_me:7737: WARNING: Unable to find tclConfig.sh. The packages: \"gdtclft tcldot tcldgr tcldgl tclpathplan\" will not be built" >&5
+    { echo "$as_me:7739: WARNING: Unable to find tclConfig.sh. The packages: \"gdtclft tcldot tcldgr tcldgl tclpathplan\" will not be built" >&5
 echo "$as_me: WARNING: Unable to find tclConfig.sh. The packages: \"gdtclft tcldot tcldgr tcldgl tclpathplan\" will not be built" >&2;}
     TCL_SUBDIRS=""
     TCL_PKGINDEX=""
@@ -7754,9 +7756,8 @@
 
 # Some systems have Tcl, but not TK.  Don't build
 # the Tk products if we don't have the library.
-TKCONFIG=${WISH_EXEC_PREFIX}/lib/tkConfig.sh
 if test -f $TKCONFIG; then
-    echo "$as_me:7759: result: using $TKCONFIG" >&5
+    echo "$as_me:7760: result: using $TKCONFIG" >&5
 echo "${ECHO_T}using $TKCONFIG" >&6
     file=${TKCONFIG}
     . $file
@@ -7760,10 +7761,10 @@
 echo "${ECHO_T}using $TKCONFIG" >&6
     file=${TKCONFIG}
     . $file
-    TK_SUBDIRS="tkstubs tkspline"
+    TK_SUBDIRS="tkspline"
     TK_PKGINDEX="tkspline/pkgIndex.tcl"
 else
-    { echo "$as_me:7766: WARNING: Unable to find tkConfig.sh. The package \"tkspline\" will not be built" >&5
+    { echo "$as_me:7767: WARNING: Unable to find tkConfig.sh. The package \"tkspline\" will not be built" >&5
 echo "$as_me: WARNING: Unable to find tkConfig.sh. The package \"tkspline\" will not be built" >&2;}
     TK_SUBDIRS=""
     TK_PKGINDEX=""
@@ -10978,35 +10979,11 @@
 
 # -----------------------------------
 # tclInt.h
-if test -f "$TCL_SRC_DIR/generic/tclInt.h"; then
-TCLINT_INCLUDES="-I$TCL_SRC_DIR/generic"
-else
-if test -f "/usr/include/tclInt.h"; then
-TCLINT_INCLUDES="-I/usr/include"
-else
-if test -f "/usr/local/include/tclInt.h"; then
-TCLINT_INCLUDES="-I/usr/local/include"
-else
-TCLINT_INCLUDES="-I$TOP_DIR/tclstubs"
-fi
-fi
-fi
+TCLINT_INCLUDES="-I${BUILDLINK_DIR}/include/tcl/generic"
 
 # -----------------------------------
 # tkInt.h
-if test -f "$TK_SRC_DIR/generic/tkInt.h"; then
-TKINT_INCLUDES="-I$TK_SRC_DIR/generic"
-else
-if test -f "/usr/include/tkInt.h"; then
-TKINT_INCLUDES="-I/usr/include"
-else
-if test -f "/usr/local/include/tkInt.h"; then
-TKINT_INCLUDES="-I/usr/local/include"
-else
-TKINT_INCLUDES="-I$TOP_DIR/tkstubs"
-fi
-fi
-fi
+TKINT_INCLUDES="-I${BUILDLINK_DIR}/include/tk/generic"
 
 # -----------------------------------
 # Special checks
