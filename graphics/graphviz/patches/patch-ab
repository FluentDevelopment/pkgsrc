$NetBSD: patch-ab,v 1.6 2003/07/28 10:06:46 seb Exp $

--- configure.in.orig	2003-07-09 19:28:52.000000000 +0000
+++ configure.in
@@ -59,7 +59,10 @@ DEFAULT_FONTPATH="C:/WINDOWS/FONTS;C:/WI
 PATHSEPARATOR=";"
 else
 # This sucks!  Whatever happened to standards for file system layout?
-DEFAULT_FONTPATH="/usr/X11R6/lib/X11/fonts/TrueType:/usr/X11R6/lib/X11/fonts/truetype:/usr/X11R6/lib/X11/fonts/TTF:/usr/share/fonts/TrueType:/usr/share/fonts/truetype:/usr/openwin/lib/X11/fonts/TrueType:/usr/X11R6/lib/X11/fonts/Type1:/usr/common/share/fonts/ttf"
+DEFAULT_FONTPATH="${X11PREFIX}/lib/X11/fonts/TrueType:${X11PREFIX}/lib/X11/fonts/truetype:${X11PREFIX}/lib/X11/fonts/TTF:/usr/share/fonts/TrueType:/usr/share/fonts/truetype:/usr/openwin/lib/X11/fonts/TrueType:${X11PREFIX}/lib/X11/fonts/Type1:/usr/common/share/fonts/ttf"
+if test x"$X11PREFIX" != x"$X11BASE"; then
+DEFAULT_FONTPATH="${DEFAULT_FONTPATH}:${X11BASE}/lib/X11/fonts/TrueType:${X11BASE}/lib/X11/fonts/truetype:${X11BASE}/lib/X11/fonts/TTF:${X11BASE}/lib/X11/fonts/Type1"
+fi
 PATHSEPARATOR=":"
 fi
 fi
@@ -214,7 +217,7 @@ if test "x$TCLCONFIG" != "x"; then
     . $file
     # TCL STUBS support is required
     if test "${TCL_SUPPORTS_STUBS}" = "1"; then
-        TCL_SUBDIRS="tclstubs tclhandle gdtclft tcldot tcldgr tcldgl tclpathplan"
+        TCL_SUBDIRS="tclhandle gdtclft tcldot tcldgr tcldgl tclpathplan"
         TCL_PKGINDEX="gdtclft/pkgIndex.tcl tcldot/pkgIndex.tcl tcldgr/pkgIndex.tcl tcldgl/pkgIndex.tcl tclpathplan/pkgIndex.tcl"
     else
         AC_MSG_WARN([Tcl does not have STUBs support, perhaps it is too old? The packages: "gdtclft tcldot tcldgr tcldgl tclpathplan" will not be built])
@@ -328,7 +331,7 @@ if test "x$TKCONFIG" != "x"; then
     file=${TKCONFIG}
     . $file
     if test "${TCL_SUPPORTS_STUBS}" = "1"; then
-        TK_SUBDIRS="tkstubs tkspline"
+        TK_SUBDIRS="tkspline"
         TK_PKGINDEX="tkspline/pkgIndex.tcl"
     else
         AC_MSG_WARN([Tcl does not have STUBs support, so neither does Tk. The packages: "tkspline" will not be built])
@@ -763,36 +766,12 @@ AC_MSG_RESULT(no)])
 
 # -----------------------------------
 # tclInt.h
-if test -f "$TCL_SRC_DIR/generic/tclInt.h"; then
-TCLINT_INCLUDES="-I$TCL_SRC_DIR/generic"
-else
-if test -f "/usr/include/tclInt.h"; then
-TCLINT_INCLUDES=""
-else
-if test -f "/usr/local/include/tclInt.h"; then
-TCLINT_INCLUDES="-I/usr/local/include"
-else
-TCLINT_INCLUDES="-I$TOP_DIR/tclstubs"
-fi
-fi
-fi
+TCLINT_INCLUDES="-I${BUILDLINK_PREFIX_TCL}/include/tcl/generic"
 AC_SUBST(TCLINT_INCLUDES)
 
 # -----------------------------------
 # tkInt.h
-if test -f "$TK_SRC_DIR/generic/tkInt.h"; then
-TKINT_INCLUDES="-I$TK_SRC_DIR/generic"
-else
-if test -f "/usr/include/tkInt.h"; then
-TKINT_INCLUDES=""
-else
-if test -f "/usr/local/include/tkInt.h"; then
-TKINT_INCLUDES="-I/usr/local/include"
-else
-TKINT_INCLUDES="-I$TOP_DIR/tkstubs"
-fi
-fi
-fi
+TKINT_INCLUDES="-I${BUILDLINK_PREFIX_TK}/include/tk/generic"
 AC_SUBST(TKINT_INCLUDES)
 
 # -----------------------------------
