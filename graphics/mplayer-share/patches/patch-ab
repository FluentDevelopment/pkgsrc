$NetBSD: patch-ab,v 1.7 2003/02/22 16:26:18 fredb Exp $

--- libavcodec/alpha/simple_idct_alpha.c.orig	Tue Nov 26 19:20:20 2002
+++ libavcodec/alpha/simple_idct_alpha.c	Sat Feb 22 05:57:45 2003
@@ -49,7 +49,7 @@
 static inline int idct_row(DCTELEM *row)
 {
     int_fast32_t a0, a1, a2, a3, b0, b1, b2, b3, t;
-    uint64_t l, r;
+    uint64_t l, r, t2;
     l = ldq(row);
     r = ldq(row + 4);
 
@@ -60,12 +60,12 @@
 
     if (((l & ~0xffffUL) | r) == 0) {
         a0 >>= ROW_SHIFT;
-        a0 = (uint16_t) a0;
-        a0 |= a0 << 16;
-        a0 |= a0 << 32;
+        t2 = (uint16_t) a0;
+        t2 |= t2 << 16;
+        t2 |= t2 << 32;
         
-        stq(a0, row);
-        stq(a0, row + 4);
+        stq(t2, row);
+        stq(t2, row + 4);
         return 1;
     }
 
