$NetBSD: patch-aa,v 1.3 2004/03/14 00:44:27 markd Exp $

--- kghostview/Makefile.am	2004-02-29 21:43:17.000000000 +1300
+++ kghostview/Makefile.am	2003-09-03 02:02:44.000000000 +1200
@@ -5,18 +5,15 @@
 ####### Files
 
 bin_PROGRAMS = 	kghostview
-lib_LTLIBRARIES = libkghostviewlib.la
 kde_module_LTLIBRARIES = libkghostviewpart.la
 noinst_LTLIBRARIES = libdscparse.la
 
-libkghostviewlib_la_LDFLAGS = $(all_libraries)
-libkghostviewlib_la_LIBADD = $(LIB_KFILE) $(LIB_KPARTS) -lkdeprint libdscparse.la
-
 libkghostviewpart_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN) -module
-libkghostviewpart_la_LIBADD = libkghostviewlib.la
+libkghostviewpart_la_LIBADD = $(LIB_KFILE) $(LIB_KPARTS) -lkdeprint \
+	libdscparse.la
 
 # Check "make final" after making changes to the following line!!
-libkghostviewlib_la_SOURCES = kgvshell.cpp kgvdocument.cpp kgv_miniwidget.cpp \
+libkghostviewpart_la_SOURCES = kgvshell.cpp kgvdocument.cpp kgv_miniwidget.cpp \
 	marklist.cpp logwindow.cpp infodialog.cpp \
 	kgvpageview.cpp ps.c kgv_view.cpp scrollbox.cpp  kgvpagedecorator.cpp \
 	kgvconfigdialog.cpp kgvmainwidget.cpp \
@@ -24,14 +21,9 @@
 	fullscreenfilter.cpp kgvfactory.cpp \
     generalsettingswidget.ui gssettingswidget.ui thumbnailservice.cpp
 
-libkghostviewpart_la_SOURCES = part_dummy.cpp
-
-part_dummy.cpp:
-	touch part_dummy.cpp
-
 kghostview_SOURCES = main.cpp
 kghostview_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kghostview_LDADD = libkghostviewlib.la
+kghostview_LDADD = libkghostviewpart.la
 
 libdscparse_la_LDFLAGS = $(all_libraries) -no-undefined
 libdscparse_la_LIBADD = $(LIB_QT)
