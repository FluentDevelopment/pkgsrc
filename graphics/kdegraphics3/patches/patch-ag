$NetBSD: patch-ag,v 1.1 2002/08/28 07:15:30 skrll Exp $

--- kuickshow/src/Makefile.am.orig	Fri Mar 22 01:31:08 2002
+++ kuickshow/src/Makefile.am
@@ -1,26 +1,29 @@
 ## Makefile.am for kuickshow
 
 bin_PROGRAMS = kuickshow
-lib_LTLIBRARIES = kuickshow.la
+lib_LTLIBRARIES = libkuickshow_main.la kuickshow.la
 
 # set the include path for X, qt and KDE
 INCLUDES = $(all_includes)
 KDE_CXXFLAGS = $(IMLIB_CFLAGS)
-CLEANFILES = dummy.cpp
 METASOURCES = AUTO
 
-kuickshow_la_LDFLAGS = $(all_libraries) -module -avoid-version
-kuickshow_la_LIBADD  = $(LIB_KDEPRINT) $(LIB_IMLIB)
-kuickshow_la_SOURCES =	kuickshow.cpp \
+libkuickshow_main_la_LDFLAGS = $(all_libraries)
+libkuickshow_main_la_LIBADD  = $(LIB_KDEPRINT) $(LIB_IMLIB)
+libkuickshow_main_la_SOURCES =	kuickshow.cpp \
 	aboutwidget.cpp     generalwidget.cpp  kuickconfigdlg.cpp  main.cpp \
 	defaultswidget.cpp  imagewindow.cpp    kuickdata.cpp  \
 	imdata.cpp          basewidget.cpp \
 	filefinder.cpp      kurlwidget.cpp logo.cpp filewidget.cpp \
 	logotabdialog.cpp  kuickio.cpp    kuick.cpp imlibwidget.cpp
 
+kuickshow_la_LDFLAGS = $(all_libraries) -module -avoid-version
+kuickshow_la_LIBADD  = $(LIB_KDEPRINT) $(LIB_IMLIB) libkuickshow_main.la
+kuickshow_la_SOURCES =	kuickshow_main.cpp
+
 # now the kuickshow binary
-kuickshow_LDADD = kuickshow.la $(LIB_KIO) $(LIB_IMLIB)
-kuickshow_SOURCES = dummy.cpp
+kuickshow_LDADD = libkuickshow_main.la $(LIB_KIO) $(LIB_IMLIB)
+kuickshow_SOURCES = kuickshow_main.cpp
 kuickshow_LDFLAGS = $(all_libraries) $(KDE_RPATH)
 
 
@@ -36,6 +39,3 @@ KDE_ICON = kuickshow
  # this is where the kdelnk file will go 
 appsdir   = $(kde_appsdir)/Graphics
 apps_DATA = kuickshow.desktop
-
-dummy.cpp:
-	echo "// generated dummy file" > dummy.cpp
