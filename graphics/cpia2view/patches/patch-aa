$NetBSD: patch-aa,v 1.1 2004/03/09 15:55:17 hamajima Exp $

--- cpia2shot.c.orig	2004-03-09 22:19:13.000000000 +0900
+++ cpia2shot.c	2004-03-09 22:27:15.000000000 +0900
@@ -128,9 +128,9 @@
     /* enable checksum to isoc data */
     chksum = 1;
     if ( (ret = ioctl(usbdev.fd, USB_SET_PACKETCHKSUM, (void *)&chksum)) != 0 ) {
-	    perror("USB_SET_PACKETCHKSUM");
-	    ret = 1;
-	    goto OPENERR;
+	    fprintf(stderr, "You should apply following kernel patch to use this package.\n");
+	    fprintf(stderr, "\thttp://www2.starcat.ne.jp/~takam/bsd/cpia2-netbsd-sys-1.6.2.diff\n");
+	    exit(1);
     }
 
     /* set size and start stream */
--- cpia2view.c.orig	2004-03-09 22:19:13.000000000 +0900
+++ cpia2view.c	2004-03-09 22:27:56.000000000 +0900
@@ -142,9 +142,9 @@
     /* enable checksum to isoc data */
     chksum = 1;
     if ( (ret = ioctl(usbdev.fd, USB_SET_PACKETCHKSUM, (void *)&chksum)) != 0 ) {
-	    perror("USB_SET_PACKETCHKSUM");
-	    ret = 1;
-	    goto OPENERR;
+	    fprintf(stderr, "You should apply following kernel patch to use this package.\n");
+	    fprintf(stderr, "\thttp://www2.starcat.ne.jp/~takam/bsd/cpia2-netbsd-sys-1.6.2.diff\n");
+	    exit(1);
     }
 
     /* set size and start stream */
