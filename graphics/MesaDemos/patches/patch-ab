$NetBSD: patch-ab,v 1.3 2003/05/10 16:37:12 drochner Exp $

--- demos/Makefile.X11.orig	2001-08-21 07:42:11.000000000 +0200
+++ demos/Makefile.X11	2003-05-10 18:23:01.000000000 +0200
@@ -9,8 +9,8 @@
 
 ##### MACROS #####
 
-INCDIR = ../include
-LIBDIR = ../lib
+INCDIR = ${X11PREFIX}/include
+LIBDIR = ${X11PREFIX}/lib
 
 GL_LIBS = -L$(LIBDIR) -lglut -lGLU -lGL $(APP_LIB_DEPS)
 
@@ -36,7 +36,6 @@
 	morph3d \
 	multiarb \
 	occlude \
-	osdemo \
 	paltex \
 	pixeltex \
 	pointblast \
@@ -44,7 +43,6 @@
 	readpix \
 	reflect \
 	renormal \
-	shadowtex \
 	spectex \
 	stex3d \
 	teapot \
@@ -68,11 +66,11 @@
 
 # make executable from .c file:
 .c: $(LIB_DEP)
-	$(CC) -I$(INCDIR) -I../util $(CFLAGS) $< $(GL_LIBS) -o $@
+	$(CC) -I$(INCDIR) $(CFLAGS) ${LDFLAGS} $< $(GL_LIBS) -o $@
 
 # special case: need the -lOSMesa library:
 osdemo: osdemo.c
-	$(CC) -I$(INCDIR) $(CFLAGS) osdemo.c $(OSMESA_LIBS) -o $@
+	$(CC) -I$(INCDIR) $(CFLAGS) ${LDFLAGS} osdemo.c $(OSMESA_LIBS) -o $@
 
 
 ##### TARGETS #####
@@ -95,7 +93,7 @@
 	cp ../util/readtex.c .
 
 readtex.h:
-	cp ../util/readtex.c .
+	cp ../util/readtex.h .
 
 
 # execute all programs
