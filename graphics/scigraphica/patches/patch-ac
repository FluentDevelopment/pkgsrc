$NetBSD: patch-ac,v 1.2 2002/01/24 19:24:04 wiz Exp $

--- zvt/subshell.c.orig	Tue Nov 20 22:41:43 2001
+++ zvt/subshell.c
@@ -242,6 +242,7 @@
 }
 #endif
 
+#if 0
 static int
 path_max (void)
 {
@@ -255,7 +256,7 @@
 #  endif
 #endif
 }
-
+#endif
 
 static struct termios*
 init_term_with_defaults(struct termios* term)
@@ -423,20 +424,17 @@
 static void *
 get_ptys (int *master, int *slave, int update_wutmp)
 {
-	GnomePtyOps op;
 	int result, n;
 	void *tag;
 	struct termios term;	
-        char *term_name;
 
 /*
 //	*master = receive_fd (helper_socket_fdpassing [0]);
 //	*slave  = receive_fd (helper_socket_fdpassing [0]);
 */
 
-        term_name = ((char *) alloca (path_max())) + 1;
 	init_term_with_defaults(&term);
-	openpty (master, slave, term_name, &term, NULL);
+	openpty (master, slave, 0, &term, NULL);
         tag=master;
 	return tag;
 }
