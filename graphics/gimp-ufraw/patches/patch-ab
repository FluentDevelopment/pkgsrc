$NetBSD: patch-ab,v 1.1 2005/04/13 16:56:27 rillig Exp $

Needed for ISO C90 compliance.

--- ufraw_preview.c.orig	Tue Feb  8 16:04:59 2005
+++ ufraw_preview.c	Tue Apr 12 10:14:48 2005
@@ -288,7 +288,7 @@ void color_labels_set(colorLabels *l, fl
 
     for (c=0; c<3; c++) {
         switch (l->format) {
-        case pixel_format: snprintf(buf1, max_name, "%3.f", data[c]); break;
+        case pixel_format: snprintf(buf1, max_name, "%3.0f", data[c]); break;
         case percent_format:
                       if (data[c]<10.0)
                           snprintf(buf1, max_name, "%2.1f%%", data[c]);
@@ -599,11 +599,11 @@ void reset_to_defaults(GtkWidget *widget
 
 void spot_wb(GtkWidget *widget, gpointer user_data)
 {
-    widget = widget;
-    user_data = user_data;
     int xi, yi, c;
     float rgb[3];
 
+    widget = widget;
+    user_data = user_data;
     if (freezeDialog) return;
     if (!spotOn) {
         ufraw_message(UFRAW_ERROR, "Select a spot on the preview image "
