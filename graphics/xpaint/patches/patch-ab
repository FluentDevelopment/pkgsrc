$NetBSD: patch-ab,v 1.3 2003/07/17 09:01:02 adam Exp $

--- rw/libpnmrw.c.orig	2002-12-15 11:41:26.000000000 +0100
+++ rw/libpnmrw.c	2003-07-17 09:43:18.000000000 +0200
@@ -49,7 +49,7 @@
 
 void *malloc(int);
 void free(void *);
-#if defined(__EMX__) || defined(__CYGWIN__)
+#if defined(__EMX__) || defined(__CYGWIN__) || defined(__NetBSD__)
 #include <errno.h>
 #endif
 
@@ -134,6 +134,7 @@
 static void
 pm_perror(char *reason)
 {
+#if !defined(__NetBSD__)
 #if defined(BSD4_4)
     __const extern char *__const sys_errlist[];
 #else
@@ -150,6 +151,7 @@
 #if !defined(__EMX__) || defined(__CYGWIN__)
     extern int errno;
 #endif
+#endif
     char *e;
 
     e = (char *)sys_errlist[errno];
