$NetBSD: patch-aa,v 1.18 2005/12/17 20:49:45 wiz Exp $

--- src/tools/solver/lp_solve/lp_solve.c.orig	2005-08-25 19:28:28.000000000 +0200
+++ src/tools/solver/lp_solve/lp_solve.c
@@ -15891,10 +15891,10 @@ static double timeNow(void)
 #elif defined CLOCKTIME
   return((double)clock()/CLOCKS_PER_SEC /* CLK_TCK */);
 #else
-  struct timeb buf;
+  struct timeval tv;
 
-  ftime(&buf);
-  return((double)buf.time+((double) buf.millitm)/1000.0);
+  gettimeofday(&tv, NULL);
+  return((double)tv.tv_sec+((double) tv.tv_usec)/1000000.0);
 #endif
 }
 
