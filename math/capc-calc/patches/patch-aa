$NetBSD: patch-aa,v 1.3 2003/01/03 20:35:29 wiz Exp $

--- Makefile.orig	Sun Dec 29 08:14:00 2002
+++ Makefile
@@ -556,7 +556,7 @@ HAVE_UNISTD_H=
 
 #INCDIR= /usr/local/include
 #INCDIR= /dev/env/DJDIR/include
-INCDIR= /usr/include
+INCDIR= ${PREFIX}/include
 
 # Where to install calc realted things
 #
@@ -583,15 +583,15 @@ INCDIR= /usr/include
 #
 #BINDIR= /usr/local/bin
 #BINDIR= /dev/env/DJDIR/bin
-BINDIR= /usr/bin
+BINDIR= ${PREFIX}/bin
 
 #LIBDIR= /usr/local/lib
 #LIBDIR= /dev/env/DJDIR/lib
-LIBDIR= /usr/lib
+LIBDIR= ${PREFIX}/lib
 
 #CALC_SHAREDIR= /usr/local/lib/calc
 #CALC_SHAREDIR= /dev/env/DJDIR/share/calc
-CALC_SHAREDIR= /usr/share/calc
+CALC_SHAREDIR= ${PREFIX}/share/calc
 
 #CALC_INCDIR= /usr/local/include/calc
 #CALC_INCDIR= /dev/env/DJDIR/include/calc
@@ -665,7 +665,7 @@ T=
 #MANDIR=
 #MANDIR= /usr/local/man/man1
 #MANDIR= /usr/man/man1
-MANDIR= /usr/share/man/man1
+MANDIR= ${PREFIX}/man/man1
 #MANDIR= /dev/env/DJDIR/man/man1
 #MANDIR= /usr/man/u_man/man1
 #MANDIR= /usr/contrib/man/man1
@@ -676,7 +676,7 @@ MANDIR= /usr/share/man/man1
 #
 # Use CATDIR= to disable installation of the calc cat (formatted) page.
 #
-CATDIR=
+CATDIR= ${PREFIX}/man/cat1
 #CATDIR= /usr/local/man/cat1
 #CATDIR= /usr/local/catman/cat1
 #CATDIR= /usr/man/cat1
@@ -697,9 +697,9 @@ MANEXT= 1
 #
 # This is ignored if CATDIR is empty.
 #
-CATEXT= 1
+#CATEXT= 1
 #CATEXT= 1.gz
-#CATEXT= 0
+CATEXT= 0
 #CATEXT= l
 
 # how to format a man page
@@ -725,8 +725,8 @@ CATEXT= 1
 # and CATDIR to empty and ignore the NROFF, NROFF_ARG and MANMAKE
 # lines below.
 #
-#NROFF= nroff
-NROFF=
+NROFF= nroff
+#NROFF=
 #NROFF= groff
 NROFF_ARG= -man
 #NROFF_ARG= -mandoc
@@ -770,10 +770,10 @@ CALCRC= ${CALC_SHAREDIR}/startup:~/.calc
 #
 # If in doubt, set USE_READLINE, READLINE_LIB and READLINE_INCLUDE to nothing.
 #
-USE_READLINE=
-#USE_READLINE= -DUSE_READLINE
+#USE_READLINE=
+USE_READLINE= -DUSE_READLINE
 #
-READLINE_LIB=
+READLINE_LIB= -lreadline -ltermcap
 #READLINE_LIB= -lreadline -lhistory -lncurses
 #READLINE_LIB= -L/usr/gnu/lib -lreadline -lhistory -lncurses
 #READLINE_LIB= -L/usr/local/lib -lreadline -lhistory -lncurses
@@ -786,10 +786,10 @@ READLINE_INCLUDE=
 #
 # Select CALCPAGER= less.exe -ci for DJGPP.
 #
-CALCPAGER= more
+#CALCPAGER= more
 #CALCPAGER= pg
 #CALCPAGER= cat
-#CALCPAGER= less
+CALCPAGER= less
 #CALCPAGER= less.exe -ci
 
 # Debug/Optimize options for ${CC} and ${LCC}
@@ -807,7 +807,7 @@ CALCPAGER= more
 #DEBUG= -O1 -g3
 #
 #DEBUG= -O2
-DEBUG= -O2 -g
+#DEBUG= -O2 -g
 #DEBUG= -O2 -g3
 #DEBUG= -O2 -ipa
 #DEBUG= -O2 -g3 -ipa
@@ -959,10 +959,10 @@ CCWARN= -Wall -Wno-implicit -Wno-comment
 CCOPT= ${DEBUG} ${NO_SHARED}
 CCMISC=
 #
-CFLAGS= -DCALC_SRC ${CCWARN} ${CCOPT} ${CCMISC}
-ICFLAGS= -DCALC_SRC ${CCWARN} ${CCMISC}
+CFLAGS= -DCALC_SRC ${CCWARN} ${CCOPT} ${CCMISC} ${CPPFLAGS}
+ICFLAGS= -DCALC_SRC ${CCWARN} ${CCMISC} ${CPPFLAGS}
 #
-LDFLAGS= ${NO_SHARED} ${LD_NO_SHARED}
+LDFLAGS+= ${NO_SHARED} ${LD_NO_SHARED}
 ILDFLAGS=
 #
 LCC= gcc
