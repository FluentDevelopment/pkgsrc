$NetBSD: patch-ah,v 1.9 2006/05/22 19:20:04 wiz Exp $

--- routines/pvm/pvm_proc_ctrl.c.orig	2005-01-07 20:49:25.000000000 +0000
+++ routines/pvm/pvm_proc_ctrl.c
@@ -388,7 +388,8 @@ void C2F(scipvmspawn)(char *task,  int *
   char cmd[256];
   char *arg[4];
   int nargs= -1;
-    
+  char *path;
+
   arg[0] = NULL;
    
   cmd[0] = 0;
@@ -401,7 +402,13 @@ void C2F(scipvmspawn)(char *task,  int *
   strcpy(cmd, "scilex.exe");
 #else
   /* I really need scilab here for gtk -version */
-  strcpy(cmd, "scilab");
+  if (path = getenv("SCI")){
+       strcpy(cmd,path);
+       strcat(cmd,"/bin/scilab");
+  }
+  else {
+       strcpy(cmd, "scilab");
+  }
 #endif 
 #if (defined __MSC__) || (defined __ABSC__) || defined(__MINGW32__) 
   if ( _stricmp(task,"null") != 0) 
