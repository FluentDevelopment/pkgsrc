$NetBSD: patch-ah,v 1.8 2004/07/15 04:00:47 dmcmahill Exp $

--- routines/pvm/pvm_proc_ctrl.c.orig	Sat Feb 28 13:50:09 2004
+++ routines/pvm/pvm_proc_ctrl.c
@@ -381,7 +381,8 @@ void C2F(scipvmspawn)(char *task,  int *
   char cmd[256];
   char *arg[4];
   int nargs= -1;
-    
+  char *path;
+
   arg[0] = NULL;
    
   cmd[0] = 0;
@@ -394,7 +395,13 @@ void C2F(scipvmspawn)(char *task,  int *
   strcpy(cmd, "scilex.exe");
 #else
   /* I really need scilab here for gtk -version */
-  strcpy(cmd, "scilab");
+  if (path = getenv("SCI")){
+       strcpy(cmd,path);
+       strcat(cmd,"/bin/scilab");
+  }
+  else {
+       strcpy(cmd, "scilab");
+  }
 #endif 
 #if (defined __MSC__) || (defined __ABSC__) || defined(__MINGW32__) 
   if ( _stricmp(task,"null") != 0) 
