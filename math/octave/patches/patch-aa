$NetBSD: patch-aa,v 1.8 2003/07/02 20:58:34 jtb Exp $

--- configure.orig
+++ configure
@@ -798,7 +798,7 @@
 
 
 
-LIBKPATHSEA='$(TOPDIR)/kpathsea/libkpathsea.$(LIBEXT)'
+LIBKPATHSEA='$(TOPDIR)/kpathsea/STATIC/libkpathsea.$(LIBEXT)'
 
 
 ### Make it possible to have Octave's array and matrix classes do bounds
@@ -2561,7 +2561,7 @@
 }
 #if defined (sun)
 int MAIN_ () { return 0; }
-#elif defined (linux) && defined (__ELF__)
+#elif (defined (linux) && defined (__ELF__)) || defined(__NetBSD__)
 int MAIN__ () { return 0; }
 #endif
 EOF
@@ -2833,7 +2833,7 @@
 
 FORTRAN_MAIN_FLAG=
 case "$canonical_host_type" in
-  *-linux-*)
+  *-linux-*|*-netbsd*)
     FORTRAN_MAIN_FLAG="-u MAIN__"
   ;;
 esac
@@ -5312,7 +5312,7 @@
 
 
 TERMLIBS=""
-for termlib in ncurses curses termcap terminfo termlib; do
+for termlib in termcap terminfo termlib; do
   echo $ac_n "checking for tputs in -l${termlib}""... $ac_c" 1>&6
 echo "configure:5318: checking for tputs in -l${termlib}" >&5
 ac_lib_var=`echo ${termlib}'_'tputs | sed 'y%./+-%__p_%'`
@@ -5364,12 +5364,10 @@
 
 if test "$ac_cv_lib_termcap_tputs" = yes \
   || test "$ac_cv_lib_terminfo_tputs" = yes \
-  || test "$ac_cv_lib_ncurses_tputs" = yes \
-  || test "$ac_cv_lib_curses_tputs" = yes \
   || test "$ac_cv_lib_termlib_tputs" = yes; then
   true
 else
-  warn_termlibs="I couldn't find -ltermcap, -lterminfo, -lncurses, -lcurses, or -ltermlib!"
+  warn_termlibs="I couldn't find -ltermcap, -lterminfo, or -ltermlib!"
   echo "configure: warning: $warn_termlibs" 1>&2
 fi
 
@@ -7502,4 +7500,3 @@
 
 ### End of configure.
 chmod +x install-octave
-
