$NetBSD: patch-ad,v 1.2 2005/08/12 20:58:45 jmmv Exp $

--- tools/build/v1/gcc-tools.jam.orig	2005-08-12 17:06:38.000000000 +0200
+++ tools/build/v1/gcc-tools.jam
@@ -422,7 +422,7 @@ rule Link-action
         LNOPT on $(<) = "" ;
     }
     # do we use sonames or not?
-    if $(DLLVERSION) && $(TARGET_TYPE) in $(SHARED_TYPES) && ( $(OS) = LINUX || $(OS) = OPENBSD ) && ! $(NO_GNU_LN)
+    if $(DLLVERSION) && $(TARGET_TYPE) in $(SHARED_TYPES) && ( $(OS) = DRAGONFLY || $(OS) = FREEBSD || $(OS) = LINUX || $(OS) = NETBSD || $(OS) = OPENBSD ) && ! $(NO_GNU_LN)
     {
         OUTTAG on $(<) = ".$(DLLVERSION)" ;
         SOTAG on $(<) = ".$(DLLVERSION)" ;
@@ -468,7 +468,7 @@ rule Link-action
     gcc-spawn $(<) ;
     gcc-Link-action $(<) : $(>) ;
 
-    if $(DLLVERSION) && $(TARGET_TYPE) in $(SHARED_TYPES) && ( $(OS) = LINUX || $(OS) = OPENBSD ) && ! $(NO_GNU_LN)
+    if $(DLLVERSION) && $(TARGET_TYPE) in $(SHARED_TYPES) && ( $(OS) = DRAGONFLY || $(OS) = FREEBSD || $(OS) = LINUX || $(OS) = NETBSD || $(OS) = OPENBSD ) && ! $(NO_GNU_LN)
     {
         return "$(<[1]).$(DLLVERSION)" ;
     }
