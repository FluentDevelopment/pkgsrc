$NetBSD: NOTES,v 1.3 2002/12/23 15:10:05 jlam Exp $

 Caching
 =======

The caching problems seem to be related to correct manipulation of
variables containing values with escaped metacharacters by the shell.  The
current code only does partial caching, which doesn't cache "special"
arguments that contain escaped metacharacters or other oddly quoted values.
On certain platforms listed in _BLNK_CACHE_ALL in bsd.buildlink2.mk, we do
full caching, which has enormous speed benefits since it avoids an extra
sed invocation per "special" argument.

The test process for buildlink2 consists of building and installing:

	shells/tcsh		tests handling of specially-quoted arguments
	devel/gettext-lib	same as above, but uses libtool

Full caching can be tested be adding ${OPSYS} to _BLNK_CACHE_ALL and
performing the tests above.

Platform			Working?	Full caching?
--------			--------	-------------
IRIX				N/A		N/A
Linux				N/A		N/A
Darwin 5.5 (schmonz)		Yes!		No
Darwin 6.2 (grant)		Yes!		No
NetBSD 1.5.x (gendalia)		Yes!		Yes!
NetBSD 1.6 (jlam)		Yes!		Yes!
OpenBSD (cjep)			Yes!		N/A
Solaris 7			N/A		N/A
Solaris 8 (grant)		Yes!		N/A
Solaris 9 (salo)		Yes!		N/A
