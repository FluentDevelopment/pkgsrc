# $NetBSD: post-cache,v 1.8 2002/12/22 19:02:44 jlam Exp $

*)
	# $qarg contains a correctly-quoted $arg
	case $arg in
	*[\`\"\$\\]*)
		qarg=`@ECHO@ "X$arg" | $Xsed -e "$sed_quote_subst"`
		quotedarg=yes
		;;
	*)
		qarg="$arg"
		;;
	esac
	case $qarg in
		*[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
		qarg="\"$qarg\""
		quotedarg=yes
		;;
	esac
	searcharg="$qarg"

	case $arg in
	-D*)
		arg="$qarg"
		addtocache=yes
		;;
        -[ILRl]*|-Wl,*|/usr/lib/lib*|@LOCALBASE@/*/lib*|@X11BASE@/*/lib*)
		arg=`@ECHO@ "X$qarg" | $Xsed @_BLNK_TRANSFORM_SED@`
		addtocache=yes
		;;
	*)
		arg="$qarg"
		addtocache=no
		;;
	esac
	case $updatecache,$addtocache,$cacheall,$quotedarg in
	yes,yes,yes,*|yes,yes,no,no)
		case $arg in
		*[\`\"\$\\]*)
			cachearg=`@ECHO@ "X$arg" | $Xsed -e "$sed_quote_subst"`
			;;
		*)
			cachearg="$arg"
			;;
		esac
		@CAT@ >> $cache << EOF
$searcharg)
	arg="$cachearg"
	;;
EOF
		cacheupdated=yes
		;;
	esac
	;;
esac
