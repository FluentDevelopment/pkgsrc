$NetBSD: patch-ae,v 1.5 2005/08/02 10:29:20 markd Exp $

--- kmail/partNode.cpp.orig	2005-08-02 21:49:46.000000000 +1200
+++ kmail/partNode.cpp
@@ -36,6 +36,7 @@
 #include "kmmimeparttree.h"
 #include <mimelib/utility.h>
 #include <qregexp.h>
+#include <kasciistricmp.h>
 
 /*
   ===========================================================================
@@ -414,7 +415,7 @@ partNode* partNode::findType( int type, 
 partNode* partNode::findNodeForDwPart( DwBodyPart* part )
 {
     partNode* found = 0;
-    if( dwPart()->partId() == part->partId() )
+    if( kasciistricmp( dwPart()->partId(), part->partId() ) == 0 )
         return this;
     if( mChild )
         found = mChild->findNodeForDwPart( part );
