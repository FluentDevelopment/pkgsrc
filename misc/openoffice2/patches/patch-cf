$NetBSD: patch-cf,v 1.1 2007/04/01 23:50:59 hira Exp $

Security fixes for CVE-2007-0239.  This has been fixed in OOo 2.2.

--- shell/source/unix/exec/shellexec.hxx.orig	2006-12-02 02:57:03.000000000 +0900
+++ shell/source/unix/exec/shellexec.hxx	2007-01-19 22:06:24.000000000 +0900
@@ -4,9 +4,9 @@
  *
  *  $RCSfile: patch-cf,v $
  *
- *  $Revision: 1.1 $
+ *  $Revision: 1.1 $
  *
- *  last change: $Author: hira $ $Date: 2007/04/01 23:50:59 $
+ *  last change: $Author: hira $ $Date: 2007/04/01 23:50:59 $
  *
  *  The Contents of this file are made available subject to
  *  the terms of GNU Lesser General Public License Version 2.1.
@@ -44,6 +44,10 @@
 #include <osl/mutex.hxx>
 #endif
 
+#ifndef _RTL_STRBUF_HXX_
+#include <rtl/strbuf.hxx>
+#endif
+
 #ifndef _COM_SUN_STAR_LANG_XSERVICEINFO_HPP_
 #include <com/sun/star/lang/XServiceInfo.hpp>
 #endif
@@ -90,4 +94,8 @@
         throw(::com::sun::star::uno::RuntimeException);    
 }; 
 
+
+// helper function - needed for urltest
+void escapeForShell( rtl::OStringBuffer & rBuffer, const rtl::OString & rURL);
+
 #endif 
