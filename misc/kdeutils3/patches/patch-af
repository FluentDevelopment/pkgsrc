$NetBSD: patch-af,v 1.8 2006/05/09 12:48:13 joerg Exp $

--- superkaramba/src/memsensor.h.orig	2006-05-09 10:22:30.000000000 +0000
+++ superkaramba/src/memsensor.h
@@ -44,18 +44,17 @@ public:
 private:
   QString meminfo;
   void readValues();
-#if defined __FreeBSD__ || defined(Q_OS_NETBSD)
+#if defined(Q_OS_FREEBSD) || defined(Q_OS_NETBSD)
   int pageshift;           /* log base 2 of the pagesize */
   QString sensorResult;
   int swapTotal;
   int swapUsed;
-# if (defined(__FreeBSD__) && __FreeBSD_version < 500018)
-  KShellProcess ksp;
-  bool MaxSet;
-
-# elif defined __FreeBSD__
+# if defined(Q_OS_FREEBSD) && defined(__FreeBSD_version) && __FreeBSD_version >= 500018
   kvm_t *kd;
   kvm_swap swapinfo;
+# elif defined(Q_OS_FREEBSD)
+  KShellProcess ksp;
+  bool MaxSet;
 # endif
 #endif
 
