$NetBSD: patch-ad,v 1.3 2004/05/04 13:52:11 mrg Exp $

--- ksim/monitors/filesystem/filesystemstats.cpp.orig	2003-06-27 23:39:05.000000000 +1000
+++ ksim/monitors/filesystem/filesystemstats.cpp	2004-05-04 23:31:40.000000000 +1000
@@ -58,8 +58,10 @@
 
 #ifdef HAVE_STATVFS
 typedef struct statvfs ksim_statfs;
+#define ksim_getfsstat getvfsstat
 #elif defined( HAVE_STATFS ) || defined( Q_OS_FREEBSD )
 typedef struct statfs ksim_statfs;
+#define ksim_getfsstat getfsstat
 #else
 typedef struct // fall back for (possibly) non-supported systems
 {
@@ -159,9 +161,9 @@
 #endif
 
 #ifdef USE_FSSTAT
-  struct statfs sfs[32];
+  ksim_statfs sfs[32];
   int fs_count;
-  if ( ( fs_count = getfsstat( sfs, sizeof( sfs ), 0 ) ) != -1 )
+  if ( ( fs_count = ksim_getfsstat( sfs, sizeof( sfs ), 0 ) ) != -1 )
   {
     for ( int i = 0; i < fs_count; i++ )
     {
