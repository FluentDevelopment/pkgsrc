$NetBSD: patch-ao,v 1.13 2006/01/08 12:07:52 markd Exp $

--- configure.orig	2005-11-26 20:19:12.000000000 +1300
+++ configure
@@ -34076,6 +34076,7 @@ cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
 
+#include <sys/param.h>
 #include <sys/mount.h>
 
 
@@ -34785,19 +34786,18 @@ cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
+#include <math.h>
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char isinf ();
+
+double d = 0.0;
 int
 main ()
 {
-isinf ();
-  ;
-  return 0;
+  return isinf (d);
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
@@ -38008,6 +38008,8 @@ else
   version=""2.4""
 fi
 
+version="$PYVERSSUFFIX"
+
 echo "$as_me:$LINENO: checking for Python$version" >&5
 echo $ECHO_N "checking for Python$version... $ECHO_C" >&6
 
