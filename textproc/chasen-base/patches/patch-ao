$NetBSD: patch-ao,v 1.1 2005/08/18 15:37:17 taca Exp $

--- lib/print.c.orig	2005-08-15 10:50:12.000000000 +0900
+++ lib/print.c
@@ -326,6 +326,11 @@ set_ruby(char *dest, char *midasi, char 
     int stat = 0;
     int plen, maxplen = 0;
 
+    if (yomi[0] == '\0') {
+	strcpy(d, m);
+	return;
+    }
+
     for (;;) {
 	for (; *y; y += cha_tok_mblen(Cha_tokenizer, y, 4 /* XXX */)) {
 	    if (stat == 0) {
