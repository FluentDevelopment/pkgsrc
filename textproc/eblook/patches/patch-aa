$NetBSD: patch-aa,v 1.1 2004/03/19 16:02:17 uebayasi Exp $

--- codeconv.c.orig	Sat Mar  8 23:29:47 2003
+++ codeconv.c	Sat Mar 20 00:27:25 2004
@@ -213,7 +213,7 @@
     olen=TEST_LENGTH;
 
     /* euc-jp => current code の変換テスト */
-    if (iconv(etoc,&test1,&ilen,&test2,&olen) == ((size_t)-1))
+    if (iconv(etoc,(const char **)&test1,&ilen,&test2,&olen) == ((size_t)-1))
         return 0;
     if (iconv(etoc,NULL,&ilen,&test2,&olen) == ((size_t)-1))
         return 0;
@@ -222,7 +222,7 @@
     test2=test2_0;
     ilen=TEST_LENGTH-olen;
     olen=TEST_LENGTH;
-    if (iconv(ctoe,&test2,&ilen,&test3,&olen) == ((size_t)-1)) 
+    if (iconv(ctoe,(const char **)&test2,&ilen,&test3,&olen) == ((size_t)-1)) 
         return 0;
     if (iconv(ctoe,NULL,&ilen,&test3,&olen) == ((size_t)-1))
         return 0;
@@ -661,7 +661,7 @@
         size_t ret;
         if (cur_to_euc == (iconv_t) -1)
 	    return CODECONV_ERROR;
-        ret = iconv(cur_to_euc,in_buf,in_len,out_buf,out_len);
+        ret = iconv(cur_to_euc,(const char **)in_buf,in_len,out_buf,out_len);
 	if (ret != ((size_t)-1)) 
 	    ret = iconv(cur_to_euc, NULL, in_len, out_buf, out_len);
 #if defined (HAVE_ERRNO_H) && defined (E2BIG)
@@ -770,7 +770,7 @@
         size_t ret;
         if (euc_to_cur == (iconv_t) -1)
 	    return CODECONV_ERROR;
-        ret = iconv(euc_to_cur,in_buf,in_len,out_buf,out_len);
+        ret = iconv(euc_to_cur,(const char **)in_buf,in_len,out_buf,out_len);
         if (ret != ((size_t)-1))
 	    ret = iconv(euc_to_cur,NULL,in_len,out_buf,out_len);
 #if defined (HAVE_ERRNO_H) && defined (E2BIG)
