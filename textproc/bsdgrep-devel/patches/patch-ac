$NetBSD: patch-ac,v 1.2 2005/12/08 17:24:32 joerg Exp $

--- grep.c.orig	2004-05-05 14:34:55.000000000 +0000
+++ grep.c
@@ -37,6 +37,7 @@ __RCSID("$NetBSD: grep.c,v 1.2 2004/05/0
 #include <sys/types.h>
 #include <sys/stat.h>
 
+#include <zlib.h>
 #include <err.h>
 #include <errno.h>
 #include <getopt.h>
@@ -111,7 +112,7 @@ int binbehave = BIN_FILE_BIN;
 int dirbehave = GREP_READ;
 int devbehave = GREP_READ;
 /*int linkbehave = LINK_FOLLOW;*/
-char *stdin_label;
+const char *stdin_label;
 
 enum {
 	BIN_OPT = CHAR_MAX + 1,
@@ -137,7 +138,7 @@ usage(void)
 	exit(2);
 }
 
-static char *optstr = "0123456789A:B:C:D:EFGHILUVZabcd:e:f:hilm:noqrsuvwxyz";
+static const char optstr[] = "0123456789A:B:C:D:EFGHILUVZabcd:e:f:hilm:noqrsuvwxyz";
 
 struct option long_options[] =
 {
