$NetBSD: patch-ac,v 1.1 2004/08/14 11:43:53 kristerw Exp $

--- daap.c.orig	Sat Aug 14 13:30:46 2004
+++ daap.c	Sat Aug 14 13:34:37 2004
@@ -453,6 +453,7 @@
 
     for (i = 0; i < currentSongItemCount; i++)
     {
+        int minutes, seconds;
         char time[11] = {0};
         char track[11] = {0};
         char year[11] = {0};
@@ -464,8 +465,6 @@
                 strcasecmp(selected_album, currentSongItems[i].songalbum) != 0)
             continue;
 
-        int minutes, seconds;
-
         seconds = (currentSongItems[i].songtime) / 1000;
         minutes = seconds / 60;
         seconds -= minutes * 60;
@@ -562,11 +561,11 @@
 
 char *get_song_display_str_withalloc(int id)
 {
+    char *buf;
     int songindex = findSongByID(id);
 
     if (!songindex) return NULL;
 
-    char *buf;
     buf = malloc(strlen(currentSongItems[songindex].songartist) + strlen(" - ")
                  + strlen(currentSongItems[songindex].itemname) + 1);
 
