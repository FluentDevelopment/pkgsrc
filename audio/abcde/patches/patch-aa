$NetBSD: patch-aa,v 1.7 2003/01/01 19:06:02 kim Exp $

--- abcde.1.orig	Mon Aug 20 21:22:33 2001
+++ abcde.1	Wed Jan  1 14:00:54 2003
@@ -1,6 +1,6 @@
 .TH ABCDE 1
 .SH NAME
-abcde \- Grab an entire CD and compress it to Ogg or MP3 format.
+abcde \- Grab an entire CD and compress it to Ogg, MP3 or FLAC format.
 .SH SYNOPSIS
 .B abcde
 .I [options] [tracks]
@@ -19,7 +19,7 @@
 Grab a track from your CD
 .TP
 .B *
-Compress it to Ogg or MP3 format
+Compress it to Ogg, MP3 or FLAC format
 .TP
 .B *
 Comment or ID3 tag it
@@ -36,13 +36,17 @@
 .TP
 .B \-a [actions]
 Comma-delimited list of actions to perform. Can be one or more of:
-cddb, read, encode, tag, move, playlist, clean. Encode implies read. Tag implies
-cddb, read, encode. Move implies cddb, read, encode, tag. Playlist implies
-cddb. The default is to do all actions except playlist.
+cddb, read, normalize, encode, tag, move, playlist, clean. Normalize
+and encode imply read. Tag implies cddb, read, encode. Move implies
+cddb, read, encode, tag. Playlist implies cddb. The default is to
+do all actions except normalize and playlist.
+.TP
+.B \-b
+Enable batch mode normalization. See the BATCH configuration variable.
 .TP
 .B \-c [filename]
 Specifies an additional configuration file to parse. Configuration options
-in this file override those in /etc/abcde.conf or $HOME/.abcde.conf.
+in this file override those in @PKG_SYSCONFDIR@/abcde.conf or $HOME/.abcde.conf.
 .TP
 .B \-C [discid]
 Allows you to resume a session for
@@ -66,7 +70,7 @@
 Use the low-diskspace algorithm. See the LOWDISK configuration variable.
 .TP
 .B \-o [filetype]
-Select output type. Can be either "ogg" or "mp3". See the OUTPUTTYPE
+Select output type. Can be "ogg", "mp3" or "flac". See the OUTPUTTYPE
 configuration variable.
 .TP
 .B \-r [hosts...]
@@ -87,11 +91,12 @@
 .SH OUTPUT
 Each track is, by default, placed in a separate file named after the track
 in a subdirectory named after the artist under the current directory. Each
-file is given an extension identifying its compression format, '.ogg'
-or '.mp3'. This can be modified using the OUTPUTFORMAT and VAOUTPUTFORMAT
+file is given an extension identifying its compression format, '.ogg',
+'.mp3', or '.flac'.
+This can be modified using the OUTPUTFORMAT and VAOUTPUTFORMAT
 variables in your abcde.conf.
 .SH CONFIGURATION
-abcde sources two configuration files on startup - /etc/abcde.conf and
+abcde sources two configuration files on startup - @PKG_SYSCONFDIR@/abcde.conf and
 $HOME/.abcde.conf, in that order. Here is a list of options abcde recognizes:
 .TP
 .B CDDBURL
@@ -100,10 +105,15 @@
 .B ENCODERSYNTAX
 Specifies the style of encoder to use. Valid options are \'oggenc\' (default
 for Ogg Vorbis), \'vorbize\', \'lame\' (default for MP3), \'gogo\', \'bladeenc\',
-\'l3enc\', and \'mp3enc\'. This affects the default location of the binary,
+\'l3enc\', \'mp3enc\' and \'flac\' (default for FLAC).
+This affects the default location of the binary,
 the variable to pick encoder command-line options from, and where the options
 are given.
 .TP
+.B NORMALIZERSYNTAX
+Specifies the style of normalizer to use.  Valid options are \'default\'
+and \'normalize'\ (and both run \'normalize\').
+.TP
 .B HELLOINFO
 Specifies the Hello information to send to the CDDB server. The CDDB
 protocol requires you to send a valid username and hostname each time you
@@ -118,7 +128,8 @@
 over 100MB for a machine that can encode music as fast as it can read it).
 .TP
 .B OUTPUTFORMAT
-Specifies the format for completed Ogg or MP3 filenames. Variables are included
+Specifies the format for completed Ogg, MP3 or FLAC filenames.
+Variables are included
 using standard shell syntax. Allowed variables are ALBUMFILE, ARTISTFILE,
 TRACKFILE, and TRACKNUM. Default is
 \'${ARTISTFILE}/${TRACKFILE}.${OUTPUTTYPE}\'.
@@ -127,8 +138,8 @@
 .TP
 .B OUTPUTTYPE
 Specifies the encoding format to output as well as the default extension and
-encoder. Defaults to "ogg". Valid settings are "ogg" (Ogg Vorbis) and "mp3"
-(MPEG-1 Audio Layer 3).
+encoder. Defaults to "ogg". Valid settings are "ogg" (Ogg Vorbis), "mp3"
+(MPEG-1 Audio Layer 3) and "flac" (FLAC).
 .TP
 .B VAOUTPUTFORMAT
 Just like OUTPUTFORMAT but for Various Artists discs. Default is whatever
@@ -137,15 +148,15 @@
 .B PATHNAMES
 The following configuration file options specify the pathnames of their
 respective utilities: LAME, GOGO, BLADEENC, L3ENC, XINGMP3ENC, MP3ENC,
-VORBIZE, OGGENC, ID3, ID3V2, CDPARANOIA, CDDA2WAV, WGET, CDDISCID,
-CDDBTOOL, EJECT, DISTMP3, and VORBISCOMMENT.
+VORBIZE, OGGENC, FLAC, ID3, ID3V2, CDPARANOIA, CDDA2WAV, WGET, CDDISCID,
+CDDBTOOL, EJECT, NORMALIZE, DISTMP3, and VORBISCOMMENT.
 .TP
 .B COMMAND-LINE OPTIONS
 If you wish to specify command-line options to any of the programs abcde
 uses, set the following configuration file options: LAMEOPTS, GOGOOPTS,
 BLADEENCOPTS, L3ENCOPTS, XINGMP3ENCOPTS, MP3ENCOPTS, VORBIZEOPTS,
-OGGENCOPTS, ID3OPTS, ID3V2OPTS, CDPARANOIAOPTS, CDDA2WAVOPTS, WGETOPTS,
-CDDBTOOLOPTS, EJECTOPTS, and DISTMP3OPTS.
+OGGENCOPTS, FLACOPTS, ID3OPTS, ID3V2OPTS, CDPARANOIAOPTS, CDDA2WAVOPTS, WGETOPTS,
+CDDBTOOLOPTS, EJECTOPTS, NORMALIZEOPTS, and DISTMP3OPTS.
 .TP
 .B MAXPROCS
 Defines how many encoders to run at once. This makes for huge speedups
@@ -159,6 +170,11 @@
 entire CD. Use only if your system is low on space and cannot encode as
 quickly as it can read.
 .TP
+.B BATCH
+If set to y, enables batch mode normalization, which preserves relative
+volume differences between tracks of an album. Also enables nogap encoding
+when using the \'lame\' encoder.
+.TP
 .B PLAYLISTFORMAT
 Specifies the format for completed playlist filenames. Works like the
 OUTPUTFORMAT configuration variable. Default is
@@ -197,7 +213,7 @@
 abcde requires the following backend tools to work:
 .TP
 .B *
-An Ogg or MP3 Encoder (oggenc, vorbize, lame, gogo, bladeenc, l3enc, mp3enc)
+An Ogg, MP3 or FLAC Encoder (oggenc, vorbize, lame, gogo, bladeenc, l3enc, mp3enc, flac)
 .TP
 .B *
 An audio CD reading utility (cdparanoia, cdda2wav)
@@ -213,11 +229,16 @@
 .TP
 .B *
 (optional) distmp3, a client/server for distributed mp3 encoding.
+.TP
+.B *
+(optional) normalize, a WAV file volume normalizer
 .SH "SEE ALSO"
 .BR cdparanoia (1),
 .BR cdda2wav (1),
+.BR normalize (1),
 .BR oggenc (1),
 .BR vorbize (1),
+.BR flac (1),
 .BR id3 (1),
 .BR wget (1),
 .BR cd-discid (1),
