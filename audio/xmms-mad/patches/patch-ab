$NetBSD: patch-ab,v 1.2 2002/10/27 07:31:12 rh Exp $

--- src/xmms-mad.c.orig	Fri May 10 01:02:33 2002
+++ src/xmms-mad.c
@@ -83,6 +83,9 @@ xmmsmad_stop ()
       printf ("waiting for thread\n");
 #endif /* DEBUG */
       pthread_join (decode_thread, 0);
+#ifdef _PTH_PTHREAD_H_
+      sched_yield ();
+#endif
 #ifdef DEBUG
       printf ("thread done\n");
 #endif /* DEBUG */
@@ -99,6 +102,9 @@ xmmsmad_play_file (char *url)
       info.playing = 1;
       input_get_info (&info);
       pthread_create (&decode_thread, 0, decode, (void *) &info);
+#ifdef _PTH_PTHREAD_H_
+      sched_yield ();
+#endif
     }
 }
 
