$NetBSD: patch-dc,v 1.1 2005/07/13 09:07:10 wiz Exp $

--- interface/cooked_interface.c.orig	2005-05-31 16:02:58.000000000 +0200
+++ interface/cooked_interface.c
@@ -10,7 +10,7 @@
 #include "common_interface.h"
 #include "utils.h"
 
-#ifndef __FreeBSD__
+#if !defined(__FreeBSD__) && !defined(__DragonFly__)
 static int cooked_readtoc (cdrom_drive *d){
   int i;
   int tracks;
@@ -179,7 +179,7 @@ static long cooked_read (cdrom_drive *d,
   errx(1, "cooked_read: not implemented");
 #endif
 }
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
 static int
 cooked_readtoc(cdrom_drive *d)
 {
@@ -419,7 +419,7 @@ int cooked_init_drive (cdrom_drive *d){
   default:
     d->nsectors=40; 
   }
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
   d->nsectors = 26;	/* FreeBSD only supports 64K I/O transfer size */
 #endif
   d->enable_cdda = Dummy;
