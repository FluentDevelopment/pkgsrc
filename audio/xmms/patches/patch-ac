$NetBSD: patch-ac,v 1.4 2002/10/14 09:46:59 rh Exp $

--- configure.orig	Tue Mar  5 07:57:01 2002
+++ configure
@@ -256,6 +256,8 @@ ac_help="$ac_help
   --with-catgets          use catgets functions if available"
 ac_help="$ac_help
   --enable-3dnow	  build with 3DNow! instructions support"
+ac_help="$ac_help
+  --enable-ipv6		  enable IPv6 support [default=no]"
 
 # Initialize some variables set by options.
 # The variables have the same names as the options, with
@@ -10622,8 +10624,33 @@ else
 fi
 
 
+# Check whether --enable-ipv6 or --disable-ipv6 was given.
+if test "${enable_ipv6+set}" = set; then
+  enableval="$enable_ipv6"
+  enable_ipv6=$enableval
+else
+  enable_ipv6=no
+fi
+
+if test "x$enable_ipv6" = xyes; then
+  cat >> confdefs.h <<\EOF
+#define USE_IPV6 1
+EOF
+
+fi
+
+
+if test "x$enable_ipv6" = xyes; then
+  USE_IPV6_TRUE=
+  USE_IPV6_FALSE='#'
+else
+  USE_IPV6_TRUE='#'
+  USE_IPV6_FALSE=
+fi
+
+
 echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
-echo "configure:10627: checking for socklen_t" >&5
+echo "configure:10654: checking for socklen_t" >&5
 if eval "test \"`echo '$''{'xmms_cv_type_socklen_t'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -12254,6 +12281,9 @@ s%@OUTPUT_PLUGINS@%$OUTPUT_PLUGINS%g
 s%@VISUALIZATION_PLUGINS@%$VISUALIZATION_PLUGINS%g
 s%@USE_3DNOW_TRUE@%$USE_3DNOW_TRUE%g
 s%@USE_3DNOW_FALSE@%$USE_3DNOW_FALSE%g
+s%@USE_IPV6_TRUE@%$USE_IPV6_TRUE%g
+s%@USE_IPV6_FALSE@%$USE_IPV6_FALSE%g
+s%@USE_IPV6@%$USE_IPV6%g
 s%@OSS_CFLAGS@%$OSS_CFLAGS%g
 s%@POSIX_LIBS@%$POSIX_LIBS%g
 s%@HAVE_OSS_TRUE@%$HAVE_OSS_TRUE%g
