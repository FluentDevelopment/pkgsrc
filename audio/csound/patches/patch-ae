$NetBSD: patch-ae,v 1.3 2002/03/23 02:36:47 wiz Exp $

--- configure.in.orig	Sun Sep  9 10:54:48 2001
+++ configure.in
@@ -32,6 +32,7 @@
 AC_PROG_CC
 AC_PROG_CXX
 AC_CANONICAL_HOST
+AC_C_BIGENDIAN
 
 dnl Below here is the result of running autoscan on the csound sources
 dnl Process this file with autoconf to produce a configure script.
@@ -345,19 +346,21 @@
 dnl   [enable_ALSA_driver="no"])dnl
 
 dnl
-dnl --enable-rtaudio={oss,alsa,esd}	(default=oss)
+dnl --enable-rtaudio={oss,alsa,esd,netbsd}	(default=oss)
 dnl
 dnl The oss module has been provided by Steve Kersten {steve@k-hornz.de}
 dnl The esd module has been provided by Nicola Bernardini {nicb@axnet.it}
 dnl The alsa module has been provided by Markus Gruber {gruber@eikon.tum.de}
+dnl The netbsd module has been provided by Ben {collver@linuxfreemail.com}
 dnl
 dnl
 AC_ARG_ENABLE(rtaudio,
-  [  --enable-rtaudio={oss|alsa|esd} enable real-time audio (default: oss)],
+  [  --enable-rtaudio={oss|alsa|esd|netbsd} enable real-time audio (default: oss)],
   [case "${enable_rtaudio}" in
     oss) ;;
     alsa) ;;
 	esd) ;;
+	netbsd) ;;
     *) AC_MSG_ERROR(bad value ${enable_rtaudio} for the real-time audio option) ;;
    esac],
   [enable_rtaudio="oss"])dnl
@@ -384,6 +387,13 @@
 	DEFS=["${DEFS} -DESDRTAUDIO"]
 fi
 
+if test "${enable_rtaudio}" = "netbsd"
+then
+	CSOUND_CONF_MESSAGE(enable the netbsd audio driver...)
+	RTAUDIO_DRIVER=[\${LINUX_DISTRIB_DIR}/rtNetBSD.c]
+	DEFS=["${DEFS} -DNETBSDRTAUDIO"]
+fi
+
 dnl
 dnl --enable-OSC-opcodes	(default=no)
 dnl
@@ -653,8 +663,8 @@
 dnl
 
 case $host in
-	*linux)
-		local_defines="-DRTAUDIO -DLINUX ${DEFS}"
+	*linux|*bsd)
+		local_defines="-DRTAUDIO -DLINUX -DBSD ${DEFS}"
 		;;
 	*)
 		;;
@@ -736,6 +746,7 @@
 AC_SUBST(LD)dnl
 AC_SUBST(CSOUND_INSTALLATION_MODE)dnl
 AC_SUBST(csound_float)dnl
+AC_SUBST(WORDS_BIGENDIAN)dnl
 
 AC_OUTPUT(Make.Variables new-src/version.h)
 CSOUND_CONF_MESSAGE(configure process terminated; you should now run 'make depend; make')
