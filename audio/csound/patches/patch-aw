$NetBSD: patch-aw,v 1.1 2002/03/23 02:36:49 wiz Exp $

--- soundio.c.orig	Sat May 19 03:29:57 2001
+++ soundio.c
@@ -57,7 +57,7 @@
 extern  int     rtrecord(char *, int);
 extern  void    rtplay(char *, int);
 extern  void    rtclose(void);
-# ifndef OSSRTAUDIO
+# if !defined(OSSRTAUDIO) && !defined(NETBSDRTAUDIO)
 extern  void    recopen(int, int, MYFLT, int);
 extern  void    playopen(int, int, MYFLT, int);
 # endif
@@ -70,6 +70,9 @@
 #  include "OSSrtaudio.h"
 static int oss_mode = OSS_RECORD; /* Module-global state variable */
 # endif
+# ifdef NETBSDRTAUDIO
+#  include "rtNetBSD.h"
+# endif
 #ifdef PIPES
 FILE* pin=NULL, *pout=NULL;
 /*sbrandon: added NeXT to line below*/
@@ -469,6 +472,10 @@
 #endif
 # ifdef LINUX
 	     || strcmp(O.outfilename,"/dev/dsp") ==0
+# endif
+# ifdef BSD
+             || strncmp(O.outfilename,"/dev/sound",10) ==0
+             || strncmp(O.outfilename,"/dev/audio",10) ==0
 # endif
              || strcmp(O.outfilename,"dac") == 0) {
 #ifdef WIN32
