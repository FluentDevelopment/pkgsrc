$NetBSD: patch-al,v 1.1 2003/12/13 20:26:03 ben Exp $

--- plugins/rtaudio/rtlinux.c.orig	2003-02-25 19:24:01.000000000 -0800
+++ plugins/rtaudio/rtlinux.c
@@ -123,7 +123,7 @@ static void setsndparms(void *csound,
     ENGINE->Message(csound, msg);
   }
 
-#ifndef __FreeBSD__
+#if !defined(__FreeBSD__) && !defined(__NetBSD__)
   /* set DMA buffer fragment size to Csound's output buffer size */
   parm = 0; frag_size = 1;
   /* find least power of 2 >= bufsiz */
@@ -178,7 +178,7 @@ static void setvolume(void *csound, unsi
   }
 }
 
-#define DSP_NAME    "/dev/dsp"
+#define DSP_NAME    DEVOSSSOUND
 
 static void*
 recopen(void *csound, AUDIOPARMS *devParms)     /* open for audio input */
@@ -262,7 +262,8 @@ rtplay(void *audioOutData, char *outbuf,
 {
     /*  J. Mohr  1995 Oct 17 */                     /* IV - Nov 10 2002 */
     if (write((int) audioOutData, outbuf, nbytes) < nbytes)
-      fprintf(stderr, "/dev/dsp: could not write all bytes requested\n");
+      fprintf(stderr, "%s: could not write all bytes requested\n",
+		DSP_NAME);
 }
 
 static void rtclose(void *audioInData, void *audioOutData)
