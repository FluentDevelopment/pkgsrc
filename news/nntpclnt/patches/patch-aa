$NetBSD: patch-aa,v 1.3 2002/09/18 06:28:06 tron Exp $

--- uname.c.orig	Thu Aug 11 23:37:53 1994
+++ uname.c	Wed Sep 18 08:26:34 2002
@@ -16,6 +16,7 @@
 
 #include <stdio.h>
 #include "config.h"
+#include <strings.h>
 
 #ifdef DOUNAME
 # define DONE
@@ -66,14 +67,13 @@
 char *uptr;
 {
     FILE * uucpf;
-    char * hostname;
+    char * p;
     if ((uucpf = fopen(HOSTFILE,"r")) == NULL) {
 	fprintf(stderr,"Couldn't open %s to determine hostname. Contact your system administrator.\n", 
 		HOSTFILE); 
 	exit(1);
     } else {
 	fgets(uptr, 256, uucpf);
-	fclose(tmpfp);
     }
 	p = index(uptr, '\n');
 	if (p)
