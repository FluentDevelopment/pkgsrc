$NetBSD: patch-ax,v 1.8 2006/11/12 01:28:03 rillig Exp $

--- nntp.c.orig	2005-04-20 01:06:51.000000000 +0200
+++ nntp.c	2006-11-12 02:14:49.000000000 +0100
@@ -57,8 +58,9 @@
 #endif
 
 /* This is necessary due to the definitions in m-XXX.h */
+/* IRIX needs it for struct sockaddr_in */
 
-#if !defined(NETWORK_DATABASE) || defined(NETWORK_BYTE_ORDER)
+#if !defined(NETWORK_DATABASE) || defined(NETWORK_BYTE_ORDER) || defined(__sgi) || defined(__NetBSD__)
 #include <netinet/in.h>
 #endif
 
@@ -915,7 +917,11 @@ nntp_check(void)
 	server_real_name = hp->h_name;
     else
 	nn_exitmsg(1, "NNTPSERVER is invalid");
+#if 0
     use_nntp = (strcmp(host_name, server_real_name) != 0);
+#else
+    use_nntp = 1;
+#endif
 
     if (use_nntp) {
 	freeobj(news_active);
