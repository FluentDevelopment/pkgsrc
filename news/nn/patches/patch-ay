$NetBSD: patch-ay,v 1.2 2002/07/08 02:21:20 kim Exp $

--- save.c.orig	Thu Jul 12 01:18:34 2001
+++ save.c	Sun Jul  7 21:39:15 2002
@@ -521,7 +521,7 @@
 		return 0;
 	    }
 	    current_folder_type = -1;
-	    if (ftell(save_file) != (off_t)0) {
+	    if (ftell(save_file) != (long)0) {
 		if (mode != NO_HEADER) set_folder_type(save_name);
 		save_mode &= ~FILE_IS_NEW;
 	    }
@@ -538,7 +538,7 @@
 	mailbox_format(save_file, 1);
 
     if (mode == FULL_HEADER || mode == HEADER_ONLY) {
-	off_t cnt = ah->fpos - ah->hpos;
+	long cnt = ah->fpos - ah->hpos;
 	while (--cnt >= 0) {
 	    if ((c = getc(art)) == EOF) break;
 	    putc(c, save_file);
@@ -656,7 +656,7 @@
 char *dir, *file;
 {
     register int c;
-    off_t endpos;
+    long endpos;
     FILE *h;
 
     if (dir != (char *)NULL && file[0] != '/')
@@ -665,7 +665,7 @@
 	msg("Cannot open %s", file);
 	return;
     }
-    fseek(h, (off_t)0, 2);
+    fseek(h, (long)0, 2);
     if (ftell(h) > 0)
 	set_folder_type(file);
     else
