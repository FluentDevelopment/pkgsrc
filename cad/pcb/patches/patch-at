$NetBSD: patch-at,v 1.1 2004/01/12 11:19:58 seb Exp $

--- src/error.c.orig	1998-05-13 10:29:45.000000000 +0000
+++ src/error.c
@@ -34,7 +34,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <errno.h>
-#include <varargs.h>
+#include <stdarg.h>
 #include <signal.h>
 #include <unistd.h>
 #include <fcntl.h>
@@ -51,8 +51,10 @@
 /* ----------------------------------------------------------------------
  * some external identifiers
  */
+#ifndef __NetBSD__
 extern	int		errno,			/* system error code */
 				sys_nerr;		/* number of messages available from array */
+#endif
 
 /* the list is already defined for some OS */
 #if !defined(__NetBSD__) && !defined(__FreeBSD__) && !defined(__linux__) 
@@ -68,15 +70,13 @@
 /* ---------------------------------------------------------------------------
  * output of message in a dialog window or log window
  */
-void Message(Format, va_alist)
-char *Format;
-va_dcl
+void Message(char *Format, ...)
 {
 	va_list	args;
 	char	s[1024];
 	XEvent	event;
 
-	va_start(args);
+	va_start(args, Format);
 	vsprintf(s, Format, args);
 	va_end(args);
 
@@ -156,9 +156,7 @@
 /* ---------------------------------------------------------------------------
  * output of fatal error message
  */
-void MyFatal(Format, va_alist)
-char *Format;
-va_dcl
+void MyFatal( char *Format, ...)
 {
 	va_list	args;
 
@@ -166,7 +164,7 @@
 	RestoreStderr();
 	EmergencySave();
 
-	va_start(args);
+	va_start(args, Format);
 	fprintf(stderr, "%s (%i): fatal, ", Progname, (int) getpid());
 	vfprintf(stderr, Format, args);
 	fflush(stderr);
