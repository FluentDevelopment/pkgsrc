$NetBSD: patch-ab,v 1.5 2003/09/10 23:43:36 dmcmahill Exp $

--- scheme/gnet-gsch2pcb.scm.orig	Wed Sep 10 16:26:08 2003
+++ scheme/gnet-gsch2pcb.scm
@@ -133,7 +133,8 @@
 ;;
 ;;
 
-(define *m4-pcbdir* "/usr/X11R6/lib/X11/pcb/m4")
+(define *m4-pcbdir* "@pcb_m4dir@")
+(define *m4-pcbconfdir* "@pcb_confdir@")
 
 ;; To emulate popen. Guileish again.
 ; Needed after guile ver. 1.3.2. To save 1.3a users, wrap it in.
@@ -150,7 +151,7 @@
 ;; Original pipe command commented out by AVH (bugfix by Rich Walker)
 ;;  (let ((pipe (open-output-pipe (string-append "m4 " *m4-pcbdir* "/common.m4 - >> " output-filename))))
 ;; Fixed pipe command (AVH 1/27/02)
-   (let ((pipe (open-output-pipe (string-append "m4 -d -I" *m4-pcbdir* " " *m4-pcbdir* "/common.m4 - >> " output-filename))))
+   (let ((pipe (open-output-pipe (string-append "gm4 -d -I" *m4-pcbdir* " -I" *m4-pcbconfdir* " -I$HOME/.pcb -I. " *m4-pcbdir* "/common.m4 - >> " output-filename))))
 
 
        ;; packages is a list with the different refdes value
