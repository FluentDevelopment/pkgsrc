$NetBSD: patch-ab,v 1.3 2003/09/24 10:53:36 jmmv Exp $

--- cal.c.orig	Thu Jul 11 20:36:33 1996
+++ cal.c	Wed Sep 24 11:30:56 2003
@@ -122,6 +122,7 @@
 #include <ctype.h>
 #include <string.h>
 #include <sys/types.h>
+#include <sys/param.h>      /*NetBSD*/
  
 #ifndef max
 #define max(a,b) (((a)>(b))?(a):(b))
@@ -130,6 +131,10 @@
 /* Note: Other unix systems may require this next re-define to work. */
 /* I believe that SCO is one such system.  Please send in any fixes  */
 /* needed to get your system running.                                */
+#if (defined(BSD) && BSD >= 199306) || defined (sun)
+#define stricmp(a,b) strcasecmp(a,b) /* case-insensitive string comparison */
+#endif
+ 
 #ifdef __linux__          /* Make linux compatible with stricmp() */
 #define stricmp(a,b) strcasecmp(a,b) /* case-insensitive string comparison */
 #endif
@@ -1401,8 +1406,8 @@
             strcpy(str, ".");
             strcpy(str, file);
             if ((fp = fopen(str, mode)) == NULL) {
-                /* If still not found then look in a lib directory */
-                strcpy(str, "/usr/lib/");
+                /* If still not found then look in config directory */
+                strcpy(str, PKG_SYSCONFDIR "/");
                 strcat(str,file);
                 fp = fopen(str, mode);
             }
