$NetBSD: patch-ab,v 1.9 2006/07/22 23:16:42 heinz Exp $

--- src/Makefile.orig	2006-07-16 02:29:15.000000000 +0200
+++ src/Makefile
@@ -141,8 +141,10 @@ ifdef BUILD_DIST				# distribution build
 OPTIONS = -O3 -Wall
 endif
 
-CFLAGS = $(OPTIONS) $(SYS_CFLAGS)  $(EXTRA_CFLAGS) $(CONFIG)
-LDFLAGS =           $(SYS_LDFLAGS) $(EXTRA_LDFLAGS) -lm
+# pkgsrc presets those variables, so use '+=' to append to them
+# flags for debugging or optimisation may be supplied from the pkgsrc Makefile
+CFLAGS += $(SYS_CFLAGS)  $(EXTRA_CFLAGS) $(CONFIG)
+LDFLAGS += $(SYS_LDFLAGS) $(EXTRA_LDFLAGS) -lm
 
 
 SRCS =	main.c		\
