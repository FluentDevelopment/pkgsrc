$NetBSD: patch-ag,v 1.2 2002/02/19 06:25:58 jmc Exp $

--- src/joystick.c.orig	Tue Dec  5 00:11:08 2000
+++ src/joystick.c	Tue Feb 19 05:54:30 2002
@@ -11,7 +11,7 @@
 * joystick.c                                               *
 ***********************************************************/
 
-#if defined(PLATFORM_FREEBSD)
+#if defined(__FreeBSD__) || (defined(__NetBSD__) && defined(HAVE_JOYSTICK))
 #include <machine/joystick.h>
 #endif
 
@@ -319,7 +319,7 @@
 #if defined(PLATFORM_UNIX)
 int Joystick(int player_nr)
 {
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) || (defined(__NetBSD__) && defined(HAVE_JOYSTICK))
   struct joystick joy_ctrl;
 #else
   struct joystick_control
@@ -355,7 +355,7 @@
   js_x  = joy_ctrl.x;
   js_y  = joy_ctrl.y;
 
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) || (defined(__NetBSD__) && defined(HAVE_JOYSTICK))
   js_b1 = joy_ctrl.b1;
   js_b2 = joy_ctrl.b2;
 #else
