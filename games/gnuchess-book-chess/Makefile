# $NetBSD: Makefile,v 1.7 2004/01/20 12:15:40 agc Exp $
# FreeBSD Id: Makefile,v 1.6 1999/01/27 07:41:12 fenner Exp
#

DISTNAME=		chess-5.00
PKGNAME=		${CHESS_ENGINE}-book-${DISTNAME}
CATEGORIES=		games
MASTER_SITES=		${MASTER_SITE_GNU:=chess/}

MAINTAINER=		jlam@NetBSD.org
COMMENT=		Chess opening book for GNU Chess (default)

DEPENDS+=		gnuchess>=5.00nb1:../../games/gnuchess

CONFLICTS+=		gnuchess-book-[0-9]*

WRKSRC=			${WRKDIR}/${DISTNAME}/book
CHESS_ENGINE=		gnuchess
NO_CONFIGURE=		# defined

PLIST_SUBST+=		CHESS_ENGINE=${CHESS_ENGINE}
PLIST_SUBST+=		BOOK_FILE=${BOOK_FILE}

BOOKDIR=		${PREFIX}/lib/${CHESS_ENGINE}
PGN_FILE=		book.pgn
BOOK_FILE=		book.dat

do-build:
	cd ${WRKSRC} && gnuchess compile ${PGN_FILE} ${BOOK_FILE}

do-install:
	${INSTALL_DATA_DIR} ${BOOKDIR}
	${INSTALL_DATA} ${WRKSRC}/${BOOK_FILE} ${BOOKDIR}

.include "../../mk/bsd.pkg.mk"
