$NetBSD: patch-aa,v 1.3 2004/04/15 21:17:08 ben Exp $

--- Configure.orig	2004-04-15 13:55:44.000000000 -0700
+++ Configure
@@ -18,11 +18,6 @@
 PATH='.:/bin:/usr/bin:/usr/local/bin:/usr/ucb:/usr/local:/usr/lbin:/etc:/usr/new:/usr/new/bin:/usr/nbin:/usr/bin/X11:/usr/X11/bin:/usr/openwin/bin:/usr/ccs/bin'
 export PATH || (echo "OOPS, this isn't sh.  Desperation time.  I will feed myself to sh."; sh $0; kill $$)
 
-if test ! -t 0; then
-    echo "Say 'sh Configure', not 'sh <Configure'"
-    exit 1
-fi
-
 (alias) >/dev/null 2>&1 && \
     echo "(I see you are using the Korn shell.  Some ksh's blow up on Configure," && \
     echo "especially on exotic machines.  If yours does, try the Bourne shell instead.)"
@@ -58,7 +53,7 @@ small=''
 medium=''
 large=''
 huge=''
-ccflags=''
+ccflags='-g -Wall -Wno-comment'
 ldflags=''
 cc=''
 n=''
@@ -98,7 +93,7 @@ compress=''
 uncompress=''
 imake=''
 xmkmf=''
-bindir=''
+bindir='XXXBINDIRXXX'
 d_drand48=''
 d_havetlib=''
 termlib=''
@@ -107,7 +102,7 @@ d_systime=''
 d_random=''
 defcomp=''
 imaketmpl=''
-libdir=''
+libdir='XXXLIBDIRXXX'
 mycompress=''
 myuncompress=''
 CONFIG=''
@@ -187,7 +182,7 @@ EOM
     c='\c'
 fi
 echo $n "Type carriage return to continue.  Your cursor should be here-->$c"
-read ans
+#read ans
 rm -f .echotmp
 
 : now set up to do reads with possible shell escape and default assignment
@@ -1520,7 +1515,7 @@ fastread=''
 echo "If you didn't make any mistakes, then just type a carriage return here."
 rp="If you need to edit config.sh, do it as a shell escape here:"
 $echo $n "$rp $c"
-. UU/myread
+#. UU/myread
 case "$ans" in
 '') ;;
 *) : in case they cannot read
@@ -1571,7 +1566,8 @@ case "$xmkmf" in
         *) dflt="y"
             rp="How about using "imake" to build your Makefile? [$dflt]"
             $echo $n "$rp $c"
-               . UU/myread
+#               . UU/myread
+            ans=n
             case "$ans" in
                 y*) rm -f Makefile
                     $imake -DUseInstalled -I$imakedir -f Imakefile -s Makefile 2>/dev/null
@@ -1602,7 +1598,8 @@ case "$xmkmf" in
     *)     dflt="y"
         rp="How about using "xmkmf" to build your Makefile? [$dflt]"
         $echo $n "$rp $c"
-        . UU/myread
+#        . UU/myread
+        ans=n
         case "$ans" in
             y*) echo "OK..."
                 $xmkmf
@@ -1621,7 +1618,8 @@ case "$xmkmf" in
                 *) dflt="y"
                     rp="No? Ok, how about "imake"? [$dflt]"
                     $echo $n "$rp $c"
-                    . UU/myread
+#                    . UU/myread
+                    ans=n
                     case "$ans" in
                         y*) rm -f Makefile
                             $imake -DUseInstalled -I$imakedir -f Imakefile -s Makefile 2>/dev/null
