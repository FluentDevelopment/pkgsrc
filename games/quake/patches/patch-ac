$NetBSD: patch-ac,v 1.3 2002/01/02 10:01:35 hubertf Exp $

--- qw/client/gl_vidlinuxglx.c	Tue Dec 21 18:45:54 1999
+++ ../work/QW/client/gl_vidlinuxglx.c	Wed Jan 19 21:58:20 2000
@@ -20,7 +20,6 @@
 #include <termios.h>
 #include <sys/ioctl.h>
 #include <sys/stat.h>
-#include <sys/vt.h>
 #include <stdarg.h>
 #include <stdio.h>
 #include <signal.h>
@@ -560,6 +559,9 @@
 
 void VID_Init8bitPalette(void) 
 {
+#ifdef __NetBSD__
+  return;
+#else
 	// Check for 8bit Extensions and initialize them.
 	int i;
 	GLubyte table[256][4];
@@ -580,6 +582,7 @@
 	}
 	gl3DfxSetPaletteEXT((GLuint *)table);
 	is8bit = true;
+#endif
 }
 #endif
 
@@ -603,7 +606,12 @@
 	Window root;
 	XVisualInfo *visinfo;
 
+	/* For some reason this is called.  It causes trouble for NetBSD 
+	 and sound won't work */
+
+#ifndef __NetBSD__
 	S_Init();
+#endif
 
 	Cvar_RegisterVariable (&vid_mode);
 	Cvar_RegisterVariable (&gl_ztrick);
