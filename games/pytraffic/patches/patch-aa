$NetBSD: patch-aa,v 1.2 2005/10/12 14:56:13 drochner Exp $

--- setup.py.orig	2005-07-30 11:09:08.000000000 +0200
+++ setup.py
@@ -48,7 +48,7 @@ except ImportError:
 # Furthermore both their location and content depend on <prefix>.
 # Distutils should really have a 'configure' step.
 if os.name=='posix':
-    prefix='/usr/local'
+    prefix=os.environ['PREFIX']
     for arg_index in xrange(1,len(sys.argv)):
         arg=sys.argv[arg_index]
         if arg=='--prefix':
@@ -85,8 +85,8 @@ if py2exe_present:
 # We now construct the files pytraffic and pytraffic.desktop. We will
 # remove them afterwards.
 if os.name=='posix':
-    main_command_contents=r"""exec python %s/share/%s/Main.py 
-""" % (prefix,version.install_leaf)
+    main_command_contents=r"""exec %s %s/share/%s/Main.py 
+""" % (sys.executable,prefix,version.install_leaf)
 
     main_command_file=open("pytraffic","w")
     main_command_file.write(main_command_contents)
