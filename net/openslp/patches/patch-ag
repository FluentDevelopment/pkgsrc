$NetBSD: patch-ag,v 1.1 2004/11/27 04:41:12 jlam Exp $

--- common/slp_spi.c.orig	2002-09-10 00:38:25.000000000 -0400
+++ common/slp_spi.c
@@ -267,9 +267,9 @@ SLPSpiHandle SLPSpiOpen(const char* spif
     fp = fopen(spifile,"r");
     if(fp)
     {
-        result = xmalloc(sizeof(structSLPSpiHandle));
+        result = xmalloc(sizeof(*result));
         if(result == 0) return 0;
-        memset(result, 0, sizeof(structSLPSpiHandle));
+        memset(result, 0, sizeof(*result));
         
         result->spifile = xstrdup(spifile);
         result->cacheprivate = cacheprivate;
