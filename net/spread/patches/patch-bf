$NetBSD: patch-bf,v 1.1 2003/08/13 19:46:24 recht Exp $

--- network.c.orig	2002-09-22 04:56:52.000000000 +0200
+++ network.c	2003-08-13 21:34:39.000000000 +0200
@@ -90,6 +90,7 @@
 	proc		dummy_proc;
         int32u          interface_addr;
         int             i;
+        bool            bcast_bound = FALSE;
 
 	Cn = Conf();
 	My = Conf_my();
@@ -125,8 +126,10 @@
                                 interface_addr = 0;
                         else {
                                 interface_addr = My.ifc[i].ip;
-                                if (Bcast_needed) 
+                                if (Bcast_needed && !bcast_bound) {
                                     Bcast_channel[Num_bcast_channels++] = DL_init_channel( RECV_CHANNEL, My.port, Bcast_address, Bcast_address );
+                                    bcast_bound = TRUE;
+                                }
                         }
                         Bcast_channel[Num_bcast_channels++] = DL_init_channel( RECV_CHANNEL, My.port, Bcast_address, interface_addr );
                         Token_channel[Num_token_channels++] = DL_init_channel( RECV_CHANNEL, My.port+1, 0, interface_addr );
