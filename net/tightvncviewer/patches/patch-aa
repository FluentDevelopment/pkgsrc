$NetBSD: patch-aa,v 1.3 2002/10/09 21:14:41 jlam Exp $

--- vncviewer/Imakefile.orig	Tue Nov 13 03:31:34 2001
+++ vncviewer/Imakefile
@@ -6,19 +6,14 @@ CCOPTIONS =
 CDEBUGFLAGS = -O2
 #endif
 
-XCOMM Shared memory support works OK on x86 linux, not tested elsewhere but
-XCOMM seems to cause problems on Digital Unix.
-
-#if defined(i386Architecture) && defined(LinuxArchitecture)
 DEFINES = -DMITSHM
-#endif
 
-INCLUDES = -I../include -I. -I/usr/include
+INCLUDES = -I../include -I. ${BUILDLINK_CPPFLAGS}
 VNCAUTH_LIB = ../libvncauth/libvncauth.a
-ZLIB_LIB = /usr/lib/libz.a
-JPEG_LIB = /usr/lib/libjpeg.a
+ZLIB_LIB = -lz
+JPEG_LIB = ${BUILDLINK_LDFLAGS} -ljpeg
 
-DEPLIBS = XawClientDepLibs $(VNCAUTH_LIB) $(ZLIB_LIB) $(JPEG_LIB)
+DEPLIBS = XawClientDepLibs $(VNCAUTH_LIB)
 LOCAL_LIBRARIES = XawClientLibs $(VNCAUTH_LIB) $(ZLIB_LIB) $(JPEG_LIB)
 
 SRCS = \
