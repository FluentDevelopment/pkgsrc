$NetBSD: patch-aa,v 1.4 2002/10/17 12:17:14 lukem Exp $

--- vncviewer/Imakefile.orig	Fri Jun 28 15:53:19 2002
+++ vncviewer/Imakefile
@@ -3,24 +3,14 @@
 EXTRA_DEFINES = -D__EXTENSIONS__
 #endif
 
-XCOMM Shared memory support works OK on x86 linux, not tested elsewhere but
-XCOMM seems to cause problems on Digital Unix.
-
-#if defined(i386Architecture) && defined(LinuxArchitecture)
 DEFINES = -DMITSHM
-#endif
 
 ZLIB_INC = -I/usr/local/include
 JPEG_INC = -I/usr/local/include
-INCLUDES = -I../include -I. $(ZLIB_INC) $(JPEG_INC) -I/usr/include
+INCLUDES = -I../include -I. ${BUILDLINK_CPPFLAGS}
 VNCAUTH_LIB = ../libvncauth/libvncauth.a
-ZLIB_LIB = -L/usr/local/lib -lz
-#ifdef OSF1Architecture
-XCOMM Avoid linking with different libjpeg in /usr/shlib under Tru64.
-JPEG_LIB = /usr/local/lib/libjpeg.a
-#else
-JPEG_LIB = -L/usr/local/lib -ljpeg
-#endif
+ZLIB_LIB = -lz
+JPEG_LIB = ${BUILDLINK_LDFLAGS} -ljpeg
 
 DEPLIBS = XawClientDepLibs $(VNCAUTH_LIB)
 LOCAL_LIBRARIES = XawClientLibs $(VNCAUTH_LIB) $(ZLIB_LIB) $(JPEG_LIB)
