$NetBSD: patch-ab,v 1.10 2006/02/01 20:39:11 joerg Exp $

--- configure.orig	2005-12-31 01:13:10.000000000 +0000
+++ configure
@@ -3029,7 +3029,7 @@ _ACEOF
   # libpcap doesn't even LOOK at
                                      # the timeout you give it under Linux
     ;;
-  *-freebsd* | *-kfreebsd*-gnu)
+  *-freebsd* | *-kfreebsd*-gnu | *-dragonfly*)
     cat >>confdefs.h <<\_ACEOF
 #define FREEBSD 1
 _ACEOF
@@ -5765,10 +5765,6 @@ fi
 
 fi;
 
-if test $linux = yes; then
-  have_libpcap=no
-fi
-
 if test $needs_cpp_precomp = yes; then
   CXXFLAGS="-no-cpp-precomp $CXXFLAGS"
 fi
@@ -5802,6 +5798,7 @@ cat >>conftest.$ac_ext <<_ACEOF
 extern char pcap_version[];
 int main() {
   int major, minor;
+  exit(0);	/* fool it */
   sscanf(pcap_version,"%d.%d", &major, &minor);
   if (major > 0)
     exit(0);
