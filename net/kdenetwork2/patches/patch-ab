$NetBSD: patch-ab,v 1.2 2001/10/15 22:46:16 skrll Exp $

--- configure.orig	Mon Sep 10 07:18:09 2001
+++ configure
@@ -8149,14 +8149,14 @@
 
 
 
-echo $ac_n "checking for pthread_create in -lpthread""... $ac_c" 1>&6
-echo "configure:8154: checking for pthread_create in -lpthread" >&5
+echo $ac_n "checking for pthread_create in -lPTL""... $ac_c" 1>&6
+echo "configure:8154: checking for pthread_create in -lPTL" >&5
 ac_lib_var=`echo pthread'_'pthread_create | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lpthread  $LIBS"
+LIBS="-lPTL  $LIBS"
 cat > conftest.$ac_ext <<EOF
 #line 8162 "configure"
 #include "confdefs.h"
@@ -8187,7 +8187,7 @@
 fi
 if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  LIBPTHREAD="-lpthread" 
+  LIBPTHREAD="-lPTL" 
 else
   echo "$ac_t""no" 1>&6
 fi
@@ -8374,6 +8374,11 @@
         freebsd*)
                 CPPFLAGS="$CPPFLAGS -D_THREAD_SAFE"
                 echo "Setting FreeBSD pthread compilation options"
+                ;;
+        netbsd*)
+                CPPFLAGS="$CPPFLAGS -D_THREAD_SAFE"
+		USE_THREADS="-I${LOCALBASE}/PTL/include"
+                echo "Setting NetBSD pthread compilation options"
                 ;;
         aix*)
                 CPPFLAGS="$CPPFLAGS -D_THREAD_SAFE"
