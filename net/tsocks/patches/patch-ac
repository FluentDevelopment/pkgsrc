$NetBSD: patch-ac,v 1.1 2005/08/04 10:22:21 drochner Exp $

--- tsocks.c.orig	2005-08-04 11:46:19.000000000 +0200
+++ tsocks.c
@@ -68,7 +68,7 @@ static int suid = 0;
 static char *conffile = NULL;
 
 /* Exported Function Prototypes */
-void _init(void);
+void __tsocks_init(void) __attribute__ ((__constructor__));
 int connect(CONNECT_SIGNATURE);
 int select(SELECT_SIGNATURE);
 int poll(POLL_SIGNATURE);
@@ -100,7 +100,7 @@ static int read_socksv4_req(struct connr
 static int read_socksv5_connect(struct connreq *conn);
 static int read_socksv5_auth(struct connreq *conn);
 
-void _init(void) {
+void __tsocks_init(void) {
 #ifdef USE_OLD_DLSYM
 	void *lib;
 #endif
