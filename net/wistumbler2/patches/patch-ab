$NetBSD: patch-ab,v 1.1 2004/10/21 21:25:23 reinoud Exp $

--- configure.orig	2003-11-30 00:39:01.000000000 +0100
+++ configure
@@ -95,6 +95,16 @@ if [ "${USE_GTK}" = "0" ]; then
 	GTK=0;
 fi
 
+printf "[*] Checking for beeper...\t\t\t"
+if [ -f /usr/include/machine/spkr.h -o -f /usr/include/machine/speaker.h ]; then
+        SPEAKER=1
+        echo "OK"
+else
+        SPEAKER=0
+        echo "NOT PRESENT"
+fi
+
+
 # Clean exit
 printf "\n== Configuration done. Now type 'make' ==\n\n"
 echo "PREFIX=${PREFIX}" > CONFIG
@@ -115,4 +125,8 @@ else
 	echo "CFLAGS+=-DUSE_PCAP" >> CONFIG
 	echo "LDFLAGS+=-lpcap" >> CONFIG
 fi
+if [ "${SPEAKER}" = "1" ]; then
+	echo "CFLAGS+=-DSPEAKER_PRESENT" >> CONFIG
+fi
+
 exit 0
