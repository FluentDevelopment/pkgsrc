$NetBSD: patch-ad,v 1.3 2002/10/23 10:42:21 martti Exp $

--- bin/mrtg.orig	Sat Oct 19 11:06:54 2002
+++ bin/mrtg	Wed Oct 23 12:15:42 2002
@@ -535,15 +535,15 @@
     ########## rrdtool users have left here ###############
 
     ((($MRTG_lib::OS eq 'NT') && (-e "${FindBin::Bin}${MRTG_lib::SL}rateup.exe")) ||
-     (-x "${FindBin::Bin}${MRTG_lib::SL}rateup")) || 
-       die "ERROR: Can't Execute '${FindBin::Bin}${MRTG_lib::SL}rateup'\n";
+     (-x "__PREFIX__/libexec/rateup")) ||
+       die "ERROR: Can't Execute '__PREFIX__/libexec/rateup'\n";
 
     # rateup does not know about undef so we make inlast and outlast ready for rateup
     die "ERROR: inlast is undefined. This should not be possible\n" unless defined $inlast;
     die "ERROR: outlast is undefined. This should not be possible\n" unless defined $outlast;
 
     if ($$rcfg{'options'}{'dorelpercent'}{$router}) {
-        @exec = ("${FindBin::Bin}${MRTG_lib::SL}rateup", 
+        @exec = ("__PREFIX__/libexec/rateup",
                  "$$cfg{'logdir'}$$rcfg{'directory'}{$router}","$router",
                  $time, $$rcfg{'options'}{'unknaszero'}{$router} ? '-z':'-Z',
                  "$up_abs"."p", $inlast, $outlast, $absmax,
@@ -551,7 +551,7 @@
                  $$rcfg{'rgb3'}{$router},$$rcfg{'rgb4'}{$router},
                  $$rcfg{'rgb5'}{$router});
     } else { 
-        @exec = ("${FindBin::Bin}${MRTG_lib::SL}rateup", 
+        @exec = ("__PREFIX__/libexec/rateup",
                  "$$cfg{'logdir'}$$rcfg{'directory'}{$router}","$router",
                  $time, $$rcfg{'options'}{'unknaszero'}{$router} ? '-z':'-Z',
                  "$up_abs", $inlast, $outlast, $absmax,
