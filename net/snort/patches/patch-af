$NetBSD: patch-af,v 1.3 2007/02/20 17:29:36 joerg Exp $

--- src/dynamic-plugins/sf_dynamic_plugins.c.orig	2007-02-20 16:54:06.000000000 +0000
+++ src/dynamic-plugins/sf_dynamic_plugins.c
@@ -210,8 +210,7 @@ void LoadAllLibs(char *path, LoadLibrary
         dirEntry = readdir(directory);
         while (dirEntry)
         {
-            if (dirEntry->d_reclen &&
-                !fnmatch(EXT, dirEntry->d_name, FNM_PATHNAME | FNM_PERIOD))
+            if (!fnmatch(EXT, dirEntry->d_name, FNM_PATHNAME | FNM_PERIOD))
             {
                 snprintf(path_buf, PATH_MAX, "%s%s%s", path, "/", dirEntry->d_name);
                 loadFunc(path_buf, 1);
