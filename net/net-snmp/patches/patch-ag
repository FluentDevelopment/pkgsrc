$NetBSD: patch-ag,v 1.4 2005/08/01 11:56:54 wiz Exp $
--- agent/mibgroup/host/hr_storage.c.orig	2004-10-17 11:59:14.000000000 +1000
+++ agent/mibgroup/host/hr_storage.c	2005-07-30 19:04:20.000000000 +1000
@@ -164,7 +164,14 @@
 #define HRFS_mount	f_mntonname
 #define HRFS_HAS_FRSIZE STRUCT_STATVFS_HAS_F_FRSIZE
 
-#elif defined(HAVE_STATVFS)
+#elif defined(HAVE_STATVFS) && defined(__NetBSD__)
+
+extern struct statvfs *HRFS_entry;
+extern int      fscount;
+#define HRFS_statfs	statvfs
+#define HRFS_mount	f_mntonname
+
+#elif defined(HAVE_STATVFS) && defined(STRUCT_STATVFS_HAS_MNT_DIR)
 
 extern struct mntent *HRFS_entry;
 extern int      fscount;
