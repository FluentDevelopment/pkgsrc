--- agent/mibgroup/ucd-snmp/disk.c.orig	2005-07-30 18:48:29.000000000 +1000
+++ agent/mibgroup/ucd-snmp/disk.c	2005-07-30 18:49:20.000000000 +1000
@@ -73,15 +73,17 @@
 #if HAVE_SYS_VFS_H
 #include <sys/vfs.h>
 #endif
-#if (!defined(HAVE_STATVFS)) && defined(HAVE_STATFS)
+#ifdef HAVE_STATFS
 #if HAVE_SYS_MOUNT_H
 #include <sys/mount.h>
 #endif
 #if HAVE_SYS_SYSCTL_H
 #include <sys/sysctl.h>
 #endif
+#ifndef HAVE_STATVFS
 #define statvfs statfs
 #endif
+#endif
 #if HAVE_VM_VM_H
 #include <vm/vm.h>
 #endif
