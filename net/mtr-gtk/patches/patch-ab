$NetBSD: patch-ab,v 1.4 2003/01/09 16:36:06 mycroft Exp $

--- dns.c.orig	Sat Nov 23 18:24:16 2002
+++ dns.c	Thu Jan  9 16:25:23 2003
@@ -743,8 +743,8 @@
 void dorequest(char *s,int type,word id){
    packetheader *hp;
    int r,i;
-   int buf[(MaxPacketsize/sizeof (int))+1];
-   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,(unsigned char*)buf,MaxPacketsize);
+   unsigned char buf[MaxPacketsize];
+   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,buf,MaxPacketsize);
    if (r == -1){
       restell("Resolver error: Query too large.");
       return;
