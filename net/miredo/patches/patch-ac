$NetBSD: patch-ac,v 1.2 2006/05/02 15:36:09 rpaulo Exp $

--- libtun6/tun6.c.orig	2006-05-02 16:30:58.000000000 +0100
+++ libtun6/tun6.c	2006-05-02 16:31:08.000000000 +0100
@@ -213,7 +213,7 @@ tun6 *tun6_create (const char *req_name)
 		 * Some BSD variants or older kernel versions do not support /dev/tun,
 		 * so fallback to the old scheme.
 		 */
-		for (unsigned i = 0; (fd == -1) && (errno != ENOENT); i++)
+		for (unsigned i = 0; (fd == -1) && (errno == ENOENT); i++)
 		{
 			char tundev[5 + IFNAMSIZ];
 			snprintf (tundev, sizeof (tundev), "/dev/tun%u", i);
