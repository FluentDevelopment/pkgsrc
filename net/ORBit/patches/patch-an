$NetBSD: patch-an,v 1.3 2003/01/19 13:48:19 wiz Exp $

--- src/IIOP/giop-msg-buffer.c.orig	Mon Mar 11 13:40:02 2002
+++ src/IIOP/giop-msg-buffer.c
@@ -210,7 +210,7 @@ giop_send_buffer_write(GIOPSendBuffer *s
 			res = writev (fd, curvec, MIN (nvecs, MAX_LIMITED_IOVECS));
 /*			fprintf (stderr, "wrote %ld bytes [%d]\n", res, (int) errno); */
 #else
-			res = writev (fd, curvec, nvecs);
+			res = writev (fd, curvec, MIN(nvecs, IOV_MAX));
 #endif
 		} while (res < 0 && errno == EINTR);
 
