$NetBSD: patch-ad,v 1.1 2005/10/26 17:33:49 joerg Exp $

--- configure.orig	2005-10-14 10:25:05.000000000 +0000
+++ configure
@@ -21053,7 +21053,7 @@ then
   FIND_PROC="$PS \$\$PID | grep -v grep | grep mysqld > /dev/null"
 else
   case $SYSTEM_TYPE in
-    *freebsd*)
+    *freebsd* | *dragonfly*)
       FIND_PROC="$PS p \$\$PID | grep -v grep | grep mysqld > /dev/null"
       ;;
     *darwin*)
@@ -25265,6 +25265,10 @@ case $SYSTEM_TYPE in
       MAX_C_OPTIMIZE="-O"
     fi
     ;;
+  *dragonfly*)
+    CXXFLAGS="$CXXFLAGS -DMYSQLD_NET_RETRY_COUNT=1000000"
+    ;;
+    
   *freebsd*)
     echo "Adding fix for interrupted reads"
     OSVERSION=`sysctl -a | grep osreldate | awk '{ print $2 }'`
