$NetBSD: patch-be,v 1.1 2006/06/19 07:53:00 seb Exp $

--- sql/sql_lex.cc.orig	2006-05-24 18:00:37.000000000 +0000
+++ sql/sql_lex.cc
@@ -892,6 +892,8 @@ int yylex(void *arg, void *yythd)
       while (lex->ptr != lex->end_of_query &&
 	     ((c=yyGet()) != '*' || yyPeek() != '/'))
       {
+	if (c == '\0')
+	  return(ABORT_SYM);		// NULLs illegal even in comments
 	if (c == '\n')
 	  lex->yylineno++;
       }
