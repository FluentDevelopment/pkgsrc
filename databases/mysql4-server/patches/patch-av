$NetBSD: patch-av,v 1.1 2004/02/24 14:53:54 grant Exp $

--- sql/mysqld.cc.orig	2003-12-15 08:23:47.000000000 +1100
+++ sql/mysqld.cc
@@ -106,7 +106,18 @@ extern "C" {					// Because of SCO 3.2V4
 int allow_severity = LOG_INFO;
 int deny_severity = LOG_WARNING;
 
-#ifdef __STDC__
+#ifdef __FreeBSD__
+#  include <osreldate.h>
+#  if defined(__STDC__) && __FreeBSD_version < 500000
+#    define my_fromhost(A)	   fromhost(A)
+#    define my_hosts_access(A) hosts_access(A)
+#    define my_eval_client(A)  eval_client(A)
+#  else
+#    define my_fromhost(A)	   fromhost()
+#    define my_hosts_access(A) hosts_access()
+#    define my_eval_client(A)  eval_client()
+#  endif
+#elif defined(__STDC__)
 #define my_fromhost(A)	   fromhost(A)
 #define my_hosts_access(A) hosts_access(A)
 #define my_eval_client(A)  eval_client(A)
