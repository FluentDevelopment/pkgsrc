$NetBSD: patch-af,v 1.9 2005/10/26 17:33:07 joerg Exp $

--- configure.orig	2005-05-13 13:34:04.000000000 +0200
+++ configure	2005-05-23 15:42:07.000000000 +0200
@@ -21053,7 +21053,7 @@ then
   FIND_PROC="$PS \$\$PID | grep -v grep | grep mysqld > /dev/null"
 else
   case $SYSTEM_TYPE in
-    *freebsd*)
+    *freebsd* | *dragonfly*)
       FIND_PROC="$PS p \$\$PID | grep -v grep | grep mysqld > /dev/null"
       ;;
     *darwin*)
@@ -25265,6 +25265,10 @@ case $SYSTEM_TYPE in
       MAX_C_OPTIMIZE="-O"
     fi
     ;;
+  *dragonfly*)
+    CXXFLAGS="$CXXFLAGS -DMYSQLD_NET_RETRY_COUNT=1000000"
+    ;;
+    
   *freebsd*)
     echo "Adding fix for interrupted reads"
     OSVERSION=`sysctl -a | grep osreldate | awk '{ print $2 }'`
@@ -37003,33 +37007,10 @@
 fi;
 
 
-echo "$as_me:$LINENO: checking for ORBit" >&5
-echo $ECHO_N "checking for ORBit... $ECHO_C" >&6
-orbit_config_path=`which orbit-config`
-if test -n "$orbit_config_path" -a $? = 0
-then
-  orbit_exec_prefix=`orbit-config --exec-prefix`
-  orbit_includes=`orbit-config --cflags server`
-  orbit_libs=`orbit-config --libs server`
-  orbit_idl="$orbit_exec_prefix/bin/orbit-idl"
-  echo "$as_me:$LINENO: result: found!" >&5
-echo "${ECHO_T}found!" >&6
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_ORBIT 1
-_ACEOF
-
-else
   orbit_exec_prefix=
   orbit_includes=
   orbit_libs=
   orbit_idl=
-  echo "$as_me:$LINENO: result: not found" >&5
-echo "${ECHO_T}not found" >&6
-fi
-
-
-
 
 
   echo "$as_me:$LINENO: checking if we should build MySQLFS" >&5
@@ -37421,7 +37402,7 @@
 main ()
 {
 
-		char res= *(*rl_completion_entry_function)(0,0);
+		char res=(*rl_completion_entry_function)(0,0);
 		completion_matches(0,0);
 
   ;
