$NetBSD: patch-ac,v 1.1 2001/10/20 18:52:38 reinoud Exp $

--- ../sqlite/src/build.c.orig	Mon Oct 15 02:44:36 2001
+++ ../sqlite/src/build.c
@@ -97,7 +97,7 @@
 void sqliteExprSpan(Expr *pExpr, Token *pLeft, Token *pRight){
   if( pExpr ){
     pExpr->span.z = pLeft->z;
-    pExpr->span.n = pRight->n + (int)pRight->z - (int)pLeft->z;
+    pExpr->span.n = pRight->n + (long long int)pRight->z - (long long int)pLeft->z;
   }
 }
 
@@ -489,7 +489,7 @@
   i = p->nCol-1;
   if( i<0 ) return;
   pz = &p->aCol[i].zType;
-  n = pLast->n + ((int)pLast->z) - (int)pFirst->z;
+  n = pLast->n + ((long long int)pLast->z) - (long long int)pFirst->z;
   sqliteSetNString(pz, pFirst->z, n, 0);
   z = *pz;
   if( z==0 ) return;
@@ -604,7 +604,7 @@
 
     v = sqliteGetVdbe(pParse);
     if( v==0 ) return;
-    n = (int)pEnd->z - (int)pParse->sFirstToken.z + 1;
+    n = (long long int)pEnd->z - (long long int)pParse->sFirstToken.z + 1;
     if( !p->isTemp ){
       sqliteVdbeAddOp(v, OP_NewRecno, 0, 0);
       sqliteVdbeAddOp(v, OP_String, 0, 0);
@@ -952,7 +952,7 @@
     if( !isTemp ){
       addr = sqliteVdbeAddOp(v, OP_String, 0, 0);
       if( pStart && pEnd ){
-        n = (int)pEnd->z - (int)pStart->z + 1;
+        n = (long long int)pEnd->z - (long long int)pStart->z + 1;
         sqliteVdbeChangeP3(v, addr, pStart->z, n);
       }
       sqliteVdbeAddOp(v, OP_MakeRecord, 5, 0);
