$NetBSD: patch-aa,v 1.1 2001/12/31 23:55:55 jlam Exp $

--- config.m4.orig	Mon May 21 15:47:15 2001
+++ config.m4
@@ -36,18 +36,8 @@
     AC_MSG_ERROR(Cannot find ldap.h)
   fi
 
-  dnl The Linux version of the SDK need -lpthread
-  dnl I have tested Solaris, and it doesn't, but others may.  Add
-  dnl these here if necessary.   -RL
-  dnl Is this really necessary? -Troels Arvin
-
-  if test `uname` = "Linux"; then
-    LDAP_PTHREAD=pthread
-  else
-    LDAP_PTHREAD=
-  fi
-
   if test -f $LDAP_LIBDIR/liblber.a -o -f $LDAP_LIBDIR/liblber.so -o -f $LDAP_LIBDIR/liblber.sl; then
+    PHP_ADD_LIBRARY_WITH_PATH(pthread, $LDAP_LIBDIR, LDAP_SHARED_LIBADD)
     PHP_ADD_LIBRARY_WITH_PATH(lber, $LDAP_LIBDIR, LDAP_SHARED_LIBADD)
     PHP_ADD_LIBRARY_WITH_PATH(ldap, $LDAP_LIBDIR, LDAP_SHARED_LIBADD)
 
