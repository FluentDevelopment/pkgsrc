$NetBSD: patch-av,v 1.1 2004/02/07 17:44:10 seb Exp $

--- src/parsetime.c.orig	Fri Oct 11 18:39:46 2002
+++ src/parsetime.c
@@ -660,6 +660,7 @@ day(struct time_value *ptv)
 {
     long mday=0, wday, mon, year = ptv->tm.tm_year;
     int tlen;
+    time_t montime;
 
     switch (sc_tokid) {
     case YESTERDAY:
@@ -713,7 +714,8 @@ day(struct time_value *ptv)
 	    tlen = strlen(sc_token);
 	    mon = atol(sc_token);
             if (mon > 10*356*24*60*60) {
-		ptv->tm=*localtime(&mon);
+		montime = mon;
+		ptv->tm=*localtime(&montime);
 		token();
 		break;
 	    }
