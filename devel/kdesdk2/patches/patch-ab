$NetBSD: patch-ab,v 1.1 2001/10/18 09:08:07 skrll Exp $

--- kbabel/common/libgettext/xmalloc.c.orig	Mon Apr  9 14:30:55 2001
+++ kbabel/common/libgettext/xmalloc.c
@@ -61,7 +61,11 @@
    The caller may set it to some other value.  */
 int xmalloc_exit_failure = EXIT_FAILURE;
 
+#ifdef __NetBSD__
+#include <err.h>
+#else
 void error (int, int, const char *, ...);
+#endif
 
 static VOID *
 fixup_null_alloc (n)
@@ -73,7 +77,11 @@
   if (n == 0)
     p = malloc ((size_t) 1);
   if (p == 0)
+#ifdef __NetBSD__
+    err(xmalloc_exit_failure, _("Memory exhausted"));
+#else
     error (xmalloc_exit_failure, 0, _("Memory exhausted"));
+#endif
   return p;
 }
 
