$NetBSD: patch-ap,v 1.1 2002/03/01 01:38:48 jmc Exp $

--- libidu/idread.c.orig	Fri Mar  1 01:22:36 2002
+++ libidu/idread.c	Fri Mar  1 01:22:52 2002
@@ -207,12 +207,12 @@
 #define TOK_COUNT_ADDR(buf) ((unsigned char const *)(TOK_FLAGS_ADDR (buf) + 1))
 #define TOK_HITS_ADDR(buf) ((unsigned char const *)(TOK_COUNT_ADDR (buf) + 2))
 
-unsigned short
+unsigned int
 token_count (char const *buf)
 {
   unsigned char const *flags = (unsigned char const *)&buf[strlen (buf) + 1];
   unsigned char const *addr = flags + 1;
-  unsigned short count = *addr;
+  unsigned int count = *addr;
   if (*flags & TOK_SHORT_COUNT)
     count += (*++addr << 8);
   return count;
