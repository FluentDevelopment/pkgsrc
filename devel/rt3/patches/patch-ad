$NetBSD: patch-ad,v 1.1 2006/06/03 10:40:34 seb Exp $

--- lib/RT/Ticket_Overlay.pm.orig	2005-11-14 20:43:24.000000000 +0000
+++ lib/RT/Ticket_Overlay.pm
@@ -3018,20 +3018,21 @@ sub SetOwner {
 
     $RT::Handle->Commit();
 
-    my ( $trans, $msg, undef ) = $self->_NewTransaction(
-                                                   Type     => $Type,
-                                                   Field    => 'Owner',
-                                                   NewValue => $NewOwnerObj->Id,
-                                                   OldValue => $OldOwnerObj->Id,
-                                                   TimeTaken => 0 );
+    ( $val, $msg ) = $self->_NewTransaction(
+            Type     => $Type,
+            Field    => 'Owner',
+            NewValue => $NewOwnerObj->Id,
+            OldValue => $OldOwnerObj->Id,
+            TimeTaken => 0,
+    );
 
-    if ($trans) {
+    if ($val) {
         $msg = $self->loc( "Owner changed from [_1] to [_2]",
                            $OldOwnerObj->Name, $NewOwnerObj->Name );
 
         # TODO: make sure the trans committed properly
     }
-    return ( $trans, $msg );
+    return ( $val, $msg );
 
 }
 
