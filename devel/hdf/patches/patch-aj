$NetBSD: patch-aj,v 1.5 2002/05/03 23:14:52 jtb Exp $

--- /dev/null	Wed May  1 14:04:01 2002
+++ mfhdf/ncgen/Makefile	Wed May  1 14:11:52 2002
@@ -0,0 +1,35 @@
+PROG= ncgen
+PROGNAME= hdfncgen
+
+MAN= hdfncgen.1
+
+SRCS= main.c generate.c load.c ncgentab.c escapes.c getfill.c init.c	\
+	close.c genlib.c
+
+BINDIR= ${PREFIX}/bin
+LIBDIR= ${PREFIX}/lib
+MANDIR= ${PREFIX}/man
+
+CPPFLAGS+= -Dunix -DNDEBUG
+CPPFLAGS+= -I${.CURDIR}/../libsrc
+CPPFLAGS+= -I${.CURDIR}/../../hdf/src
+
+LDFLAGS+= -L${.CURDIR}/../libsrc
+LDFLAGS+= -L${.CURDIR}/../../hdf/src
+LDFLAGS+= -Wl,-R${BUILDLINK_PREFIX.jpeg}/lib
+LDFLAGS+= -Wl,-R${BUILDLINK_PREFIX.zlib}/lib
+
+LDADD+= -lmfhdf -ldf -ljpeg -lz
+
+NOGCCERROR= 1
+
+ncgenyy.c: ncgen.l
+	${LEX} ${LFLAGS} ncgen.l
+	mv lex.yy.c ncgenyy.c
+
+ncgentab.c: ncgenyy.c ncgen.y
+	${YACC} ${YFLAGS} ncgen.y
+	mv y.tab.c ncgentab.c
+	touch ncgentab.h
+
+.include <bsd.prog.mk>
