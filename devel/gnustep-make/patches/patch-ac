$NetBSD: patch-ac,v 1.6 2006/01/17 07:35:55 adam Exp $

--- target.make.orig	2005-12-06 11:54:03.000000000 +0100
+++ target.make
@@ -711,6 +711,39 @@ endif
 
 ####################################################
 #
+# DragonFly
+#
+ifeq ($(findstring dragonfly, $(GNUSTEP_TARGET_OS)), dragonfly)
+HAVE_SHARED_LIBS    = yes
+SHARED_LD_POSTFLAGS = -Wl,-R/usr/pkg/lib -L/usr/pkg/lib
+SHARED_LIB_LINK_CMD = \
+	$(CC) -shared -Wl,-soname,$(LIB_LINK_VERSION_FILE) \
+              $(ALL_LDFLAGS) -o $(LIB_LINK_OBJ_DIR)/$(LIB_LINK_VERSION_FILE) \
+                 $^ $(INTERNAL_LIBRARIES_DEPEND_UPON) \
+                 $(SHARED_LD_POSTFLAGS); \
+	(cd $(LIB_LINK_OBJ_DIR); \
+	  $(RM_LN_S) $(LIB_LINK_FILE); \
+	  $(LN_S) $(LIB_LINK_VERSION_FILE) $(LIB_LINK_FILE))
+OBJ_MERGE_CMD		= \
+	$(CC) -nostdlib -r $(ALL_LDFLAGS) -o $(GNUSTEP_OBJ_DIR)/$(SUBPROJECT_PRODUCT) $^ ;
+
+SHARED_CFLAGS	+= -fPIC
+SHARED_LIBEXT	= .so
+
+HAVE_BUNDLES	= yes
+BUNDLE_LD	= $(CC)
+BUNDLE_LDFLAGS	+= -shared
+ADDITIONAL_LDFLAGS += -rdynamic -Wl,-R/usr/pkg/lib -L/usr/pkg/lib -Wl,-R/usr/X11R6/lib -L/usr/X11R6/lib
+ADDITIONAL_INCLUDE_DIRS += -I/usr/pkg/include
+STATIC_LDFLAGS += -static
+endif
+#
+# end DragonFly
+#
+####################################################
+
+####################################################
+#
 # OpenBSD 3.x (though set for 3.3)
 #
 ifeq ($(findstring openbsd, $(GNUSTEP_TARGET_OS)), openbsd)
