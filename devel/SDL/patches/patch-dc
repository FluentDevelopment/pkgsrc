$NetBSD: patch-dc,v 1.1 2005/05/20 20:08:40 wiz Exp $

--- src/video/svga/SDL_svgaevents.c.orig	2004-02-18 18:22:09.000000000 +0100
+++ src/video/svga/SDL_svgaevents.c
@@ -36,7 +36,7 @@ static char rcsid =
 #if defined(linux)
 #include <linux/kd.h>
 #include <linux/keyboard.h>
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
 #include <sys/kbio.h>
 #else
 #error You must choose your operating system here
@@ -52,7 +52,7 @@ static char rcsid =
 #if defined(linux)
 #define NUM_VGAKEYMAPS	(1<<KG_CAPSSHIFT)
 static Uint16 vga_keymap[NUM_VGAKEYMAPS][NR_KEYS];
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
 /* FIXME: Free the keymap when we shut down the video mode */
 static keymap_t *vga_keymap = NULL;
 #else
@@ -135,7 +135,7 @@ int SVGA_initkeymaps(int fd)
 	}
 	return(0);
 }
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
 int SVGA_initkeymaps(int fd)
 {
 	vga_keymap = malloc(sizeof(keymap_t));
@@ -383,7 +383,7 @@ static SDL_keysym *TranslateKey(int scan
 	}
 	return(keysym);
 }
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__DragonFly__)
 static SDL_keysym *TranslateKey(int scancode, SDL_keysym *keysym)
 {
 	/* Set the keysym information */
