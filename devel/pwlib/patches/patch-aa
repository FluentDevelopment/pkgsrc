$NetBSD: patch-aa,v 1.2 2002/02/08 06:29:43 jlam Exp $

--- make/unix.mak.orig	Mon Jun 26 07:17:20 2000
+++ make/unix.mak
@@ -497,14 +497,7 @@
 STDCCFLAGS	+= -DP_NETBSD
 LDLIBS		+= -lossaudio
 
-ifdef P_PTHREADS
-STDCCFLAGS += -I/usr/pkg/pthreads/include
-LDFLAGS	+= -L/usr/pkg/pthreads/lib
-LDLIBS	+= -lpthread
-CC              := /usr/pkg/pthreads/bin/pgcc
-CPLUS           := /usr/pkg/pthreads/bin/pg++
-endif
-
+P_SHAREDLIB		:= 1
 P_USE_RANLIB		:= 1
 
 endif # NetBSD
@@ -708,13 +701,14 @@
 ifeq ($(P_SHAREDLIB),0)
 LIB_SUFFIX	= a
 else
-LIB_SUFFIX	= so
+LIB_SUFFIX	= la
 endif
 
 ifndef LIB_TYPE
 LIB_TYPE	=
 endif
 
+INSTALL_DIR = ${PREFIX}
 ifndef INSTALL_DIR
 INSTALL_DIR	= /usr/local
 endif
@@ -785,7 +779,7 @@
 PW_LIBDIR	= $(PWLIBDIR)/lib
 
 # set name of the PT library
-PTLIB_BASE	= pt_$(PLATFORM_TYPE)_$(OBJ_SUFFIX)
+PTLIB_BASE	= pt
 PTLIB_FILE	= lib$(PTLIB_BASE)$(LIB_TYPE).$(LIB_SUFFIX)
 PT_OBJBASE	= obj_$(PLATFORM_TYPE)_$(OBJ_SUFFIX)
 PT_OBJDIR	= $(PW_LIBDIR)/$(PT_OBJBASE)
@@ -851,6 +845,6 @@
 # add library directory to library path and include the library
 LDFLAGS		+= -L$(PW_LIBDIR)
 
-LDLIBS		+= -l$(PTLIB_BASE)$(LIB_TYPE)
+LDLIBS		+= $(PW_LIBDIR)/$(PTLIB_FILE)
 
 # End of unix.mak
