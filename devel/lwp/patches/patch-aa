$NetBSD: patch-aa,v 1.5 2005/09/22 12:05:39 rillig Exp $

ISO C90 does not allow declarations after code.

--- src/lwp_ucontext.c.orig	Thu Mar  3 19:53:51 2005
+++ src/lwp_ucontext.c	Thu Sep 22 14:02:14 2005
@@ -109,6 +109,10 @@ void makecontext(ucontext_t *ucp, void (
 {
     va_list ap;
     char *stack = ucp->uc_stack.ss_sp;
+    struct sigaction action, oldaction;
+    sigset_t sigs, oldsigs;
+    stack_t oldstack;
+
     assert(stack != NULL);
 
     child = ucp;
@@ -132,10 +136,6 @@ void makecontext(ucontext_t *ucp, void (
     savecontext(_thread, &parent, stack);
 
 #else /* HAVE_SIGALTSTACK */
-    struct sigaction action, oldaction;
-    sigset_t sigs, oldsigs;
-    stack_t oldstack;
-
     action.sa_handler = (void(*)(int))_thread;
     action.sa_flags = SA_ONSTACK;
     sigemptyset(&action.sa_mask);
