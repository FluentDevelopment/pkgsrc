$NetBSD: patch-aq,v 1.3 2002/11/24 21:31:25 hubertf Exp $

--- src/recurse.c.orig	Wed Jun 27 06:20:51 2001
+++ src/recurse.c
@@ -511,7 +511,7 @@
     if (frame->flags == R_SKIP_ALL)
 	return (0);
 
-    should_readlock = noexec ? 0 : frame->readlock;
+    should_readlock = nolock ? 0 : frame->readlock;
 
     /* The fact that locks are not active here is what makes us fail to have
        the
@@ -553,7 +553,7 @@
      */
     if (server_active
 	/* If there are writelocks around, we cannot pause here.  */
-	&& (should_readlock || noexec))
+	&& (should_readlock || nolock))
 	server_pause_check();
 #endif
 
