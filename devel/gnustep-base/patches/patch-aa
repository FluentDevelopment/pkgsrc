$NetBSD: patch-aa,v 1.3 2003/04/01 08:33:35 rh Exp $

--- configure.orig	2003-03-12 09:27:03.000000000 +1000
+++ configure
@@ -2404,12 +2404,12 @@ echo $ECHO_N "checking the Objective-C r
 if test "$OBJC_RUNTIME_LIB" = "nx" -o "$OBJC_RUNTIME_LIB" = "apple"; then
   echo "$as_me:$LINENO: result: NeXT" >&5
 echo "${ECHO_T}NeXT" >&6
-  LIBOBJC='-lobjc'
+  LIBOBJC="-lobjc @PTHREAD_LIBS@"
   CPPFLAGS="$CPPFLAGS -fnext-runtime -DNeXT_RUNTIME"
 else
   echo "$as_me:$LINENO: result: GNU" >&5
 echo "${ECHO_T}GNU" >&6
-  LIBOBJC='-lobjc'
+  LIBOBJC='-lobjc @PTHREAD_LIBS@'
   CPPFLAGS="$CPPFLAGS -fgnu-runtime"
 fi
 
@@ -2432,7 +2432,7 @@ fi
 # $GNUSTEP_HDIR are used before the standard ones
 #
 CPPFLAGS="$CPPFLAGS -I$GNUSTEP_HDIR"
-LDFLAGS="$LDFLAGS -L$GNUSTEP_LDIR/$LIBRARY_COMBO -L$GNUSTEP_LDIR"
+LDFLAGS="$LDFLAGS -L$GNUSTEP_LDIR/$LIBRARY_COMBO -Wl,-R$GNUSTEP_LDIR/$LIBRARY_COMBO -L$GNUSTEP_LDIR -Wl,-R$GNUSTEP_LDIR"
 
 #--------------------------------------------------------------------
 # Check if Objective-C is installed
@@ -11983,8 +11983,8 @@ fi;
   cppflags_temp="$CPPFLAGS"
 
   if test "$libiconv_libdir" != "no"; then
-    CPPFLAGS="$CPPFLAGS -L$libiconv_libdir"
-    INCLUDE_FLAGS="$INCLUDE_FLAGS  -L$libiconv_libdir"
+    CPPFLAGS="$CPPFLAGS -Wl,-R$libiconv_libdir -L$libiconv_libdir"
+    INCLUDE_FLAGS="$INCLUDE_FLAGS -Wl,-R$libiconv_libdir -L$libiconv_libdir"
   fi
 
   # BSDs install this lib as libgiconv
