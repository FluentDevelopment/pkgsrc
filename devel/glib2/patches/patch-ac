$NetBSD: patch-ac,v 1.8 2004/04/01 18:13:31 jmmv Exp $

http://bugzilla.gnome.org/show_bug.cgi?id=107626

--- gmodule/gmodule-dyld.c.orig	2002-03-02 21:30:33.000000000 +0100
+++ gmodule/gmodule-dyld.c
@@ -116,7 +116,13 @@ _g_module_symbol (gpointer     handle,
       if (NSIsSymbolNameDefined (symbol_name))
 	sym = NSLookupAndBindSymbol (symbol_name);
       else
-	sym = NULL;
+	{
+	  GModule *mod;
+	  for (mod = modules, sym = NULL; mod && !sym; mod = mod->next)
+	    {
+	      sym = NSLookupSymbolInModule (mod->handle, symbol_name);
+	    }
+	}
     }
   else
     sym = NSLookupSymbolInModule (handle, symbol_name);
