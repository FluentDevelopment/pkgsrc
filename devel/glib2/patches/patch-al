$NetBSD: patch-al,v 1.1 2007/08/16 18:11:44 tnn Exp $

--- glib/gthread.h.orig	2007-08-03 19:52:48.000000000 +0200
+++ glib/gthread.h
@@ -332,7 +332,7 @@ void                    g_once_init_leav
 G_INLINE_FUNC gboolean
 g_once_init_enter (volatile gsize *value_location)
 {
-  if G_LIKELY (g_atomic_pointer_get ((void**) value_location) !=0)
+  if G_LIKELY (g_atomic_pointer_get ((volatile gpointer*) value_location) !=0)
     return FALSE;
   else
     return g_once_init_enter_impl (value_location);
