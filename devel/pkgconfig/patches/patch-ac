$NetBSD: patch-ac,v 1.1 2004/12/18 16:57:56 grant Exp $

--- glib-1.2.8/gmain.c.orig	2000-05-19 15:58:48.000000000 +1000
+++ glib-1.2.8/gmain.c
@@ -187,7 +187,9 @@ static gboolean poll_changed = FALSE;
 /* SunOS has poll, but doesn't provide a prototype. */
 #  if defined (sun) && !defined (__SVR4)
 extern gint poll (GPollFD *ufds, guint nfsd, gint timeout);
-#  endif  /* !sun */
+#  elif defined (__APPLE__)
+extern gint poll (GPollFD *ufds, guint nfsd, gint timeout);
+#  endif
 static GPollFunc poll_func = (GPollFunc) poll;
 #else	/* !HAVE_POLL */
 #ifdef NATIVE_WIN32
