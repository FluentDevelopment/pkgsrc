$NetBSD: patch-ae,v 1.1 2004/12/18 19:05:54 minskim Exp $

--- sockunix.c.orig	2004-11-09 14:16:42.000000000 -0600
+++ sockunix.c
@@ -34,7 +34,7 @@ sock_open(const char *str, const char *m
 	char				buf[MAXDNAME], *p;
 
 	/* just in case */
-	while (isspace(*str))
+	while (isspace((unsigned char)*str))
 		str++;
 
 	/* prevent buffer overrun */
@@ -45,7 +45,7 @@ sock_open(const char *str, const char *m
 	strcpy(buf, str);
 
 	/* there should be no spaces in the spec */
-	for (p = buf; *p && !isspace(*p); p++)
+	for (p = buf; *p && !isspace((unsigned char)*p); p++)
 		;
 
 	*p = 0;
@@ -64,7 +64,7 @@ sock_open(const char *str, const char *m
 
 	/* nowadays one can find domains starting with digits so this gets
 	   a little trickier than it used to */
-	for (; *p && (*p == '.' || isdigit(*p)); p++)
+	for (; *p && (*p == '.' || isdigit((unsigned char)*p)); p++)
 		;
 
 	/* if p is pointing at zero byte then it's a dotted IP address */
@@ -89,7 +89,7 @@ sock_open(const char *str, const char *m
 	}
 
 	/* get TCP port number */
-	if (isdigit(service[0]))
+	if (isdigit((unsigned char)service[0]))
 		sock_in.sin_port = strtol(service, NULL, 0);
 	else
 	{
