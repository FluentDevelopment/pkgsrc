$NetBSD: patch-af,v 1.1 2004/12/18 19:05:54 minskim Exp $

--- xstrtok.c.orig	2004-11-09 14:16:42.000000000 -0600
+++ xstrtok.c
@@ -55,7 +55,7 @@ xstrtok(XSTRTOK *xinfo)
 
 	/* special case for space delimiter */
 	if (*xinfo->delim == ' ')
-		while (isspace(*scan))
+		while (isspace((unsigned char)*scan))
 			scan++;
 
 	/* are we finished with the line? */
@@ -85,7 +85,7 @@ xstrtok(XSTRTOK *xinfo)
 		for (dscan = xinfo->delim; *dscan != '\0';)	/* increment is in body */
 		{
 			/* have we found a delimiter? */
-			if ((*xinfo->delim == ' ' && isspace(*scan)) || *scan == *dscan++)
+			if ((*xinfo->delim == ' ' && isspace((unsigned char)*scan)) || *scan == *dscan++)
 			{
 				xinfo->scanpoint = scan + 1;	/* point to next character */
 				*scan = '\0';				/* terminate the token */
@@ -112,7 +112,7 @@ xstrtok(XSTRTOK *xinfo)
 		for (dscan = xinfo->delim; *dscan != '\0';)	/* increment is in body */
 		{
 			/* have we found a delimiter? */
-			if ((*xinfo->delim == ' ' && isspace(*scan)) || *scan == *dscan++)
+			if ((*xinfo->delim == ' ' && isspace((unsigned char)*scan)) || *scan == *dscan++)
 			{
 				xinfo->scanpoint = scan + 1;	/* point to next character */
 				*scan = '\0';					/* terminate the token */
