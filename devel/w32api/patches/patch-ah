$NetBSD: patch-ah,v 1.4 2003/09/21 16:03:40 kent Exp $

--- include/winnt.h.orig	2003-09-12 22:24:45.000000000 +0900
+++ include/winnt.h
@@ -63,6 +63,10 @@
 #endif
 typedef void* __ptr64 PVOID64;
 
+#ifdef __NetBSDPE__
+#include <stdint.h>
+typedef uint16_t WCHAR;
+#else
 #ifndef _WCHAR_T_DEFINED
 #define _WCHAR_T_DEFINED
 #ifndef _WCHAR_T_
@@ -75,6 +79,7 @@
 #endif
 
 typedef wchar_t WCHAR;
+#endif
 typedef WCHAR *PWCHAR,*LPWCH,*PWCH,*NWPSTR,*LPWSTR,*PWSTR;
 typedef CONST WCHAR *LPCWCH,*PCWCH,*LPCWSTR,*PCWSTR;
 typedef CHAR *PCHAR,*LPCH,*PCH,*NPSTR,*LPSTR,*PSTR;
@@ -2178,13 +2183,21 @@
 
 #ifndef _SLIST_HEADER_
 #define _SLIST_HEADER_
-#define SLIST_ENTRY SINGLE_LIST_ENTRY
+#ifdef __NetBSDPE__
+# define W32_SLIST_ENTRY SINGLE_LIST_ENTRY
+#else
+# define SLIST_ENTRY SINGLE_LIST_ENTRY
+#endif
 #define _SLIST_ENTRY _SINGLE_LIST_ENTRY
 #define PSLIST_ENTRY PSINGLE_LIST_ENTRY
 typedef union _SLIST_HEADER {
 	ULONGLONG Alignment;
 	_ANONYMOUS_STRUCT struct {
+#ifdef __NetBSDPE__
+		W32_SLIST_ENTRY Next;
+#else
 		SLIST_ENTRY Next;
+#endif
 		WORD Depth;
 		WORD Sequence;
 	} DUMMYSTRUCTNAME;
