$NetBSD: patch-ae,v 1.6 2003/12/06 03:01:57 epg Exp $

--- configure.orig	Wed Dec  3 17:40:04 2003
+++ configure
@@ -10494,8 +10494,9 @@ echo "$as_me: WARNING: swig bindings req
     esac
     if test "$PYTHON" != "none" -a "$SWIG_SUITABLE" = "yes"; then
       ### TODO: When it's ready, add the swig-java-lib rule here.
-      SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
-      SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
+      # XXX pkgsrc: Don't build bindings by default.
+      #SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
+      #SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
 
       echo "$as_me:$LINENO: checking for swig library directory" >&5
 echo $ECHO_N "checking for swig library directory... $ECHO_C" >&6
@@ -10582,7 +10583,7 @@ echo "${ECHO_T}$ac_cv_python_link" >&6
     fi
 
     if test "$PERL" != "none" -a "$SWIG_SUITABLE" = "yes"; then
-      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts`"
+      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts | sed s/-fno-strict-aliasing//`"
       SWIG_PL_COMPILE="`$PERL -MConfig -e 'print $Config{cc}'` \$(SWIG_PL_INCLUDES)"
       SWIG_PL_LINK="`$PERL -MConfig -e 'print $Config{ld}'` `$PERL -MConfig -e 'print $Config{lddlflags}'` `$PERL -MExtUtils::Embed -e ldopts`"
     fi
@@ -10676,8 +10677,9 @@ echo "$as_me: WARNING: swig bindings req
     esac
     if test "$PYTHON" != "none" -a "$SWIG_SUITABLE" = "yes"; then
       ### TODO: When it's ready, add the swig-java-lib rule here.
-      SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
-      SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
+      # XXX pkgsrc: Don't build bindings by default.
+      #SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
+      #SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
 
       echo "$as_me:$LINENO: checking for swig library directory" >&5
 echo $ECHO_N "checking for swig library directory... $ECHO_C" >&6
@@ -10764,7 +10766,7 @@ echo "${ECHO_T}$ac_cv_python_link" >&6
     fi
 
     if test "$PERL" != "none" -a "$SWIG_SUITABLE" = "yes"; then
-      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts`"
+      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts | sed s/-fno-strict-aliasing//`"
       SWIG_PL_COMPILE="`$PERL -MConfig -e 'print $Config{cc}'` \$(SWIG_PL_INCLUDES)"
       SWIG_PL_LINK="`$PERL -MConfig -e 'print $Config{ld}'` `$PERL -MConfig -e 'print $Config{lddlflags}'` `$PERL -MExtUtils::Embed -e ldopts`"
     fi
@@ -10861,8 +10863,9 @@ echo "$as_me: WARNING: swig bindings req
     esac
     if test "$PYTHON" != "none" -a "$SWIG_SUITABLE" = "yes"; then
       ### TODO: When it's ready, add the swig-java-lib rule here.
-      SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
-      SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
+      # XXX pkgsrc: Don't build bindings by default.
+      #SWIG_BUILD_RULES="$SWIG_BUILD_RULES swig-py-lib"
+      #SWIG_INSTALL_RULES="$SWIG_INSTALL_RULES install-swig-py-lib"
 
       echo "$as_me:$LINENO: checking for swig library directory" >&5
 echo $ECHO_N "checking for swig library directory... $ECHO_C" >&6
@@ -10949,7 +10952,7 @@ echo "${ECHO_T}$ac_cv_python_link" >&6
     fi
 
     if test "$PERL" != "none" -a "$SWIG_SUITABLE" = "yes"; then
-      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts`"
+      SWIG_PL_INCLUDES="`$PERL -MExtUtils::Embed -e ccopts | sed s/-fno-strict-aliasing//`"
       SWIG_PL_COMPILE="`$PERL -MConfig -e 'print $Config{cc}'` \$(SWIG_PL_INCLUDES)"
       SWIG_PL_LINK="`$PERL -MConfig -e 'print $Config{ld}'` `$PERL -MConfig -e 'print $Config{lddlflags}'` `$PERL -MExtUtils::Embed -e ldopts`"
     fi
