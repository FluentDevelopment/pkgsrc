$NetBSD: patch-ax,v 1.3 2006/03/22 23:53:33 jlam Exp $

--- src/unix/usystem.c.orig	2005-09-04 12:00:17.000000000 -0400
+++ src/unix/usystem.c
@@ -129,15 +129,15 @@ int _unix_find_resource(char *dest, AL_C
       }
    }
 
-   /* if it is a .dat, look in /usr/share/ and /usr/local/share/ */
+   /* if it is a .dat, look in ${PREFIX}/share/ and /usr/share/ */
    if (ustricmp(get_extension(resource), uconvert_ascii("dat", tmp)) == 0) {
-      ustrzcpy(buf, sizeof(buf), uconvert_ascii("/usr/share/allegro/", tmp));
+      ustrzcpy(buf, sizeof(buf), uconvert_ascii(INSTPREFIX "/share/allegro/", tmp));
       ustrzcat(buf, sizeof(buf), resource);
       if (exists(buf)) {
 	 ustrzcpy(dest, size, buf);
 	 return 0;
       }
-      ustrzcpy(buf, sizeof(buf), uconvert_ascii("/usr/local/share/allegro/", tmp));
+      ustrzcpy(buf, sizeof(buf), uconvert_ascii("/usr/share/allegro/", tmp));
       ustrzcat(buf, sizeof(buf), resource);
       if (exists(buf)) {
 	 ustrzcpy(dest, size, buf);
