$NetBSD: patch-ad,v 1.1 2003/09/27 13:20:25 heinz Exp $

--- lib/Razor2/Client/Core.pm.orig	Wed Nov 13 21:01:10 2002
+++ lib/Razor2/Client/Core.pm
@@ -216,8 +216,10 @@ sub bootstrap_discovery {
         foreach $rr ($query->answer) { 
             my $pushed = 0;
             if ($rr->type eq "A") { 
-                push @list, $rr->address; 
-                $pushed = 1;
+                if ($rr->address =~ m/^(\d+\.\d+\.\d+\.\d+)$/) {
+                    push @list, $1; 
+                    $pushed = 1;
+                }
             } elsif ($rr->type eq "CNAME") { 
                 if ($rr->cname eq 'list.terminator') { 
                     pop @list if $pushed;
