$NetBSD: patch-ab,v 1.2 2002/10/20 20:09:05 heinz Exp $

--- Makefile.PL.orig	Mon Oct 14 18:44:27 2002
+++ Makefile.PL
@@ -134,8 +134,8 @@
 DEF_RULES_DIR           = $(INST_PREFIX)/share/spamassassin
 PKG_DEF_RULES_DIR	= $(PREFIX)/share/spamassassin
 
-LOCAL_RULES_DIR         = $(INST_SYSCONFDIR)/mail/spamassassin
-PKG_LOCAL_RULES_DIR	= $(SYSCONFDIR)/mail/spamassassin
+LOCAL_RULES_DIR         = $(INST_SYSCONFDIR)
+PKG_LOCAL_RULES_DIR	= $(SYSCONFDIR)
 
 FIXVARS		= -Mvars \
 		  -DVERSION="$(VERSION)" \
@@ -144,7 +144,7 @@
 		  -DLOCAL_RULES_DIR="$(LOCAL_RULES_DIR)" \
 		  -DINSTALLSITELIB="$(INSTALLSITELIB)"
 
-pm_to_blib: spamassassin doc/.made
+pm_to_blib: spamassassin
 
 spamassassin: spamassassin.raw
 	$(PERL) build/preprocessor $(FIXVARS) -Msharpbang <$? >$@
@@ -163,7 +163,7 @@
 binaries.mk: configure
 	./configure
 
-inst_cfs: $(PKG_DEF_RULES_DIR) $(PKG_LOCAL_RULES_DIR) $(PKG_LOCAL_RULES_DIR)/local.cf
+inst_cfs: $(PKG_DEF_RULES_DIR) $(PKG_LOCAL_RULES_DIR)
 	$(RM_F) $(PKG_DEF_RULES_DIR)/*; \
 	for file in $(RULES) ; do \
 	  $(PERL) build/preprocessor $(FIXVARS) <rules/$$file >$(PKG_DEF_RULES_DIR)/$$file; \
@@ -171,13 +171,14 @@
 	$(CHMOD) $(PERM_RW) $(PKG_DEF_RULES_DIR)/*
 
 $(PKG_DEF_RULES_DIR):
-	$(MKPATH) $@
+	$(BSD_INSTALL_DATA_DIR) $@
 
 $(PKG_LOCAL_RULES_DIR):
-	$(MKPATH) $@
+	$(BSD_INSTALL_DATA_DIR) $@
 
 $(PKG_LOCAL_RULES_DIR)/local.cf: rules/local.cf
-	test -f $@ || \
+	\# manage local.cf through pkgsrc .mk files
+	\# test -f $@ || \
 	  $(CP) rules/local.cf $@
 
 text_html_doc: doc/.made
