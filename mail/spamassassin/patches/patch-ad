$NetBSD: patch-ad,v 1.9 2006/03/24 19:46:10 heinz Exp $

--- spamd/netbsd-rc-script.sh.orig	2006-03-10 20:30:23.000000000 +0100
+++ spamd/netbsd-rc-script.sh
@@ -4,2 +4,6 @@
 #
+# Start script for 'spamd' installed by the pkgsrc package collection
+# running on *BSD, MacOS X, Solaris, Linux, and various other U*IX-like
+# systems.
+#
 # The 'spamd' daemon checks emails provided by the 'spamc' client for signs
@@ -11,3 +15,3 @@
 
-## only for NetBSD
+## only for DragonFlyBSD/NetBSD
 # PROVIDE: spamd
@@ -36,3 +40,4 @@ sig_reload="HUP"
 
-# default values, may be overridden on NetBSD by setting them in /etc/rc.conf
+# default values, may be overridden on NetBSD/DragonFlyBSD by setting them
+# in /etc/rc.conf
 spamd_flags=${spamd_flags-"-H -c"}
@@ -41,6 +46,7 @@ spamd_fdlimit=${spamd_fdlimit-"128"}
 
-OPSYS=@OPSYS@ # set during package build
-INTERPRETER_SUPPORT=@INTERPRETER_SUPPORT@ # set during package build
+# both set during package build
+OPSYS=@OPSYS@
+INTERPRETER_SUPPORT=@INTERPRETER_SUPPORT@
 
-# A default limit of 64 (at least on NetBSD) may be too low for many
+# A default limit of 64 on NetBSD may be too low for many
 # people (eg with addional RBL rules)
@@ -98,3 +104,3 @@ spamd_reload()
 
-if [ "${OPSYS}" = "NetBSD" ]; then
+if [ "${OPSYS}" = "NetBSD" -o "${OPSYS}" = "DragonFly" ]; then
 	if checkyesno INTERPRETER_SUPPORT; then
@@ -112,3 +118,3 @@ if [ "${OPSYS}" = "NetBSD" ]; then
 
-else # not NetBSD
+else # not NetBSD or DragonFlyBSD
 
