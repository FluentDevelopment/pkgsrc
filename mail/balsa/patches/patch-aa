$NetBSD: patch-aa,v 1.10 2003/01/16 01:18:40 salo Exp $

--- configure.orig	Mon Aug 19 20:05:07 2002
+++ configure	Thu Jan 16 01:58:21 2003
@@ -6881,24 +6881,24 @@
 	
 
 
-echo $ac_n "checking for new_pspell_manager in -lpspell""... $ac_c" 1>&6
-echo "configure:6886: checking for new_pspell_manager in -lpspell" >&5
-ac_lib_var=`echo pspell'_'new_pspell_manager | sed 'y%./+-%__p_%'`
+echo $ac_n "checking for new_aspell_speller in -lpspell""... $ac_c" 1>&6
+echo "configure:6886: checking for new_aspell_speller in -lpspell" >&5
+ac_lib_var=`echo pspell'_'new_aspell_speller | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lpspell -lstdc++ -lpspell-modules $LIBS"
+LIBS="-lpspell -lstdc++ $LIBS -lm"
 cat > conftest.$ac_ext <<EOF
 #line 6894 "configure"
 #include "confdefs.h"
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
-char new_pspell_manager();
+char new_aspell_speller();
 
 int main() {
-new_pspell_manager()
+new_aspell_speller()
 ; return 0; }
 EOF
 if { (eval echo configure:6905: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
@@ -6922,7 +6922,7 @@
 #define $ac_tr_lib 1
 EOF
 
-  LIBS="-lpspell $LIBS"
+  LIBS="-lpspell -lm $LIBS"
 
 else
   echo "$ac_t""no" 1>&6
@@ -10111,10 +10111,10 @@
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
-char iconv_open();
+char libiconv_open();
 
 int main() {
-iconv_open()
+libiconv_open()
 ; return 0; }
 EOF
 if { (eval echo configure:10121: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
