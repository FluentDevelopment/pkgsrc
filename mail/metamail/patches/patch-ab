$NetBSD: patch-ab,v 1.6 2004/06/06 19:33:11 jschauma Exp $

--- config.h.orig	1993-11-24 10:36:07.000000000 -0500
+++ config.h	2004-06-06 13:08:50.000000000 -0400
@@ -40,7 +40,7 @@
 #define SYSV /* Linux is SysV */
 #endif
 
-#ifdef SVR3
+#if defined(SVR3) || defined(__sgi)
 #ifndef SYSV
 /* Stupid SGI machines define SVR3 but not SYSV */
 #define SYSV
@@ -65,6 +65,12 @@
 #endif
 #endif
 
+/* agc - test for 4.4 BSD-derived systems properly */
+#include <sys/param.h>
+#if (defined(BSD) && BSD >= 199306)
+#define __BSD_4_4__
+#endif
+
 /* NOTE:  The RESET_PROGRAM resets the terminal to a "normal" state 
    If you comment out the definition, all will be well except that metamail's
    -R switch won't work, and metamail-called programs might be more likely
@@ -100,7 +106,9 @@
 #endif
 
 #ifdef SYSV
+#if !(defined(__sun__) && defined(__svr4__))
 #define killpg(a, b) kill(-(a), (b))
+#endif
 #define bcopy(a, b, c) memcpy(b, a, c)
 #define bzero(a, b) memset(a, 0, b)
 #define bcmp memcmp
@@ -155,9 +163,13 @@
 #ifdef NeXT
 #define sigtype void
 #else
+#if defined(__BSD_4_4__)
+#define sigtype void
+#else
 #define sigtype int
 #endif
 #endif
+#endif
 
 #ifdef MSDOS
 #define PATH_SEPARATOR ';'
@@ -173,7 +185,7 @@
 #else
 #define PATH_SEPARATOR ':'
 #ifndef STDPATH
-#define STDPATH "/.mailcap:/usr/local/etc/mailcap:/usr/etc/mailcap:/etc/mailcap:/etc/mail/mailcap:/usr/public/lib/mailcap"
+#define STDPATH "/.mailcap:" PKG_SYSCONFDIR "/mailcap"
 #endif
 #endif
 #endif
